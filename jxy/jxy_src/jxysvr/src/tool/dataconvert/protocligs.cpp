#include <json/json.h>
#include "protocligs.h"
#include <dll/sdframework/sdframework.h>
#include <sstream>

CProtoCliGS::CProtoCliGS()
{
    m_vecMsgList.clear() ;
	memset(m_EncodeFuncArray, 0, sizeof(m_EncodeFuncArray));
	memset(m_DecodeFuncArray, 0, sizeof(m_DecodeFuncArray));
	m_iMaxPkgSize = 0;
	Init();
}

CProtoCliGS * CProtoCliGS::Instance()
{
   static CProtoCliGS oInst;
   return &oInst;
}

CProtoCliGS::~CProtoCliGS()
{
}

INT32 CProtoCliGS::Encode(INT32 iMsgID, void *pHost, CHAR *pNet, INT32 iNetSize)
{
	m_oData.Prepare(pNet, iNetSize, 1, 3, 1);

	EnFuncCProtoCliGS pfnEncode = FindEncodeFunc(iMsgID);
	if(NULL == pfnEncode)
		return -1;

	return (*pfnEncode)(pHost, &m_oData);
}

INT32 CProtoCliGS::Decode(INT32 iMsgID, CHAR *pNet,INT32 iNetSize, void *pHost, INT32 iHostSize)
{
	m_oData.Prepare(pNet, iNetSize, 1, 3, 1);
	if(iHostSize < m_iMaxPkgSize)
		return -1;

	DeFuncCProtoCliGS pfnDecode = FindDecodeFunc(iMsgID);
	if(NULL == pfnDecode)
		return -1;

	return (*pfnDecode)(pHost, &m_oData);
}

EnFuncCProtoCliGS CProtoCliGS::FindEncodeFunc(INT32 iMsgID)
{
	if(iMsgID - PROTOCLIGS_MSGID_OFFSET >= PROTOCLIGS_MSGID_RANGE)
		return NULL;
	return m_EncodeFuncArray[iMsgID - PROTOCLIGS_MSGID_OFFSET];
}

DeFuncCProtoCliGS CProtoCliGS::FindDecodeFunc(INT32 iMsgID)
{
	if(iMsgID - PROTOCLIGS_MSGID_OFFSET >= PROTOCLIGS_MSGID_RANGE)
		return NULL;
	return m_DecodeFuncArray[iMsgID - PROTOCLIGS_MSGID_OFFSET];
}

BOOL CProtoCliGS::Init()
{
	memset(m_EncodeFuncArray, 0, sizeof(m_EncodeFuncArray));
	memset(m_DecodeFuncArray, 0, sizeof(m_DecodeFuncArray));

	m_EncodeFuncArray[CLIGS_ENTERGS_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ENTERGS_REQ;
	m_DecodeFuncArray[CLIGS_ENTERGS_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ENTERGS_REQ;
	m_vecMsgList.push_back(CLIGS_ENTERGS_REQ);
	if( (INT32)sizeof(PKT_CLIGS_ENTERGS_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ENTERGS_REQ);

	m_EncodeFuncArray[CLIGS_ENTERGS_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ENTERGS_ACK;
	m_DecodeFuncArray[CLIGS_ENTERGS_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ENTERGS_ACK;
	m_vecMsgList.push_back(CLIGS_ENTERGS_ACK);
	if( (INT32)sizeof(PKT_CLIGS_ENTERGS_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ENTERGS_ACK);

	m_EncodeFuncArray[CLIGS_GET_HERO_INFO_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_HERO_INFO_REQ;
	m_DecodeFuncArray[CLIGS_GET_HERO_INFO_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_HERO_INFO_REQ;
	m_vecMsgList.push_back(CLIGS_GET_HERO_INFO_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GET_HERO_INFO_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_HERO_INFO_REQ);

	m_EncodeFuncArray[CLIGS_GET_HERO_INFO_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_HERO_INFO_ACK;
	m_DecodeFuncArray[CLIGS_GET_HERO_INFO_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_HERO_INFO_ACK;
	m_vecMsgList.push_back(CLIGS_GET_HERO_INFO_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GET_HERO_INFO_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_HERO_INFO_ACK);

	m_EncodeFuncArray[CLIGS_ENTER_HOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ENTER_HOME_REQ;
	m_DecodeFuncArray[CLIGS_ENTER_HOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ENTER_HOME_REQ;
	m_vecMsgList.push_back(CLIGS_ENTER_HOME_REQ);
	if( (INT32)sizeof(PKT_CLIGS_ENTER_HOME_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ENTER_HOME_REQ);

	m_EncodeFuncArray[CLIGS_ENTER_HOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ENTER_HOME_ACK;
	m_DecodeFuncArray[CLIGS_ENTER_HOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ENTER_HOME_ACK;
	m_vecMsgList.push_back(CLIGS_ENTER_HOME_ACK);
	if( (INT32)sizeof(PKT_CLIGS_ENTER_HOME_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ENTER_HOME_ACK);

	m_EncodeFuncArray[CLIGS_ENTER_INSTANCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ENTER_INSTANCE_REQ;
	m_DecodeFuncArray[CLIGS_ENTER_INSTANCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ENTER_INSTANCE_REQ;
	m_vecMsgList.push_back(CLIGS_ENTER_INSTANCE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_ENTER_INSTANCE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ENTER_INSTANCE_REQ);

	m_EncodeFuncArray[CLIGS_ENTER_INSTANCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ENTER_INSTANCE_ACK;
	m_DecodeFuncArray[CLIGS_ENTER_INSTANCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ENTER_INSTANCE_ACK;
	m_vecMsgList.push_back(CLIGS_ENTER_INSTANCE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_ENTER_INSTANCE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ENTER_INSTANCE_ACK);

	m_EncodeFuncArray[CLIGS_BATTLE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_BATTLE_REQ;
	m_DecodeFuncArray[CLIGS_BATTLE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_BATTLE_REQ;
	m_vecMsgList.push_back(CLIGS_BATTLE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_BATTLE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_BATTLE_REQ);

	m_EncodeFuncArray[CLIGS_BATTLE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_BATTLE_ACK;
	m_DecodeFuncArray[CLIGS_BATTLE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_BATTLE_ACK;
	m_vecMsgList.push_back(CLIGS_BATTLE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_BATTLE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_BATTLE_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK);

	m_EncodeFuncArray[CLIGS_EXIT_INSTANCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EXIT_INSTANCE_REQ;
	m_DecodeFuncArray[CLIGS_EXIT_INSTANCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EXIT_INSTANCE_REQ;
	m_vecMsgList.push_back(CLIGS_EXIT_INSTANCE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_EXIT_INSTANCE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EXIT_INSTANCE_REQ);

	m_EncodeFuncArray[CLIGS_EXIT_INSTANCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EXIT_INSTANCE_ACK;
	m_DecodeFuncArray[CLIGS_EXIT_INSTANCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EXIT_INSTANCE_ACK;
	m_vecMsgList.push_back(CLIGS_EXIT_INSTANCE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_EXIT_INSTANCE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EXIT_INSTANCE_ACK);

	m_EncodeFuncArray[CLIGS_GET_SCENE_INSTANCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_SCENE_INSTANCE_REQ;
	m_DecodeFuncArray[CLIGS_GET_SCENE_INSTANCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_SCENE_INSTANCE_REQ;
	m_vecMsgList.push_back(CLIGS_GET_SCENE_INSTANCE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GET_SCENE_INSTANCE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_SCENE_INSTANCE_REQ);

	m_EncodeFuncArray[CLIGS_GET_SCENE_INSTANCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_SCENE_INSTANCE_ACK;
	m_DecodeFuncArray[CLIGS_GET_SCENE_INSTANCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_SCENE_INSTANCE_ACK;
	m_vecMsgList.push_back(CLIGS_GET_SCENE_INSTANCE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GET_SCENE_INSTANCE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_SCENE_INSTANCE_ACK);

	m_EncodeFuncArray[CLIGS_EQUIP_STRENGTHEN_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EQUIP_STRENGTHEN_REQ;
	m_DecodeFuncArray[CLIGS_EQUIP_STRENGTHEN_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EQUIP_STRENGTHEN_REQ;
	m_vecMsgList.push_back(CLIGS_EQUIP_STRENGTHEN_REQ);
	if( (INT32)sizeof(PKT_CLIGS_EQUIP_STRENGTHEN_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EQUIP_STRENGTHEN_REQ);

	m_EncodeFuncArray[CLIGS_EQUIP_STRENGTHEN_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EQUIP_STRENGTHEN_ACK;
	m_DecodeFuncArray[CLIGS_EQUIP_STRENGTHEN_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EQUIP_STRENGTHEN_ACK;
	m_vecMsgList.push_back(CLIGS_EQUIP_STRENGTHEN_ACK);
	if( (INT32)sizeof(PKT_CLIGS_EQUIP_STRENGTHEN_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EQUIP_STRENGTHEN_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_SMITHY_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SMITHY_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_SMITHY_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SMITHY_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_SMITHY_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SMITHY_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SMITHY_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_SMITHY_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SMITHY_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_SMITHY_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SMITHY_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_SMITHY_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SMITHY_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SMITHY_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_RECRUIT_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_RECRUIT_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_RECRUIT_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_RECRUIT_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_RECRUIT_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_RECRUIT_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_RECRUIT_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_RECRUIT_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_RECRUIT_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_RECRUIT_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_RECRUIT_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_RECRUIT_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_RECRUIT_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_RECRUIT_ACK);

	m_EncodeFuncArray[CLIGS_RECRUIT_HERO_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECRUIT_HERO_REQ;
	m_DecodeFuncArray[CLIGS_RECRUIT_HERO_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECRUIT_HERO_REQ;
	m_vecMsgList.push_back(CLIGS_RECRUIT_HERO_REQ);
	if( (INT32)sizeof(PKT_CLIGS_RECRUIT_HERO_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECRUIT_HERO_REQ);

	m_EncodeFuncArray[CLIGS_RECRUIT_HERO_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECRUIT_HERO_ACK;
	m_DecodeFuncArray[CLIGS_RECRUIT_HERO_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECRUIT_HERO_ACK;
	m_vecMsgList.push_back(CLIGS_RECRUIT_HERO_ACK);
	if( (INT32)sizeof(PKT_CLIGS_RECRUIT_HERO_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECRUIT_HERO_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_BAG_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_BAG_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_BAG_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_BAG_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_BAG_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_BAG_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_BAG_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_BAG_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_BAG_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_BAG_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_BAG_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_BAG_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_BAG_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_BAG_ACK);

	m_EncodeFuncArray[CLIGS_RECV_TASK_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_TASK_ENCOURAGE_REQ;
	m_DecodeFuncArray[CLIGS_RECV_TASK_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_TASK_ENCOURAGE_REQ;
	m_vecMsgList.push_back(CLIGS_RECV_TASK_ENCOURAGE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ);

	m_EncodeFuncArray[CLIGS_RECV_TASK_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_TASK_ENCOURAGE_ACK;
	m_DecodeFuncArray[CLIGS_RECV_TASK_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_TASK_ENCOURAGE_ACK;
	m_vecMsgList.push_back(CLIGS_RECV_TASK_ENCOURAGE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_RACE_BUILD_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_RACE_BUILD_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_RACE_BUILD_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_RACE_BUILD_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_RACE_BUILD_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_RACE_BUILD_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_RACE_BUILD_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_RACE_BUILD_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_RACE_BUILD_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_RACE_BUILD_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_RACE_BUILD_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_RACE_BUILD_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_RACE_BUILD_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_RACE_BUILD_ACK);

	m_EncodeFuncArray[CLIGS_CHALLENGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CHALLENGE_REQ;
	m_DecodeFuncArray[CLIGS_CHALLENGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CHALLENGE_REQ;
	m_vecMsgList.push_back(CLIGS_CHALLENGE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CHALLENGE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CHALLENGE_REQ);

	m_EncodeFuncArray[CLIGS_CHALLENGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CHALLENGE_ACK;
	m_DecodeFuncArray[CLIGS_CHALLENGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CHALLENGE_ACK;
	m_vecMsgList.push_back(CLIGS_CHALLENGE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_CHALLENGE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CHALLENGE_ACK);

	m_EncodeFuncArray[CLIGS_RECV_RANK_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_RANK_ENCOURAGE_REQ;
	m_DecodeFuncArray[CLIGS_RECV_RANK_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_RANK_ENCOURAGE_REQ;
	m_vecMsgList.push_back(CLIGS_RECV_RANK_ENCOURAGE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ);

	m_EncodeFuncArray[CLIGS_RECV_RANK_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_RANK_ENCOURAGE_ACK;
	m_DecodeFuncArray[CLIGS_RECV_RANK_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_RANK_ENCOURAGE_ACK;
	m_vecMsgList.push_back(CLIGS_RECV_RANK_ENCOURAGE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_SHOP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SHOP_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_SHOP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SHOP_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_SHOP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SHOP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SHOP_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_SHOP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SHOP_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_SHOP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SHOP_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_SHOP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SHOP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SHOP_ACK);

	m_EncodeFuncArray[CLIGS_BUY_ITEM_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_BUY_ITEM_REQ;
	m_DecodeFuncArray[CLIGS_BUY_ITEM_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_BUY_ITEM_REQ;
	m_vecMsgList.push_back(CLIGS_BUY_ITEM_REQ);
	if( (INT32)sizeof(PKT_CLIGS_BUY_ITEM_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_BUY_ITEM_REQ);

	m_EncodeFuncArray[CLIGS_BUY_ITEM_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_BUY_ITEM_ACK;
	m_DecodeFuncArray[CLIGS_BUY_ITEM_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_BUY_ITEM_ACK;
	m_vecMsgList.push_back(CLIGS_BUY_ITEM_ACK);
	if( (INT32)sizeof(PKT_CLIGS_BUY_ITEM_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_BUY_ITEM_ACK);

	m_EncodeFuncArray[CLIGS_SELL_ITEM_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SELL_ITEM_REQ;
	m_DecodeFuncArray[CLIGS_SELL_ITEM_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SELL_ITEM_REQ;
	m_vecMsgList.push_back(CLIGS_SELL_ITEM_REQ);
	if( (INT32)sizeof(PKT_CLIGS_SELL_ITEM_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SELL_ITEM_REQ);

	m_EncodeFuncArray[CLIGS_SELL_ITEM_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SELL_ITEM_ACK;
	m_DecodeFuncArray[CLIGS_SELL_ITEM_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SELL_ITEM_ACK;
	m_vecMsgList.push_back(CLIGS_SELL_ITEM_ACK);
	if( (INT32)sizeof(PKT_CLIGS_SELL_ITEM_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SELL_ITEM_ACK);

	m_EncodeFuncArray[CLIGS_DISBAND_HERO_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DISBAND_HERO_REQ;
	m_DecodeFuncArray[CLIGS_DISBAND_HERO_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DISBAND_HERO_REQ;
	m_vecMsgList.push_back(CLIGS_DISBAND_HERO_REQ);
	if( (INT32)sizeof(PKT_CLIGS_DISBAND_HERO_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DISBAND_HERO_REQ);

	m_EncodeFuncArray[CLIGS_DISBAND_HERO_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DISBAND_HERO_ACK;
	m_DecodeFuncArray[CLIGS_DISBAND_HERO_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DISBAND_HERO_ACK;
	m_vecMsgList.push_back(CLIGS_DISBAND_HERO_ACK);
	if( (INT32)sizeof(PKT_CLIGS_DISBAND_HERO_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DISBAND_HERO_ACK);

	m_EncodeFuncArray[CLIGS_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EQUIP_REQ;
	m_DecodeFuncArray[CLIGS_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EQUIP_REQ;
	m_vecMsgList.push_back(CLIGS_EQUIP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_EQUIP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EQUIP_REQ);

	m_EncodeFuncArray[CLIGS_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EQUIP_ACK;
	m_DecodeFuncArray[CLIGS_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EQUIP_ACK;
	m_vecMsgList.push_back(CLIGS_EQUIP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_EQUIP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EQUIP_ACK);

	m_EncodeFuncArray[CLIGS_REGISTER_USERNAME_NTF - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_REGISTER_USERNAME_NTF;
	m_DecodeFuncArray[CLIGS_REGISTER_USERNAME_NTF - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_REGISTER_USERNAME_NTF;
	m_vecMsgList.push_back(CLIGS_REGISTER_USERNAME_NTF);
	if( (INT32)sizeof(PKT_CLIGS_REGISTER_USERNAME_NTF) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_REGISTER_USERNAME_NTF);

	m_EncodeFuncArray[CLIGS_EMBATTLE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EMBATTLE_REQ;
	m_DecodeFuncArray[CLIGS_EMBATTLE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EMBATTLE_REQ;
	m_vecMsgList.push_back(CLIGS_EMBATTLE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_EMBATTLE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EMBATTLE_REQ);

	m_EncodeFuncArray[CLIGS_EMBATTLE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EMBATTLE_ACK;
	m_DecodeFuncArray[CLIGS_EMBATTLE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EMBATTLE_ACK;
	m_vecMsgList.push_back(CLIGS_EMBATTLE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_EMBATTLE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EMBATTLE_ACK);

	m_EncodeFuncArray[CLIGS_CLR_PLAYER_DATA_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_PLAYER_DATA_REQ;
	m_DecodeFuncArray[CLIGS_CLR_PLAYER_DATA_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_PLAYER_DATA_REQ;
	m_vecMsgList.push_back(CLIGS_CLR_PLAYER_DATA_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CLR_PLAYER_DATA_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_PLAYER_DATA_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_EMBATTLE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_EMBATTLE_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_EMBATTLE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_EMBATTLE_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_EMBATTLE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_EMBATTLE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_EMBATTLE_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_EMBATTLE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_EMBATTLE_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_EMBATTLE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_EMBATTLE_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_EMBATTLE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_EMBATTLE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_EMBATTLE_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_ITEM_MAKER_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_ITEM_MAKER_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_ITEM_MAKER_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_ITEM_MAKER_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_ITEM_MAKER_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_ITEM_MAKER_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_ITEM_MAKER_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_ITEM_MAKER_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_ITEM_MAKER_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_ITEM_MAKER_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_ITEM_MAKER_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_ITEM_MAKER_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_ITEM_MAKER_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_ITEM_MAKER_ACK);

	m_EncodeFuncArray[CLIGS_MAKE_ITEM_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_MAKE_ITEM_REQ;
	m_DecodeFuncArray[CLIGS_MAKE_ITEM_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_MAKE_ITEM_REQ;
	m_vecMsgList.push_back(CLIGS_MAKE_ITEM_REQ);
	if( (INT32)sizeof(PKT_CLIGS_MAKE_ITEM_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_MAKE_ITEM_REQ);

	m_EncodeFuncArray[CLIGS_MAKE_ITEM_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_MAKE_ITEM_ACK;
	m_DecodeFuncArray[CLIGS_MAKE_ITEM_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_MAKE_ITEM_ACK;
	m_vecMsgList.push_back(CLIGS_MAKE_ITEM_ACK);
	if( (INT32)sizeof(PKT_CLIGS_MAKE_ITEM_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_MAKE_ITEM_ACK);

	m_EncodeFuncArray[CLIGS_GET_HERO_DRUG_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_HERO_DRUG_REQ;
	m_DecodeFuncArray[CLIGS_GET_HERO_DRUG_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_HERO_DRUG_REQ;
	m_vecMsgList.push_back(CLIGS_GET_HERO_DRUG_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GET_HERO_DRUG_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_HERO_DRUG_REQ);

	m_EncodeFuncArray[CLIGS_GET_HERO_DRUG_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_HERO_DRUG_ACK;
	m_DecodeFuncArray[CLIGS_GET_HERO_DRUG_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_HERO_DRUG_ACK;
	m_vecMsgList.push_back(CLIGS_GET_HERO_DRUG_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GET_HERO_DRUG_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_HERO_DRUG_ACK);

	m_EncodeFuncArray[CLIGS_ONHOOK_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ONHOOK_REQ;
	m_DecodeFuncArray[CLIGS_ONHOOK_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ONHOOK_REQ;
	m_vecMsgList.push_back(CLIGS_ONHOOK_REQ);
	if( (INT32)sizeof(PKT_CLIGS_ONHOOK_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ONHOOK_REQ);

	m_EncodeFuncArray[CLIGS_ONHOOK_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ONHOOK_ACK;
	m_DecodeFuncArray[CLIGS_ONHOOK_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ONHOOK_ACK;
	m_vecMsgList.push_back(CLIGS_ONHOOK_ACK);
	if( (INT32)sizeof(PKT_CLIGS_ONHOOK_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ONHOOK_ACK);

	m_EncodeFuncArray[CLIGS_RECV_ONLINE_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ;
	m_DecodeFuncArray[CLIGS_RECV_ONLINE_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ;
	m_vecMsgList.push_back(CLIGS_RECV_ONLINE_ENCOURAGE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ);

	m_EncodeFuncArray[CLIGS_RECV_ONLINE_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK;
	m_DecodeFuncArray[CLIGS_RECV_ONLINE_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK;
	m_vecMsgList.push_back(CLIGS_RECV_ONLINE_ENCOURAGE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK);

	m_EncodeFuncArray[CLIGS_INCREASE_BAG_SIZE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_INCREASE_BAG_SIZE_REQ;
	m_DecodeFuncArray[CLIGS_INCREASE_BAG_SIZE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_INCREASE_BAG_SIZE_REQ;
	m_vecMsgList.push_back(CLIGS_INCREASE_BAG_SIZE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_INCREASE_BAG_SIZE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_INCREASE_BAG_SIZE_REQ);

	m_EncodeFuncArray[CLIGS_INCREASE_BAG_SIZE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_INCREASE_BAG_SIZE_ACK;
	m_DecodeFuncArray[CLIGS_INCREASE_BAG_SIZE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_INCREASE_BAG_SIZE_ACK;
	m_vecMsgList.push_back(CLIGS_INCREASE_BAG_SIZE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_INCREASE_BAG_SIZE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_INCREASE_BAG_SIZE_ACK);

	m_EncodeFuncArray[CLIGS_CLR_CHALLENGE_CD_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_CHALLENGE_CD_REQ;
	m_DecodeFuncArray[CLIGS_CLR_CHALLENGE_CD_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_CHALLENGE_CD_REQ;
	m_vecMsgList.push_back(CLIGS_CLR_CHALLENGE_CD_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CLR_CHALLENGE_CD_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_CHALLENGE_CD_REQ);

	m_EncodeFuncArray[CLIGS_CLR_CHALLENGE_CD_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_CHALLENGE_CD_ACK;
	m_DecodeFuncArray[CLIGS_CLR_CHALLENGE_CD_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_CHALLENGE_CD_ACK;
	m_vecMsgList.push_back(CLIGS_CLR_CHALLENGE_CD_ACK);
	if( (INT32)sizeof(PKT_CLIGS_CLR_CHALLENGE_CD_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_CHALLENGE_CD_ACK);

	m_EncodeFuncArray[CLIGS_SYNC_TIME_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SYNC_TIME_REQ;
	m_DecodeFuncArray[CLIGS_SYNC_TIME_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SYNC_TIME_REQ;
	m_vecMsgList.push_back(CLIGS_SYNC_TIME_REQ);
	if( (INT32)sizeof(PKT_CLIGS_SYNC_TIME_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SYNC_TIME_REQ);

	m_EncodeFuncArray[CLIGS_SYNC_TIME_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SYNC_TIME_ACK;
	m_DecodeFuncArray[CLIGS_SYNC_TIME_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SYNC_TIME_ACK;
	m_vecMsgList.push_back(CLIGS_SYNC_TIME_ACK);
	if( (INT32)sizeof(PKT_CLIGS_SYNC_TIME_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SYNC_TIME_ACK);

	m_EncodeFuncArray[CLILS_REGISTER_DSPNAME_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_REGISTER_DSPNAME_REQ;
	m_DecodeFuncArray[CLILS_REGISTER_DSPNAME_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_REGISTER_DSPNAME_REQ;
	m_vecMsgList.push_back(CLILS_REGISTER_DSPNAME_REQ);
	if( (INT32)sizeof(PKT_CLILS_REGISTER_DSPNAME_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_REGISTER_DSPNAME_REQ);

	m_EncodeFuncArray[CLILS_REGISTER_DSPNAME_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_REGISTER_DSPNAME_ACK;
	m_DecodeFuncArray[CLILS_REGISTER_DSPNAME_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_REGISTER_DSPNAME_ACK;
	m_vecMsgList.push_back(CLILS_REGISTER_DSPNAME_ACK);
	if( (INT32)sizeof(PKT_CLILS_REGISTER_DSPNAME_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_REGISTER_DSPNAME_ACK);

	m_EncodeFuncArray[CLILS_USE_GOODS_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_USE_GOODS_REQ;
	m_DecodeFuncArray[CLILS_USE_GOODS_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_USE_GOODS_REQ;
	m_vecMsgList.push_back(CLILS_USE_GOODS_REQ);
	if( (INT32)sizeof(PKT_CLILS_USE_GOODS_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_USE_GOODS_REQ);

	m_EncodeFuncArray[CLILS_USE_GOODS_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_USE_GOODS_ACK;
	m_DecodeFuncArray[CLILS_USE_GOODS_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_USE_GOODS_ACK;
	m_vecMsgList.push_back(CLILS_USE_GOODS_ACK);
	if( (INT32)sizeof(PKT_CLILS_USE_GOODS_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_USE_GOODS_ACK);

	m_EncodeFuncArray[CLILS_OPEN_LOGIN_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ;
	m_DecodeFuncArray[CLILS_OPEN_LOGIN_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ;
	m_vecMsgList.push_back(CLILS_OPEN_LOGIN_ENCOURAGE_REQ);
	if( (INT32)sizeof(PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ);

	m_EncodeFuncArray[CLILS_OPEN_LOGIN_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK;
	m_DecodeFuncArray[CLILS_OPEN_LOGIN_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK;
	m_vecMsgList.push_back(CLILS_OPEN_LOGIN_ENCOURAGE_ACK);
	if( (INT32)sizeof(PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK);

	m_EncodeFuncArray[CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ;
	m_DecodeFuncArray[CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ;
	m_vecMsgList.push_back(CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ);
	if( (INT32)sizeof(PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ);

	m_EncodeFuncArray[CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK;
	m_DecodeFuncArray[CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK;
	m_vecMsgList.push_back(CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK);
	if( (INT32)sizeof(PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK);

	m_EncodeFuncArray[CLILS_RATE_LOGIN_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ;
	m_DecodeFuncArray[CLILS_RATE_LOGIN_ENCOURAGE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ;
	m_vecMsgList.push_back(CLILS_RATE_LOGIN_ENCOURAGE_REQ);
	if( (INT32)sizeof(PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ);

	m_EncodeFuncArray[CLILS_RATE_LOGIN_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK;
	m_DecodeFuncArray[CLILS_RATE_LOGIN_ENCOURAGE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK;
	m_vecMsgList.push_back(CLILS_RATE_LOGIN_ENCOURAGE_ACK);
	if( (INT32)sizeof(PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK);

	m_EncodeFuncArray[CLIGS_GET_RANK_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_RANK_REQ;
	m_DecodeFuncArray[CLIGS_GET_RANK_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_RANK_REQ;
	m_vecMsgList.push_back(CLIGS_GET_RANK_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GET_RANK_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_RANK_REQ);

	m_EncodeFuncArray[CLIGS_GET_RANK_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_RANK_ACK;
	m_DecodeFuncArray[CLIGS_GET_RANK_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_RANK_ACK;
	m_vecMsgList.push_back(CLIGS_GET_RANK_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GET_RANK_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_RANK_ACK);

	m_EncodeFuncArray[CLIGS_GET_RACE_BATTLELOG_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_RACE_BATTLELOG_REQ;
	m_DecodeFuncArray[CLIGS_GET_RACE_BATTLELOG_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_RACE_BATTLELOG_REQ;
	m_vecMsgList.push_back(CLIGS_GET_RACE_BATTLELOG_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GET_RACE_BATTLELOG_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_RACE_BATTLELOG_REQ);

	m_EncodeFuncArray[CLIGS_GET_RACE_BATTLELOG_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_RACE_BATTLELOG_ACK;
	m_DecodeFuncArray[CLIGS_GET_RACE_BATTLELOG_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_RACE_BATTLELOG_ACK;
	m_vecMsgList.push_back(CLIGS_GET_RACE_BATTLELOG_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GET_RACE_BATTLELOG_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_RACE_BATTLELOG_ACK);

	m_EncodeFuncArray[CLIGS_ACCEPT_TASK_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ACCEPT_TASK_REQ;
	m_DecodeFuncArray[CLIGS_ACCEPT_TASK_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ACCEPT_TASK_REQ;
	m_vecMsgList.push_back(CLIGS_ACCEPT_TASK_REQ);
	if( (INT32)sizeof(PKT_CLIGS_ACCEPT_TASK_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ACCEPT_TASK_REQ);

	m_EncodeFuncArray[CLIGS_ACCEPT_TASK_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ACCEPT_TASK_ACK;
	m_DecodeFuncArray[CLIGS_ACCEPT_TASK_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ACCEPT_TASK_ACK;
	m_vecMsgList.push_back(CLIGS_ACCEPT_TASK_ACK);
	if( (INT32)sizeof(PKT_CLIGS_ACCEPT_TASK_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ACCEPT_TASK_ACK);

	m_EncodeFuncArray[CLIGS_GIVEUP_TASK_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GIVEUP_TASK_REQ;
	m_DecodeFuncArray[CLIGS_GIVEUP_TASK_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GIVEUP_TASK_REQ;
	m_vecMsgList.push_back(CLIGS_GIVEUP_TASK_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GIVEUP_TASK_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GIVEUP_TASK_REQ);

	m_EncodeFuncArray[CLIGS_GIVEUP_TASK_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GIVEUP_TASK_ACK;
	m_DecodeFuncArray[CLIGS_GIVEUP_TASK_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GIVEUP_TASK_ACK;
	m_vecMsgList.push_back(CLIGS_GIVEUP_TASK_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GIVEUP_TASK_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GIVEUP_TASK_ACK);

	m_EncodeFuncArray[CLIGS_PLUNDER_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_PLUNDER_REQ;
	m_DecodeFuncArray[CLIGS_PLUNDER_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_PLUNDER_REQ;
	m_vecMsgList.push_back(CLIGS_PLUNDER_REQ);
	if( (INT32)sizeof(PKT_CLIGS_PLUNDER_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_PLUNDER_REQ);

	m_EncodeFuncArray[CLIGS_PLUNDER_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_PLUNDER_ACK;
	m_DecodeFuncArray[CLIGS_PLUNDER_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_PLUNDER_ACK;
	m_vecMsgList.push_back(CLIGS_PLUNDER_ACK);
	if( (INT32)sizeof(PKT_CLIGS_PLUNDER_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_PLUNDER_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_CAPTURE_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_CAPTURE_TAB_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_CAPTURE_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_CAPTURE_TAB_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_CAPTURE_TAB_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_CAPTURE_TAB_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_CAPTURE_TAB_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_CAPTURE_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_CAPTURE_TAB_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_CAPTURE_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_CAPTURE_TAB_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_CAPTURE_TAB_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_CAPTURE_TAB_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_CAPTURE_TAB_ACK);

	m_EncodeFuncArray[CLIGS_COLLECT_INCOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_COLLECT_INCOME_REQ;
	m_DecodeFuncArray[CLIGS_COLLECT_INCOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_COLLECT_INCOME_REQ;
	m_vecMsgList.push_back(CLIGS_COLLECT_INCOME_REQ);
	if( (INT32)sizeof(PKT_CLIGS_COLLECT_INCOME_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_COLLECT_INCOME_REQ);

	m_EncodeFuncArray[CLIGS_COLLECT_INCOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_COLLECT_INCOME_ACK;
	m_DecodeFuncArray[CLIGS_COLLECT_INCOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_COLLECT_INCOME_ACK;
	m_vecMsgList.push_back(CLIGS_COLLECT_INCOME_ACK);
	if( (INT32)sizeof(PKT_CLIGS_COLLECT_INCOME_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_COLLECT_INCOME_ACK);

	m_EncodeFuncArray[CLIGS_BLEED_CAPTURE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_BLEED_CAPTURE_REQ;
	m_DecodeFuncArray[CLIGS_BLEED_CAPTURE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_BLEED_CAPTURE_REQ;
	m_vecMsgList.push_back(CLIGS_BLEED_CAPTURE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_BLEED_CAPTURE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_BLEED_CAPTURE_REQ);

	m_EncodeFuncArray[CLIGS_BLEED_CAPTURE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_BLEED_CAPTURE_ACK;
	m_DecodeFuncArray[CLIGS_BLEED_CAPTURE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_BLEED_CAPTURE_ACK;
	m_vecMsgList.push_back(CLIGS_BLEED_CAPTURE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_BLEED_CAPTURE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_BLEED_CAPTURE_ACK);

	m_EncodeFuncArray[CLIGS_DEL_ENEMY_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DEL_ENEMY_REQ;
	m_DecodeFuncArray[CLIGS_DEL_ENEMY_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DEL_ENEMY_REQ;
	m_vecMsgList.push_back(CLIGS_DEL_ENEMY_REQ);
	if( (INT32)sizeof(PKT_CLIGS_DEL_ENEMY_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DEL_ENEMY_REQ);

	m_EncodeFuncArray[CLIGS_DEL_ENEMY_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DEL_ENEMY_ACK;
	m_DecodeFuncArray[CLIGS_DEL_ENEMY_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DEL_ENEMY_ACK;
	m_vecMsgList.push_back(CLIGS_DEL_ENEMY_ACK);
	if( (INT32)sizeof(PKT_CLIGS_DEL_ENEMY_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DEL_ENEMY_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_ENEMY_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_ENEMY_TAB_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_ENEMY_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_ENEMY_TAB_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_ENEMY_TAB_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_ENEMY_TAB_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_ENEMY_TAB_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_ENEMY_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_ENEMY_TAB_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_ENEMY_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_ENEMY_TAB_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_ENEMY_TAB_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_ENEMY_TAB_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_ENEMY_TAB_ACK);

	m_EncodeFuncArray[CLIGS_PLUNDER_BATTLELOG_NTF - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_PLUNDER_BATTLELOG_NTF;
	m_DecodeFuncArray[CLIGS_PLUNDER_BATTLELOG_NTF - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_PLUNDER_BATTLELOG_NTF;
	m_vecMsgList.push_back(CLIGS_PLUNDER_BATTLELOG_NTF);
	if( (INT32)sizeof(PKT_CLIGS_PLUNDER_BATTLELOG_NTF) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_PLUNDER_BATTLELOG_NTF);

	m_EncodeFuncArray[CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK);

	m_EncodeFuncArray[CLIGS_FREE_CAPTURE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_FREE_CAPTURE_REQ;
	m_DecodeFuncArray[CLIGS_FREE_CAPTURE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_FREE_CAPTURE_REQ;
	m_vecMsgList.push_back(CLIGS_FREE_CAPTURE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_FREE_CAPTURE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_FREE_CAPTURE_REQ);

	m_EncodeFuncArray[CLIGS_FREE_CAPTURE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_FREE_CAPTURE_ACK;
	m_DecodeFuncArray[CLIGS_FREE_CAPTURE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_FREE_CAPTURE_ACK;
	m_vecMsgList.push_back(CLIGS_FREE_CAPTURE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_FREE_CAPTURE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_FREE_CAPTURE_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_MONEY_TREE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_MONEY_TREE_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_MONEY_TREE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_MONEY_TREE_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_MONEY_TREE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_MONEY_TREE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_MONEY_TREE_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_MONEY_TREE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_MONEY_TREE_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_MONEY_TREE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_MONEY_TREE_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_MONEY_TREE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_MONEY_TREE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_MONEY_TREE_ACK);

	m_EncodeFuncArray[CLIGS_ROCK_MONEY_TREE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ROCK_MONEY_TREE_REQ;
	m_DecodeFuncArray[CLIGS_ROCK_MONEY_TREE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ROCK_MONEY_TREE_REQ;
	m_vecMsgList.push_back(CLIGS_ROCK_MONEY_TREE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_ROCK_MONEY_TREE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ROCK_MONEY_TREE_REQ);

	m_EncodeFuncArray[CLIGS_ROCK_MONEY_TREE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ROCK_MONEY_TREE_ACK;
	m_DecodeFuncArray[CLIGS_ROCK_MONEY_TREE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ROCK_MONEY_TREE_ACK;
	m_vecMsgList.push_back(CLIGS_ROCK_MONEY_TREE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_ROCK_MONEY_TREE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ROCK_MONEY_TREE_ACK);

	m_EncodeFuncArray[CLIGS_GET_PLUNDER_BATTLELOG_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ;
	m_DecodeFuncArray[CLIGS_GET_PLUNDER_BATTLELOG_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ;
	m_vecMsgList.push_back(CLIGS_GET_PLUNDER_BATTLELOG_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ);

	m_EncodeFuncArray[CLIGS_GET_PLUNDER_BATTLELOG_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK;
	m_DecodeFuncArray[CLIGS_GET_PLUNDER_BATTLELOG_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK;
	m_vecMsgList.push_back(CLIGS_GET_PLUNDER_BATTLELOG_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_GODWEAPON_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_GODWEAPON_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_GODWEAPON_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_GODWEAPON_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_GODWEAPON_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_GODWEAPON_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_GODWEAPON_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_GODWEAPON_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_GODWEAPON_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_GODWEAPON_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_GODWEAPON_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_GODWEAPON_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_GODWEAPON_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_GODWEAPON_ACK);

	m_EncodeFuncArray[CLIGS_UPGRADE_GODWEAPON_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPGRADE_GODWEAPON_REQ;
	m_DecodeFuncArray[CLIGS_UPGRADE_GODWEAPON_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPGRADE_GODWEAPON_REQ;
	m_vecMsgList.push_back(CLIGS_UPGRADE_GODWEAPON_REQ);
	if( (INT32)sizeof(PKT_CLIGS_UPGRADE_GODWEAPON_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPGRADE_GODWEAPON_REQ);

	m_EncodeFuncArray[CLIGS_UPGRADE_GODWEAPON_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPGRADE_GODWEAPON_ACK;
	m_DecodeFuncArray[CLIGS_UPGRADE_GODWEAPON_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPGRADE_GODWEAPON_ACK;
	m_vecMsgList.push_back(CLIGS_UPGRADE_GODWEAPON_ACK);
	if( (INT32)sizeof(PKT_CLIGS_UPGRADE_GODWEAPON_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPGRADE_GODWEAPON_ACK);

	m_EncodeFuncArray[CLIGS_FREE_GODWEAPON_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_FREE_GODWEAPON_REQ;
	m_DecodeFuncArray[CLIGS_FREE_GODWEAPON_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_FREE_GODWEAPON_REQ;
	m_vecMsgList.push_back(CLIGS_FREE_GODWEAPON_REQ);
	if( (INT32)sizeof(PKT_CLIGS_FREE_GODWEAPON_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_FREE_GODWEAPON_REQ);

	m_EncodeFuncArray[CLIGS_FREE_GODWEAPON_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_FREE_GODWEAPON_ACK;
	m_DecodeFuncArray[CLIGS_FREE_GODWEAPON_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_FREE_GODWEAPON_ACK;
	m_vecMsgList.push_back(CLIGS_FREE_GODWEAPON_ACK);
	if( (INT32)sizeof(PKT_CLIGS_FREE_GODWEAPON_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_FREE_GODWEAPON_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_AWAKEN_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_AWAKEN_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_AWAKEN_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_AWAKEN_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_AWAKEN_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_AWAKEN_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_AWAKEN_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_AWAKEN_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_AWAKEN_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_AWAKEN_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_AWAKEN_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_AWAKEN_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_AWAKEN_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_AWAKEN_ACK);

	m_EncodeFuncArray[CLIGS_AWAKEN_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_AWAKEN_REQ;
	m_DecodeFuncArray[CLIGS_AWAKEN_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_AWAKEN_REQ;
	m_vecMsgList.push_back(CLIGS_AWAKEN_REQ);
	if( (INT32)sizeof(PKT_CLIGS_AWAKEN_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_AWAKEN_REQ);

	m_EncodeFuncArray[CLIGS_AWAKEN_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_AWAKEN_ACK;
	m_DecodeFuncArray[CLIGS_AWAKEN_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_AWAKEN_ACK;
	m_vecMsgList.push_back(CLIGS_AWAKEN_ACK);
	if( (INT32)sizeof(PKT_CLIGS_AWAKEN_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_AWAKEN_ACK);

	m_EncodeFuncArray[CLIGS_PICKUP_STUDY_CLIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_PICKUP_STUDY_CLIP_REQ;
	m_DecodeFuncArray[CLIGS_PICKUP_STUDY_CLIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_PICKUP_STUDY_CLIP_REQ;
	m_vecMsgList.push_back(CLIGS_PICKUP_STUDY_CLIP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_PICKUP_STUDY_CLIP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_PICKUP_STUDY_CLIP_REQ);

	m_EncodeFuncArray[CLIGS_PICKUP_STUDY_CLIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_PICKUP_STUDY_CLIP_ACK;
	m_DecodeFuncArray[CLIGS_PICKUP_STUDY_CLIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_PICKUP_STUDY_CLIP_ACK;
	m_vecMsgList.push_back(CLIGS_PICKUP_STUDY_CLIP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_PICKUP_STUDY_CLIP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_PICKUP_STUDY_CLIP_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_STUDY_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_STUDY_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_STUDY_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_STUDY_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_STUDY_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_STUDY_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_STUDY_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_STUDY_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_STUDY_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_STUDY_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_STUDY_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_STUDY_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_STUDY_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_STUDY_ACK);

	m_EncodeFuncArray[CLIGS_DRESS_STUDY_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DRESS_STUDY_REQ;
	m_DecodeFuncArray[CLIGS_DRESS_STUDY_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DRESS_STUDY_REQ;
	m_vecMsgList.push_back(CLIGS_DRESS_STUDY_REQ);
	if( (INT32)sizeof(PKT_CLIGS_DRESS_STUDY_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DRESS_STUDY_REQ);

	m_EncodeFuncArray[CLIGS_DRESS_STUDY_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DRESS_STUDY_ACK;
	m_DecodeFuncArray[CLIGS_DRESS_STUDY_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DRESS_STUDY_ACK;
	m_vecMsgList.push_back(CLIGS_DRESS_STUDY_ACK);
	if( (INT32)sizeof(PKT_CLIGS_DRESS_STUDY_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DRESS_STUDY_ACK);

	m_EncodeFuncArray[CLIGS_STUDY_CLIP_TO_EXP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_CLIP_TO_EXP_REQ;
	m_DecodeFuncArray[CLIGS_STUDY_CLIP_TO_EXP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_CLIP_TO_EXP_REQ;
	m_vecMsgList.push_back(CLIGS_STUDY_CLIP_TO_EXP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ);

	m_EncodeFuncArray[CLIGS_STUDY_CLIP_TO_EXP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_CLIP_TO_EXP_ACK;
	m_DecodeFuncArray[CLIGS_STUDY_CLIP_TO_EXP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_CLIP_TO_EXP_ACK;
	m_vecMsgList.push_back(CLIGS_STUDY_CLIP_TO_EXP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK);

	m_EncodeFuncArray[CLIGS_STUDY_TO_EXP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_TO_EXP_REQ;
	m_DecodeFuncArray[CLIGS_STUDY_TO_EXP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_TO_EXP_REQ;
	m_vecMsgList.push_back(CLIGS_STUDY_TO_EXP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_TO_EXP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_TO_EXP_REQ);

	m_EncodeFuncArray[CLIGS_STUDY_TO_EXP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_TO_EXP_ACK;
	m_DecodeFuncArray[CLIGS_STUDY_TO_EXP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_TO_EXP_ACK;
	m_vecMsgList.push_back(CLIGS_STUDY_TO_EXP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_TO_EXP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_TO_EXP_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_STUDY_CONVERT_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_STUDY_CONVERT_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_STUDY_CONVERT_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_STUDY_CONVERT_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_STUDY_CONVERT_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_STUDY_CONVERT_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_STUDY_CONVERT_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_STUDY_CONVERT_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_STUDY_CONVERT_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_STUDY_CONVERT_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_STUDY_CONVERT_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_STUDY_CONVERT_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_STUDY_CONVERT_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_STUDY_CONVERT_ACK);

	m_EncodeFuncArray[CLIGS_STUDY_CONVERT_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_CONVERT_REQ;
	m_DecodeFuncArray[CLIGS_STUDY_CONVERT_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_CONVERT_REQ;
	m_vecMsgList.push_back(CLIGS_STUDY_CONVERT_REQ);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_CONVERT_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_CONVERT_REQ);

	m_EncodeFuncArray[CLIGS_STUDY_CONVERT_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_CONVERT_ACK;
	m_DecodeFuncArray[CLIGS_STUDY_CONVERT_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_CONVERT_ACK;
	m_vecMsgList.push_back(CLIGS_STUDY_CONVERT_ACK);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_CONVERT_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_CONVERT_ACK);

	m_EncodeFuncArray[CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ;
	m_DecodeFuncArray[CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ;
	m_vecMsgList.push_back(CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ);
	if( (INT32)sizeof(PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ);

	m_EncodeFuncArray[CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK;
	m_DecodeFuncArray[CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK;
	m_vecMsgList.push_back(CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK);
	if( (INT32)sizeof(PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK);

	m_EncodeFuncArray[CLIGS_STUDY_CLIP_AUTO2EXP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ;
	m_DecodeFuncArray[CLIGS_STUDY_CLIP_AUTO2EXP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ;
	m_vecMsgList.push_back(CLIGS_STUDY_CLIP_AUTO2EXP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ);

	m_EncodeFuncArray[CLIGS_STUDY_CLIP_AUTO2EXP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK;
	m_DecodeFuncArray[CLIGS_STUDY_CLIP_AUTO2EXP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK;
	m_vecMsgList.push_back(CLIGS_STUDY_CLIP_AUTO2EXP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK);

	m_EncodeFuncArray[CLIGS_STUDY_UPGRADE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_UPGRADE_REQ;
	m_DecodeFuncArray[CLIGS_STUDY_UPGRADE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_UPGRADE_REQ;
	m_vecMsgList.push_back(CLIGS_STUDY_UPGRADE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_UPGRADE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_UPGRADE_REQ);

	m_EncodeFuncArray[CLIGS_STUDY_UPGRADE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_STUDY_UPGRADE_ACK;
	m_DecodeFuncArray[CLIGS_STUDY_UPGRADE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_STUDY_UPGRADE_ACK;
	m_vecMsgList.push_back(CLIGS_STUDY_UPGRADE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_STUDY_UPGRADE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_STUDY_UPGRADE_ACK);

	m_EncodeFuncArray[CLIGS_RACE_BATTLELOG_NTF - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RACE_BATTLELOG_NTF;
	m_DecodeFuncArray[CLIGS_RACE_BATTLELOG_NTF - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RACE_BATTLELOG_NTF;
	m_vecMsgList.push_back(CLIGS_RACE_BATTLELOG_NTF);
	if( (INT32)sizeof(PKT_CLIGS_RACE_BATTLELOG_NTF) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RACE_BATTLELOG_NTF);

	m_EncodeFuncArray[CLIGS_OPEN_SKILL_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SKILL_TAB_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_SKILL_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SKILL_TAB_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_SKILL_TAB_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SKILL_TAB_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SKILL_TAB_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_SKILL_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SKILL_TAB_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_SKILL_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SKILL_TAB_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_SKILL_TAB_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SKILL_TAB_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SKILL_TAB_ACK);

	m_EncodeFuncArray[CLIGS_UPGRADE_SKILL_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPGRADE_SKILL_REQ;
	m_DecodeFuncArray[CLIGS_UPGRADE_SKILL_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPGRADE_SKILL_REQ;
	m_vecMsgList.push_back(CLIGS_UPGRADE_SKILL_REQ);
	if( (INT32)sizeof(PKT_CLIGS_UPGRADE_SKILL_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPGRADE_SKILL_REQ);

	m_EncodeFuncArray[CLIGS_UPGRADE_SKILL_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPGRADE_SKILL_ACK;
	m_DecodeFuncArray[CLIGS_UPGRADE_SKILL_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPGRADE_SKILL_ACK;
	m_vecMsgList.push_back(CLIGS_UPGRADE_SKILL_ACK);
	if( (INT32)sizeof(PKT_CLIGS_UPGRADE_SKILL_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPGRADE_SKILL_ACK);

	m_EncodeFuncArray[CLIGS_DRESS_SKILL_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DRESS_SKILL_REQ;
	m_DecodeFuncArray[CLIGS_DRESS_SKILL_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DRESS_SKILL_REQ;
	m_vecMsgList.push_back(CLIGS_DRESS_SKILL_REQ);
	if( (INT32)sizeof(PKT_CLIGS_DRESS_SKILL_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DRESS_SKILL_REQ);

	m_EncodeFuncArray[CLIGS_DRESS_SKILL_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DRESS_SKILL_ACK;
	m_DecodeFuncArray[CLIGS_DRESS_SKILL_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DRESS_SKILL_ACK;
	m_vecMsgList.push_back(CLIGS_DRESS_SKILL_ACK);
	if( (INT32)sizeof(PKT_CLIGS_DRESS_SKILL_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DRESS_SKILL_ACK);

	m_EncodeFuncArray[CLIGS_VISIT_HERO_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_VISIT_HERO_REQ;
	m_DecodeFuncArray[CLIGS_VISIT_HERO_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_VISIT_HERO_REQ;
	m_vecMsgList.push_back(CLIGS_VISIT_HERO_REQ);
	if( (INT32)sizeof(PKT_CLIGS_VISIT_HERO_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_VISIT_HERO_REQ);

	m_EncodeFuncArray[CLIGS_VISIT_HERO_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_VISIT_HERO_ACK;
	m_DecodeFuncArray[CLIGS_VISIT_HERO_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_VISIT_HERO_ACK;
	m_vecMsgList.push_back(CLIGS_VISIT_HERO_ACK);
	if( (INT32)sizeof(PKT_CLIGS_VISIT_HERO_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_VISIT_HERO_ACK);

	m_EncodeFuncArray[CLIGS_BUY_PHYSTRENGTH_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_BUY_PHYSTRENGTH_REQ;
	m_DecodeFuncArray[CLIGS_BUY_PHYSTRENGTH_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_BUY_PHYSTRENGTH_REQ;
	m_vecMsgList.push_back(CLIGS_BUY_PHYSTRENGTH_REQ);
	if( (INT32)sizeof(PKT_CLIGS_BUY_PHYSTRENGTH_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_BUY_PHYSTRENGTH_REQ);

	m_EncodeFuncArray[CLIGS_BUY_PHYSTRENGTH_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_BUY_PHYSTRENGTH_ACK;
	m_DecodeFuncArray[CLIGS_BUY_PHYSTRENGTH_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_BUY_PHYSTRENGTH_ACK;
	m_vecMsgList.push_back(CLIGS_BUY_PHYSTRENGTH_ACK);
	if( (INT32)sizeof(PKT_CLIGS_BUY_PHYSTRENGTH_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_BUY_PHYSTRENGTH_ACK);

	m_EncodeFuncArray[CLIGS_CLR_PLUNDER_CD_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_PLUNDER_CD_REQ;
	m_DecodeFuncArray[CLIGS_CLR_PLUNDER_CD_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_PLUNDER_CD_REQ;
	m_vecMsgList.push_back(CLIGS_CLR_PLUNDER_CD_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CLR_PLUNDER_CD_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_PLUNDER_CD_REQ);

	m_EncodeFuncArray[CLIGS_CLR_PLUNDER_CD_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_PLUNDER_CD_ACK;
	m_DecodeFuncArray[CLIGS_CLR_PLUNDER_CD_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_PLUNDER_CD_ACK;
	m_vecMsgList.push_back(CLIGS_CLR_PLUNDER_CD_ACK);
	if( (INT32)sizeof(PKT_CLIGS_CLR_PLUNDER_CD_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_PLUNDER_CD_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_MAINTOWN_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_MAINTOWN_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_MAINTOWN_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_MAINTOWN_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_MAINTOWN_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_MAINTOWN_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_MAINTOWN_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_MAINTOWN_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_MAINTOWN_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_MAINTOWN_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_MAINTOWN_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_MAINTOWN_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_MAINTOWN_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_MAINTOWN_ACK);

	m_EncodeFuncArray[CLIGS_RECV_MAINTOWN_INCOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_MAINTOWN_INCOME_REQ;
	m_DecodeFuncArray[CLIGS_RECV_MAINTOWN_INCOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_MAINTOWN_INCOME_REQ;
	m_vecMsgList.push_back(CLIGS_RECV_MAINTOWN_INCOME_REQ);
	if( (INT32)sizeof(PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ);

	m_EncodeFuncArray[CLIGS_RECV_MAINTOWN_INCOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_MAINTOWN_INCOME_ACK;
	m_DecodeFuncArray[CLIGS_RECV_MAINTOWN_INCOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_MAINTOWN_INCOME_ACK;
	m_vecMsgList.push_back(CLIGS_RECV_MAINTOWN_INCOME_ACK);
	if( (INT32)sizeof(PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK);

	m_EncodeFuncArray[CLIGS_LEVY_MAINTOWN_INCOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ;
	m_DecodeFuncArray[CLIGS_LEVY_MAINTOWN_INCOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ;
	m_vecMsgList.push_back(CLIGS_LEVY_MAINTOWN_INCOME_REQ);
	if( (INT32)sizeof(PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ);

	m_EncodeFuncArray[CLIGS_LEVY_MAINTOWN_INCOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK;
	m_DecodeFuncArray[CLIGS_LEVY_MAINTOWN_INCOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK;
	m_vecMsgList.push_back(CLIGS_LEVY_MAINTOWN_INCOME_ACK);
	if( (INT32)sizeof(PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK);

	m_EncodeFuncArray[CLIGS_SET_WORK_TYPE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SET_WORK_TYPE_REQ;
	m_DecodeFuncArray[CLIGS_SET_WORK_TYPE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SET_WORK_TYPE_REQ;
	m_vecMsgList.push_back(CLIGS_SET_WORK_TYPE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_SET_WORK_TYPE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SET_WORK_TYPE_REQ);

	m_EncodeFuncArray[CLIGS_SET_WORK_TYPE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SET_WORK_TYPE_ACK;
	m_DecodeFuncArray[CLIGS_SET_WORK_TYPE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SET_WORK_TYPE_ACK;
	m_vecMsgList.push_back(CLIGS_SET_WORK_TYPE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_SET_WORK_TYPE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SET_WORK_TYPE_ACK);

	m_EncodeFuncArray[CLIGS_DRIVE_AWAY_OWNER_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DRIVE_AWAY_OWNER_REQ;
	m_DecodeFuncArray[CLIGS_DRIVE_AWAY_OWNER_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DRIVE_AWAY_OWNER_REQ;
	m_vecMsgList.push_back(CLIGS_DRIVE_AWAY_OWNER_REQ);
	if( (INT32)sizeof(PKT_CLIGS_DRIVE_AWAY_OWNER_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DRIVE_AWAY_OWNER_REQ);

	m_EncodeFuncArray[CLIGS_DRIVE_AWAY_OWNER_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_DRIVE_AWAY_OWNER_ACK;
	m_DecodeFuncArray[CLIGS_DRIVE_AWAY_OWNER_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_DRIVE_AWAY_OWNER_ACK;
	m_vecMsgList.push_back(CLIGS_DRIVE_AWAY_OWNER_ACK);
	if( (INT32)sizeof(PKT_CLIGS_DRIVE_AWAY_OWNER_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_DRIVE_AWAY_OWNER_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_SKILL_CARD_MAKER_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_SKILL_CARD_MAKER_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_SKILL_CARD_MAKER_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_SKILL_CARD_MAKER_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_SKILL_CARD_MAKER_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_SKILL_CARD_MAKER_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK);

	m_EncodeFuncArray[CLIGS_MAKER_SKILL_CARD_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_MAKER_SKILL_CARD_REQ;
	m_DecodeFuncArray[CLIGS_MAKER_SKILL_CARD_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_MAKER_SKILL_CARD_REQ;
	m_vecMsgList.push_back(CLIGS_MAKER_SKILL_CARD_REQ);
	if( (INT32)sizeof(PKT_CLIGS_MAKER_SKILL_CARD_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_MAKER_SKILL_CARD_REQ);

	m_EncodeFuncArray[CLIGS_MAKER_SKILL_CARD_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_MAKER_SKILL_CARD_ACK;
	m_DecodeFuncArray[CLIGS_MAKER_SKILL_CARD_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_MAKER_SKILL_CARD_ACK;
	m_vecMsgList.push_back(CLIGS_MAKER_SKILL_CARD_ACK);
	if( (INT32)sizeof(PKT_CLIGS_MAKER_SKILL_CARD_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_MAKER_SKILL_CARD_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_DRUG_USE_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_DRUG_USE_TAB_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_DRUG_USE_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_DRUG_USE_TAB_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_DRUG_USE_TAB_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_DRUG_USE_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_DRUG_USE_TAB_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_DRUG_USE_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_DRUG_USE_TAB_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_DRUG_USE_TAB_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK);

	m_EncodeFuncArray[CLIGS_CLR_USE_DRUG_CD_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_USE_DRUG_CD_REQ;
	m_DecodeFuncArray[CLIGS_CLR_USE_DRUG_CD_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_USE_DRUG_CD_REQ;
	m_vecMsgList.push_back(CLIGS_CLR_USE_DRUG_CD_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CLR_USE_DRUG_CD_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_USE_DRUG_CD_REQ);

	m_EncodeFuncArray[CLIGS_CLR_USE_DRUG_CD_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_USE_DRUG_CD_ACK;
	m_DecodeFuncArray[CLIGS_CLR_USE_DRUG_CD_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_USE_DRUG_CD_ACK;
	m_vecMsgList.push_back(CLIGS_CLR_USE_DRUG_CD_ACK);
	if( (INT32)sizeof(PKT_CLIGS_CLR_USE_DRUG_CD_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_USE_DRUG_CD_ACK);

	m_EncodeFuncArray[CLIGS_USE_DRUG_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_USE_DRUG_REQ;
	m_DecodeFuncArray[CLIGS_USE_DRUG_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_USE_DRUG_REQ;
	m_vecMsgList.push_back(CLIGS_USE_DRUG_REQ);
	if( (INT32)sizeof(PKT_CLIGS_USE_DRUG_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_USE_DRUG_REQ);

	m_EncodeFuncArray[CLIGS_USE_DRUG_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_USE_DRUG_ACK;
	m_DecodeFuncArray[CLIGS_USE_DRUG_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_USE_DRUG_ACK;
	m_vecMsgList.push_back(CLIGS_USE_DRUG_ACK);
	if( (INT32)sizeof(PKT_CLIGS_USE_DRUG_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_USE_DRUG_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK);

	m_EncodeFuncArray[CLIGS_UPGRADE_DRUG_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPGRADE_DRUG_REQ;
	m_DecodeFuncArray[CLIGS_UPGRADE_DRUG_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPGRADE_DRUG_REQ;
	m_vecMsgList.push_back(CLIGS_UPGRADE_DRUG_REQ);
	if( (INT32)sizeof(PKT_CLIGS_UPGRADE_DRUG_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPGRADE_DRUG_REQ);

	m_EncodeFuncArray[CLIGS_UPGRADE_DRUG_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPGRADE_DRUG_ACK;
	m_DecodeFuncArray[CLIGS_UPGRADE_DRUG_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPGRADE_DRUG_ACK;
	m_vecMsgList.push_back(CLIGS_UPGRADE_DRUG_ACK);
	if( (INT32)sizeof(PKT_CLIGS_UPGRADE_DRUG_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPGRADE_DRUG_ACK);

	m_EncodeFuncArray[CLIGS_COMPOSE_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_COMPOSE_EQUIP_REQ;
	m_DecodeFuncArray[CLIGS_COMPOSE_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_COMPOSE_EQUIP_REQ;
	m_vecMsgList.push_back(CLIGS_COMPOSE_EQUIP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_COMPOSE_EQUIP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_COMPOSE_EQUIP_REQ);

	m_EncodeFuncArray[CLIGS_COMPOSE_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_COMPOSE_EQUIP_ACK;
	m_DecodeFuncArray[CLIGS_COMPOSE_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_COMPOSE_EQUIP_ACK;
	m_vecMsgList.push_back(CLIGS_COMPOSE_EQUIP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_COMPOSE_EQUIP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_COMPOSE_EQUIP_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_PHYSTRENGTH_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_PHYSTRENGTH_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_PHYSTRENGTH_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_PHYSTRENGTH_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_PHYSTRENGTH_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_PHYSTRENGTH_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_PHYSTRENGTH_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_PHYSTRENGTH_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_PHYSTRENGTH_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_PHYSTRENGTH_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_PHYSTRENGTH_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_PHYSTRENGTH_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_PHYSTRENGTH_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_PHYSTRENGTH_ACK);

	m_EncodeFuncArray[CLIGS_RECV_LEFT_INCOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_LEFT_INCOME_REQ;
	m_DecodeFuncArray[CLIGS_RECV_LEFT_INCOME_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_LEFT_INCOME_REQ;
	m_vecMsgList.push_back(CLIGS_RECV_LEFT_INCOME_REQ);
	if( (INT32)sizeof(PKT_CLIGS_RECV_LEFT_INCOME_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_LEFT_INCOME_REQ);

	m_EncodeFuncArray[CLIGS_RECV_LEFT_INCOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_RECV_LEFT_INCOME_ACK;
	m_DecodeFuncArray[CLIGS_RECV_LEFT_INCOME_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_RECV_LEFT_INCOME_ACK;
	m_vecMsgList.push_back(CLIGS_RECV_LEFT_INCOME_ACK);
	if( (INT32)sizeof(PKT_CLIGS_RECV_LEFT_INCOME_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_RECV_LEFT_INCOME_ACK);

	m_EncodeFuncArray[CLIGS_SMITHY_BUY_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SMITHY_BUY_EQUIP_REQ;
	m_DecodeFuncArray[CLIGS_SMITHY_BUY_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SMITHY_BUY_EQUIP_REQ;
	m_vecMsgList.push_back(CLIGS_SMITHY_BUY_EQUIP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_SMITHY_BUY_EQUIP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SMITHY_BUY_EQUIP_REQ);

	m_EncodeFuncArray[CLIGS_SMITHY_BUY_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SMITHY_BUY_EQUIP_ACK;
	m_DecodeFuncArray[CLIGS_SMITHY_BUY_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SMITHY_BUY_EQUIP_ACK;
	m_vecMsgList.push_back(CLIGS_SMITHY_BUY_EQUIP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_SMITHY_BUY_EQUIP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SMITHY_BUY_EQUIP_ACK);

	m_EncodeFuncArray[CLIGS_CLR_STRENGTHEN_CD_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_STRENGTHEN_CD_REQ;
	m_DecodeFuncArray[CLIGS_CLR_STRENGTHEN_CD_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_STRENGTHEN_CD_REQ;
	m_vecMsgList.push_back(CLIGS_CLR_STRENGTHEN_CD_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CLR_STRENGTHEN_CD_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_STRENGTHEN_CD_REQ);

	m_EncodeFuncArray[CLIGS_CLR_STRENGTHEN_CD_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_STRENGTHEN_CD_ACK;
	m_DecodeFuncArray[CLIGS_CLR_STRENGTHEN_CD_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_STRENGTHEN_CD_ACK;
	m_vecMsgList.push_back(CLIGS_CLR_STRENGTHEN_CD_ACK);
	if( (INT32)sizeof(PKT_CLIGS_CLR_STRENGTHEN_CD_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_STRENGTHEN_CD_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_CROP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_CROP_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_CROP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_CROP_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_CROP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_CROP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_CROP_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_CROP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_CROP_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_CROP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_CROP_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_CROP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_CROP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_CROP_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_CROP_FIELD_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_CROP_FIELD_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_CROP_FIELD_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_CROP_FIELD_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_CROP_FIELD_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_CROP_FIELD_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_CROP_FIELD_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_CROP_FIELD_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_CROP_FIELD_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_CROP_FIELD_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_CROP_FIELD_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_CROP_FIELD_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_CROP_FIELD_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_CROP_FIELD_ACK);

	m_EncodeFuncArray[CLIGS_CROP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CROP_REQ;
	m_DecodeFuncArray[CLIGS_CROP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CROP_REQ;
	m_vecMsgList.push_back(CLIGS_CROP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CROP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CROP_REQ);

	m_EncodeFuncArray[CLIGS_CROP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CROP_ACK;
	m_DecodeFuncArray[CLIGS_CROP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CROP_ACK;
	m_vecMsgList.push_back(CLIGS_CROP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_CROP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CROP_ACK);

	m_EncodeFuncArray[CLIGS_GAIN_CROP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GAIN_CROP_REQ;
	m_DecodeFuncArray[CLIGS_GAIN_CROP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GAIN_CROP_REQ;
	m_vecMsgList.push_back(CLIGS_GAIN_CROP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GAIN_CROP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GAIN_CROP_REQ);

	m_EncodeFuncArray[CLIGS_GAIN_CROP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GAIN_CROP_ACK;
	m_DecodeFuncArray[CLIGS_GAIN_CROP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GAIN_CROP_ACK;
	m_vecMsgList.push_back(CLIGS_GAIN_CROP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GAIN_CROP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GAIN_CROP_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_SCIENCE_BUILD_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SCIENCE_BUILD_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_SCIENCE_BUILD_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SCIENCE_BUILD_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_SCIENCE_BUILD_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_SCIENCE_BUILD_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_SCIENCE_BUILD_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_SCIENCE_BUILD_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_SCIENCE_BUILD_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_SCIENCE_BUILD_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK);

	m_EncodeFuncArray[CLIGS_UPDATE_SCIENCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPDATE_SCIENCE_REQ;
	m_DecodeFuncArray[CLIGS_UPDATE_SCIENCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPDATE_SCIENCE_REQ;
	m_vecMsgList.push_back(CLIGS_UPDATE_SCIENCE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_UPDATE_SCIENCE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPDATE_SCIENCE_REQ);

	m_EncodeFuncArray[CLIGS_UPDATE_SCIENCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPDATE_SCIENCE_ACK;
	m_DecodeFuncArray[CLIGS_UPDATE_SCIENCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPDATE_SCIENCE_ACK;
	m_vecMsgList.push_back(CLIGS_UPDATE_SCIENCE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_UPDATE_SCIENCE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPDATE_SCIENCE_ACK);

	m_EncodeFuncArray[CLIGS_CLR_CROP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_CROP_REQ;
	m_DecodeFuncArray[CLIGS_CLR_CROP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_CROP_REQ;
	m_vecMsgList.push_back(CLIGS_CLR_CROP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CLR_CROP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_CROP_REQ);

	m_EncodeFuncArray[CLIGS_CLR_CROP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CLR_CROP_ACK;
	m_DecodeFuncArray[CLIGS_CLR_CROP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CLR_CROP_ACK;
	m_vecMsgList.push_back(CLIGS_CLR_CROP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_CLR_CROP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CLR_CROP_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_EXPERIENCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_EXPERIENCE_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_EXPERIENCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_EXPERIENCE_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_EXPERIENCE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_EXPERIENCE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_EXPERIENCE_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_EXPERIENCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_EXPERIENCE_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_EXPERIENCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_EXPERIENCE_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_EXPERIENCE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_EXPERIENCE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_EXPERIENCE_ACK);

	m_EncodeFuncArray[CLIGS_USER_EXPERIENCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_USER_EXPERIENCE_REQ;
	m_DecodeFuncArray[CLIGS_USER_EXPERIENCE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_USER_EXPERIENCE_REQ;
	m_vecMsgList.push_back(CLIGS_USER_EXPERIENCE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_USER_EXPERIENCE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_USER_EXPERIENCE_REQ);

	m_EncodeFuncArray[CLIGS_USER_EXPERIENCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_USER_EXPERIENCE_ACK;
	m_DecodeFuncArray[CLIGS_USER_EXPERIENCE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_USER_EXPERIENCE_ACK;
	m_vecMsgList.push_back(CLIGS_USER_EXPERIENCE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_USER_EXPERIENCE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_USER_EXPERIENCE_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_MELT_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_MELT_EQUIP_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_MELT_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_MELT_EQUIP_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_MELT_EQUIP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_MELT_EQUIP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_MELT_EQUIP_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_MELT_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_MELT_EQUIP_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_MELT_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_MELT_EQUIP_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_MELT_EQUIP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_MELT_EQUIP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_MELT_EQUIP_ACK);

	m_EncodeFuncArray[CLIGS_MELT_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_MELT_EQUIP_REQ;
	m_DecodeFuncArray[CLIGS_MELT_EQUIP_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_MELT_EQUIP_REQ;
	m_vecMsgList.push_back(CLIGS_MELT_EQUIP_REQ);
	if( (INT32)sizeof(PKT_CLIGS_MELT_EQUIP_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_MELT_EQUIP_REQ);

	m_EncodeFuncArray[CLIGS_MELT_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_MELT_EQUIP_ACK;
	m_DecodeFuncArray[CLIGS_MELT_EQUIP_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_MELT_EQUIP_ACK;
	m_vecMsgList.push_back(CLIGS_MELT_EQUIP_ACK);
	if( (INT32)sizeof(PKT_CLIGS_MELT_EQUIP_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_MELT_EQUIP_ACK);

	m_EncodeFuncArray[CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ;
	m_DecodeFuncArray[CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ;
	m_vecMsgList.push_back(CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ);

	m_EncodeFuncArray[CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK;
	m_DecodeFuncArray[CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK;
	m_vecMsgList.push_back(CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK);
	if( (INT32)sizeof(PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK);

	m_EncodeFuncArray[CLIGS_UPDATE_ATTR_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPDATE_ATTR_REQ;
	m_DecodeFuncArray[CLIGS_UPDATE_ATTR_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPDATE_ATTR_REQ;
	m_vecMsgList.push_back(CLIGS_UPDATE_ATTR_REQ);
	if( (INT32)sizeof(PKT_CLIGS_UPDATE_ATTR_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPDATE_ATTR_REQ);

	m_EncodeFuncArray[CLIGS_UPDATE_ATTR_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_UPDATE_ATTR_ACK;
	m_DecodeFuncArray[CLIGS_UPDATE_ATTR_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_UPDATE_ATTR_ACK;
	m_vecMsgList.push_back(CLIGS_UPDATE_ATTR_ACK);
	if( (INT32)sizeof(PKT_CLIGS_UPDATE_ATTR_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_UPDATE_ATTR_ACK);

	m_EncodeFuncArray[CLIGS_COMPOSE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_COMPOSE_REQ;
	m_DecodeFuncArray[CLIGS_COMPOSE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_COMPOSE_REQ;
	m_vecMsgList.push_back(CLIGS_COMPOSE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_COMPOSE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_COMPOSE_REQ);

	m_EncodeFuncArray[CLIGS_COMPOSE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_COMPOSE_ACK;
	m_DecodeFuncArray[CLIGS_COMPOSE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_COMPOSE_ACK;
	m_vecMsgList.push_back(CLIGS_COMPOSE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_COMPOSE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_COMPOSE_ACK);

	m_EncodeFuncArray[CLIGS_REFRESH_ELITE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_REFRESH_ELITE_REQ;
	m_DecodeFuncArray[CLIGS_REFRESH_ELITE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_REFRESH_ELITE_REQ;
	m_vecMsgList.push_back(CLIGS_REFRESH_ELITE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_REFRESH_ELITE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_REFRESH_ELITE_REQ);

	m_EncodeFuncArray[CLIGS_REFRESH_ELITE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_REFRESH_ELITE_ACK;
	m_DecodeFuncArray[CLIGS_REFRESH_ELITE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_REFRESH_ELITE_ACK;
	m_vecMsgList.push_back(CLIGS_REFRESH_ELITE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_REFRESH_ELITE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_REFRESH_ELITE_ACK);

	m_EncodeFuncArray[CLIGS_ONHOOK_ELITE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ONHOOK_ELITE_REQ;
	m_DecodeFuncArray[CLIGS_ONHOOK_ELITE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ONHOOK_ELITE_REQ;
	m_vecMsgList.push_back(CLIGS_ONHOOK_ELITE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_ONHOOK_ELITE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ONHOOK_ELITE_REQ);

	m_EncodeFuncArray[CLIGS_ONHOOK_ELITE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_ONHOOK_ELITE_ACK;
	m_DecodeFuncArray[CLIGS_ONHOOK_ELITE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_ONHOOK_ELITE_ACK;
	m_vecMsgList.push_back(CLIGS_ONHOOK_ELITE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_ONHOOK_ELITE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_ONHOOK_ELITE_ACK);

	m_EncodeFuncArray[CLIGS_GET_ITEM_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_ITEM_REQ;
	m_DecodeFuncArray[CLIGS_GET_ITEM_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_ITEM_REQ;
	m_vecMsgList.push_back(CLIGS_GET_ITEM_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GET_ITEM_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_ITEM_REQ);

	m_EncodeFuncArray[CLIGS_GET_ITEM_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_ITEM_ACK;
	m_DecodeFuncArray[CLIGS_GET_ITEM_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_ITEM_ACK;
	m_vecMsgList.push_back(CLIGS_GET_ITEM_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GET_ITEM_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_ITEM_ACK);

	m_EncodeFuncArray[CLIGS_GET_ORDER_ID_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_ORDER_ID_REQ;
	m_DecodeFuncArray[CLIGS_GET_ORDER_ID_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_ORDER_ID_REQ;
	m_vecMsgList.push_back(CLIGS_GET_ORDER_ID_REQ);
	if( (INT32)sizeof(PKT_CLIGS_GET_ORDER_ID_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_ORDER_ID_REQ);

	m_EncodeFuncArray[CLIGS_GET_ORDER_ID_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_GET_ORDER_ID_ACK;
	m_DecodeFuncArray[CLIGS_GET_ORDER_ID_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_GET_ORDER_ID_ACK;
	m_vecMsgList.push_back(CLIGS_GET_ORDER_ID_ACK);
	if( (INT32)sizeof(PKT_CLIGS_GET_ORDER_ID_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_GET_ORDER_ID_ACK);

	m_EncodeFuncArray[CLIGS_EXCHANGE_RESULT - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_EXCHANGE_RESULT;
	m_DecodeFuncArray[CLIGS_EXCHANGE_RESULT - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_EXCHANGE_RESULT;
	m_vecMsgList.push_back(CLIGS_EXCHANGE_RESULT);
	if( (INT32)sizeof(PKT_CLIGS_EXCHANGE_RESULT) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_EXCHANGE_RESULT);

	m_EncodeFuncArray[CLIGS_SEED_COMPOSE_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SEED_COMPOSE_REQ;
	m_DecodeFuncArray[CLIGS_SEED_COMPOSE_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SEED_COMPOSE_REQ;
	m_vecMsgList.push_back(CLIGS_SEED_COMPOSE_REQ);
	if( (INT32)sizeof(PKT_CLIGS_SEED_COMPOSE_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SEED_COMPOSE_REQ);

	m_EncodeFuncArray[CLIGS_SEED_COMPOSE_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_SEED_COMPOSE_ACK;
	m_DecodeFuncArray[CLIGS_SEED_COMPOSE_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_SEED_COMPOSE_ACK;
	m_vecMsgList.push_back(CLIGS_SEED_COMPOSE_ACK);
	if( (INT32)sizeof(PKT_CLIGS_SEED_COMPOSE_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_SEED_COMPOSE_ACK);

	m_EncodeFuncArray[CLIGS_CHAT_REQ - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CHAT_REQ;
	m_DecodeFuncArray[CLIGS_CHAT_REQ - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CHAT_REQ;
	m_vecMsgList.push_back(CLIGS_CHAT_REQ);
	if( (INT32)sizeof(PKT_CLIGS_CHAT_REQ) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CHAT_REQ);

	m_EncodeFuncArray[CLIGS_CHAT_ACK - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CHAT_ACK;
	m_DecodeFuncArray[CLIGS_CHAT_ACK - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CHAT_ACK;
	m_vecMsgList.push_back(CLIGS_CHAT_ACK);
	if( (INT32)sizeof(PKT_CLIGS_CHAT_ACK) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CHAT_ACK);

	m_EncodeFuncArray[CLIGS_CHAT_NTF - PROTOCLIGS_MSGID_OFFSET] = &EncodePKT_CLIGS_CHAT_NTF;
	m_DecodeFuncArray[CLIGS_CHAT_NTF - PROTOCLIGS_MSGID_OFFSET] = &DecodePKT_CLIGS_CHAT_NTF;
	m_vecMsgList.push_back(CLIGS_CHAT_NTF);
	if( (INT32)sizeof(PKT_CLIGS_CHAT_NTF) > m_iMaxPkgSize)
		m_iMaxPkgSize = (INT32)sizeof(PKT_CLIGS_CHAT_NTF);

	return true;
}

INT32 EncodePKT_CLIGS_ENTERGS_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTERGS_REQ *pstIn = (PKT_CLIGS_ENTERGS_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wZoneID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszDeviceID, sizeof(pstIn->aszDeviceID)))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszNotifyID, sizeof(pstIn->aszNotifyID)))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszUserName, sizeof(pstIn->aszUserName)))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCareerID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ENTERGS_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTERGS_REQ *pstOut = (PKT_CLIGS_ENTERGS_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wZoneID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszDeviceID, sizeof(pstOut->aszDeviceID)))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszNotifyID, sizeof(pstOut->aszNotifyID)))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszUserName, sizeof(pstOut->aszUserName)))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCareerID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ENTERGS_REQ(PKT_CLIGS_ENTERGS_REQ &data)
{
	Json::Value root;
	root["ZoneID"]=data.wZoneID;
	root["DeviceID"]=data.aszDeviceID;
	root["NotifyID"]=data.aszNotifyID;
	root["UserName"]=data.aszUserName;
	root["PlayerID"]=data.dwPlayerID;
	root["CareerID"]=data.wCareerID;

	return root;
}
BOOL FromJsonPKT_CLIGS_ENTERGS_REQ(Json::Value &root, PKT_CLIGS_ENTERGS_REQ &data)
{
	data.wZoneID=root["ZoneID"].asUInt();
	strncpy( data.aszDeviceID,root["DeviceID"].asCString(),DEVICEID_LEN);
	strncpy( data.aszNotifyID,root["NotifyID"].asCString(),NOTIFYID_LEN);
	strncpy( data.aszUserName,root["UserName"].asCString(),USERNAME_LEN);
	data.dwPlayerID=root["PlayerID"].asUInt();
	data.wCareerID=root["CareerID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ENTERGS_REQ(const string &strData, PKT_CLIGS_ENTERGS_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ENTERGS_REQ(root, data);
}
INT32 EncodeDT_EXT_FUNC_PARAM(void *pHost, CNetData* poNetData)
{
	DT_EXT_FUNC_PARAM *pstIn = (DT_EXT_FUNC_PARAM*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byParam1))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wParam2))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwParam3))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EXT_FUNC_PARAM(void *pHost, CNetData* poNetData)
{
	DT_EXT_FUNC_PARAM *pstOut = (DT_EXT_FUNC_PARAM*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byParam1))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wParam2))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwParam3))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EXT_FUNC_PARAM(DT_EXT_FUNC_PARAM &data)
{
	Json::Value root;
	root["Param1"]=data.byParam1;
	root["Param2"]=data.wParam2;
	root["Param3"]=data.dwParam3;

	return root;
}
BOOL FromJsonDT_EXT_FUNC_PARAM(Json::Value &root, DT_EXT_FUNC_PARAM &data)
{
	data.byParam1=root["Param1"].asUInt();
	data.wParam2=root["Param2"].asUInt();
	data.dwParam3=root["Param3"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_EXT_FUNC_PARAM(const string &strData, DT_EXT_FUNC_PARAM &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EXT_FUNC_PARAM(root, data);
}
INT32 EncodeDT_EXT_FUNC_PARAM_LST(void *pHost, CNetData* poNetData)
{
	DT_EXT_FUNC_PARAM_LST *pstIn = (DT_EXT_FUNC_PARAM_LST*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byFuncNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_EXT_FUN_NUM; i++)
	{
		if(i >= (INT32)pstIn->byFuncNum)
			break;
		if(-1 == EncodeDT_EXT_FUNC_PARAM(&pstIn->astExtFuncParaInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EXT_FUNC_PARAM_LST(void *pHost, CNetData* poNetData)
{
	DT_EXT_FUNC_PARAM_LST *pstOut = (DT_EXT_FUNC_PARAM_LST*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byFuncNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_EXT_FUN_NUM; i++)
	{
		if(i >= (INT32)pstOut->byFuncNum)
			break;
		if(-1 == DecodeDT_EXT_FUNC_PARAM(&pstOut->astExtFuncParaInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EXT_FUNC_PARAM_LST(DT_EXT_FUNC_PARAM_LST &data)
{
	Json::Value root;
	root["FuncNum"]=data.byFuncNum;
	for( UINT32 dwIndex=0; dwIndex<data.byFuncNum; ++dwIndex)
	{
	root["ExtFuncParaInfo"].append( GetJsonDT_EXT_FUNC_PARAM(data.astExtFuncParaInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_EXT_FUNC_PARAM_LST(Json::Value &root, DT_EXT_FUNC_PARAM_LST &data)
{
	data.byFuncNum=root["FuncNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byFuncNum; ++dwIndex)
	{
		FromJsonDT_EXT_FUNC_PARAM(root["ExtFuncParaInfo"][dwIndex] , data.astExtFuncParaInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_EXT_FUNC_PARAM_LST(const string &strData, DT_EXT_FUNC_PARAM_LST &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EXT_FUNC_PARAM_LST(root, data);
}
INT32 EncodeDT_POWER_CHANGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_POWER_CHANGE_DATA *pstIn = (DT_POWER_CHANGE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwOldPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCurPower))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_POWER_CHANGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_POWER_CHANGE_DATA *pstOut = (DT_POWER_CHANGE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwOldPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCurPower))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_POWER_CHANGE_DATA(DT_POWER_CHANGE_DATA &data)
{
	Json::Value root;
	root["OldPower"]=data.dwOldPower;
	root["CurPower"]=data.dwCurPower;

	return root;
}
BOOL FromJsonDT_POWER_CHANGE_DATA(Json::Value &root, DT_POWER_CHANGE_DATA &data)
{
	data.dwOldPower=root["OldPower"].asUInt();
	data.dwCurPower=root["CurPower"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_POWER_CHANGE_DATA(const string &strData, DT_POWER_CHANGE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_POWER_CHANGE_DATA(root, data);
}
INT32 EncodeDT_SKILL_BUFF_DATA(void *pHost, CNetData* poNetData)
{
	DT_SKILL_BUFF_DATA *pstIn = (DT_SKILL_BUFF_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byBuffKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byBuffRound))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTriggerRate))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEffectParam))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_SKILL_BUFF_DATA(void *pHost, CNetData* poNetData)
{
	DT_SKILL_BUFF_DATA *pstOut = (DT_SKILL_BUFF_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byBuffKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byBuffRound))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTriggerRate))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEffectParam))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_SKILL_BUFF_DATA(DT_SKILL_BUFF_DATA &data)
{
	Json::Value root;
	root["BuffKindID"]=data.byBuffKindID;
	root["BuffRound"]=data.byBuffRound;
	root["TriggerRate"]=data.byTriggerRate;
	root["EffectParam"]=data.wEffectParam;

	return root;
}
BOOL FromJsonDT_SKILL_BUFF_DATA(Json::Value &root, DT_SKILL_BUFF_DATA &data)
{
	data.byBuffKindID=root["BuffKindID"].asUInt();
	data.byBuffRound=root["BuffRound"].asUInt();
	data.byTriggerRate=root["TriggerRate"].asUInt();
	data.wEffectParam=root["EffectParam"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_SKILL_BUFF_DATA(const string &strData, DT_SKILL_BUFF_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_SKILL_BUFF_DATA(root, data);
}
INT32 EncodeDT_SKILL_EFFECT_DATA(void *pHost, CNetData* poNetData)
{
	DT_SKILL_EFFECT_DATA *pstIn = (DT_SKILL_EFFECT_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byEffectKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEffectHurtRate))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExtHurtValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEffectParam))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_SKILL_EFFECT_DATA(void *pHost, CNetData* poNetData)
{
	DT_SKILL_EFFECT_DATA *pstOut = (DT_SKILL_EFFECT_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byEffectKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEffectHurtRate))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExtHurtValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEffectParam))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_SKILL_EFFECT_DATA(DT_SKILL_EFFECT_DATA &data)
{
	Json::Value root;
	root["EffectKindID"]=data.byEffectKindID;
	root["EffectHurtRate"]=data.byEffectHurtRate;
	root["ExtHurtValue"]=data.dwExtHurtValue;
	root["EffectParam"]=data.wEffectParam;

	return root;
}
BOOL FromJsonDT_SKILL_EFFECT_DATA(Json::Value &root, DT_SKILL_EFFECT_DATA &data)
{
	data.byEffectKindID=root["EffectKindID"].asUInt();
	data.byEffectHurtRate=root["EffectHurtRate"].asUInt();
	data.dwExtHurtValue=root["ExtHurtValue"].asUInt();
	data.wEffectParam=root["EffectParam"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_SKILL_EFFECT_DATA(const string &strData, DT_SKILL_EFFECT_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_SKILL_EFFECT_DATA(root, data);
}
INT32 EncodeDT_ATTACK_RANG_DATA(void *pHost, CNetData* poNetData)
{
	DT_ATTACK_RANG_DATA *pstIn = (DT_ATTACK_RANG_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byAttackRangKind))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTraceBuffKind))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ATTACK_RANG_DATA(void *pHost, CNetData* poNetData)
{
	DT_ATTACK_RANG_DATA *pstOut = (DT_ATTACK_RANG_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byAttackRangKind))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTraceBuffKind))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ATTACK_RANG_DATA(DT_ATTACK_RANG_DATA &data)
{
	Json::Value root;
	root["AttackRangKind"]=data.byAttackRangKind;
	root["TraceBuffKind"]=data.byTraceBuffKind;

	return root;
}
BOOL FromJsonDT_ATTACK_RANG_DATA(Json::Value &root, DT_ATTACK_RANG_DATA &data)
{
	data.byAttackRangKind=root["AttackRangKind"].asUInt();
	data.byTraceBuffKind=root["TraceBuffKind"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_ATTACK_RANG_DATA(const string &strData, DT_ATTACK_RANG_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ATTACK_RANG_DATA(root, data);
}
INT32 EncodeDT_SKILL_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_SKILL_DATA_CLI *pstIn = (DT_SKILL_DATA_CLI*)pHost;

	if(-1 == EncodeDT_SKILL_DATA(&pstIn->stSkillBaseInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_SKILL_EFFECT_DATA(&pstIn->stEffectInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_ATTACK_RANG_DATA(&pstIn->stAttackRang, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byBuffNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SKILL_BUFF_NUM; i++)
	{
		if(i >= (INT32)pstIn->byBuffNum)
			break;
		if(-1 == EncodeDT_SKILL_BUFF_DATA(&pstIn->astBuffInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_SKILL_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_SKILL_DATA_CLI *pstOut = (DT_SKILL_DATA_CLI*)pHost;

	if(-1 == DecodeDT_SKILL_DATA(&pstOut->stSkillBaseInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_SKILL_EFFECT_DATA(&pstOut->stEffectInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_ATTACK_RANG_DATA(&pstOut->stAttackRang, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byBuffNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SKILL_BUFF_NUM; i++)
	{
		if(i >= (INT32)pstOut->byBuffNum)
			break;
		if(-1 == DecodeDT_SKILL_BUFF_DATA(&pstOut->astBuffInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_SKILL_DATA_CLI(DT_SKILL_DATA_CLI &data)
{
	Json::Value root;
	root["SkillBaseInfo"]=GetJsonDT_SKILL_DATA(data.stSkillBaseInfo);
	root["EffectInfo"]=GetJsonDT_SKILL_EFFECT_DATA(data.stEffectInfo);
	root["AttackRang"]=GetJsonDT_ATTACK_RANG_DATA(data.stAttackRang);
	root["BuffNum"]=data.byBuffNum;
	for( UINT32 dwIndex=0; dwIndex<data.byBuffNum; ++dwIndex)
	{
	root["BuffInfo"].append( GetJsonDT_SKILL_BUFF_DATA(data.astBuffInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_SKILL_DATA_CLI(Json::Value &root, DT_SKILL_DATA_CLI &data)
{
	FromJsonDT_SKILL_DATA(root["SkillBaseInfo"] , data.stSkillBaseInfo);
	FromJsonDT_SKILL_EFFECT_DATA(root["EffectInfo"] , data.stEffectInfo);
	FromJsonDT_ATTACK_RANG_DATA(root["AttackRang"] , data.stAttackRang);
	data.byBuffNum=root["BuffNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byBuffNum; ++dwIndex)
	{
		FromJsonDT_SKILL_BUFF_DATA(root["BuffInfo"][dwIndex] , data.astBuffInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_SKILL_DATA_CLI(const string &strData, DT_SKILL_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_SKILL_DATA_CLI(root, data);
}
INT32 EncodeDT_SKILL_DATA_LIST_CLI(void *pHost, CNetData* poNetData)
{
	DT_SKILL_DATA_LIST_CLI *pstIn = (DT_SKILL_DATA_LIST_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->bySkillNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SKILL_NUM; i++)
	{
		if(i >= (INT32)pstIn->bySkillNum)
			break;
		if(-1 == EncodeDT_SKILL_DATA_CLI(&pstIn->astSkillInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_SKILL_DATA_LIST_CLI(void *pHost, CNetData* poNetData)
{
	DT_SKILL_DATA_LIST_CLI *pstOut = (DT_SKILL_DATA_LIST_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->bySkillNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SKILL_NUM; i++)
	{
		if(i >= (INT32)pstOut->bySkillNum)
			break;
		if(-1 == DecodeDT_SKILL_DATA_CLI(&pstOut->astSkillInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_SKILL_DATA_LIST_CLI(DT_SKILL_DATA_LIST_CLI &data)
{
	Json::Value root;
	root["SkillNum"]=data.bySkillNum;
	for( UINT32 dwIndex=0; dwIndex<data.bySkillNum; ++dwIndex)
	{
	root["SkillInfo"].append( GetJsonDT_SKILL_DATA_CLI(data.astSkillInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_SKILL_DATA_LIST_CLI(Json::Value &root, DT_SKILL_DATA_LIST_CLI &data)
{
	data.bySkillNum=root["SkillNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.bySkillNum; ++dwIndex)
	{
		FromJsonDT_SKILL_DATA_CLI(root["SkillInfo"][dwIndex] , data.astSkillInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_SKILL_DATA_LIST_CLI(const string &strData, DT_SKILL_DATA_LIST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_SKILL_DATA_LIST_CLI(root, data);
}
INT32 EncodeDT_HERO_BASE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_BASE_DATA_CLI *pstIn = (DT_HERO_BASE_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCareerID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCoach))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPos))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byFormationIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTalent))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUpgradeExperience))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byRecuitedFlag))
		return -1;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stBattleAttribute, poNetData))
		return -1;

	if(-1 == EncodeDT_HIDE_BATTLE_ATTRIBUTE(&pstIn->stHideBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wGodweaponQuality))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wGodweaponLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPower))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wSelectSkillID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wSelectSkillLevel))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_BASE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_BASE_DATA_CLI *pstOut = (DT_HERO_BASE_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCareerID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCoach))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPos))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byFormationIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTalent))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUpgradeExperience))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byRecuitedFlag))
		return -1;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stBattleAttribute, poNetData))
		return -1;

	if(-1 == DecodeDT_HIDE_BATTLE_ATTRIBUTE(&pstOut->stHideBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wGodweaponQuality))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wGodweaponLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPower))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wSelectSkillID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wSelectSkillLevel))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_BASE_DATA_CLI(DT_HERO_BASE_DATA_CLI &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["CareerID"]=data.byCareerID;
	root["Coach"]=data.byCoach;
	root["Pos"]=data.byPos;
	root["FormationIdx"]=data.byFormationIdx;
	root["Level"]=data.wLevel;
	root["Talent"]=data.wTalent;
	root["Experience"]=data.dwExperience;
	root["UpgradeExperience"]=data.dwUpgradeExperience;
	root["RecuitedFlag"]=data.byRecuitedFlag;
	root["BattleAttribute"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stBattleAttribute);
	root["HideBattleAttribute"]=GetJsonDT_HIDE_BATTLE_ATTRIBUTE(data.stHideBattleAttribute);
	root["GodweaponQuality"]=data.wGodweaponQuality;
	root["GodweaponLevel"]=data.wGodweaponLevel;
	root["Power"]=data.dwPower;
	root["SelectSkillID"]=data.wSelectSkillID;
	root["SelectSkillLevel"]=data.wSelectSkillLevel;

	return root;
}
BOOL FromJsonDT_HERO_BASE_DATA_CLI(Json::Value &root, DT_HERO_BASE_DATA_CLI &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.byCareerID=root["CareerID"].asUInt();
	data.byCoach=root["Coach"].asUInt();
	data.byPos=root["Pos"].asUInt();
	data.byFormationIdx=root["FormationIdx"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.wTalent=root["Talent"].asUInt();
	data.dwExperience=root["Experience"].asUInt();
	data.dwUpgradeExperience=root["UpgradeExperience"].asUInt();
	data.byRecuitedFlag=root["RecuitedFlag"].asUInt();
	FromJsonDT_BATTLE_ATTRIBUTE(root["BattleAttribute"] , data.stBattleAttribute);
	FromJsonDT_HIDE_BATTLE_ATTRIBUTE(root["HideBattleAttribute"] , data.stHideBattleAttribute);
	data.wGodweaponQuality=root["GodweaponQuality"].asUInt();
	data.wGodweaponLevel=root["GodweaponLevel"].asUInt();
	data.dwPower=root["Power"].asUInt();
	data.wSelectSkillID=root["SelectSkillID"].asUInt();
	data.wSelectSkillLevel=root["SelectSkillLevel"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_HERO_BASE_DATA_CLI(const string &strData, DT_HERO_BASE_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_BASE_DATA_CLI(root, data);
}
INT32 EncodeDT_HERO_UPGRADE_DATA(void *pHost, CNetData* poNetData)
{
	DT_HERO_UPGRADE_DATA *pstIn = (DT_HERO_UPGRADE_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUpgradeFlag))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUpgradeExperience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_UPGRADE_DATA(void *pHost, CNetData* poNetData)
{
	DT_HERO_UPGRADE_DATA *pstOut = (DT_HERO_UPGRADE_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUpgradeFlag))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUpgradeExperience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_UPGRADE_DATA(DT_HERO_UPGRADE_DATA &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["UpgradeFlag"]=data.byUpgradeFlag;
	root["Level"]=data.wLevel;
	root["Experience"]=data.dwExperience;
	root["UpgradeExperience"]=data.dwUpgradeExperience;

	return root;
}
BOOL FromJsonDT_HERO_UPGRADE_DATA(Json::Value &root, DT_HERO_UPGRADE_DATA &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byUpgradeFlag=root["UpgradeFlag"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.dwExperience=root["Experience"].asUInt();
	data.dwUpgradeExperience=root["UpgradeExperience"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_HERO_UPGRADE_DATA(const string &strData, DT_HERO_UPGRADE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_UPGRADE_DATA(root, data);
}
INT32 EncodeDT_EQUIP_DATA_STRENGTHEN_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_DATA_STRENGTHEN_CLI *pstIn = (DT_EQUIP_DATA_STRENGTHEN_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDressLevel))
		return -1;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCanStrengthenFlag))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwStrengthenCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwStrengthenGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wStrengthenRate))
		return -1;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stNextBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwRecoverPrice))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EQUIP_DATA_STRENGTHEN_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_DATA_STRENGTHEN_CLI *pstOut = (DT_EQUIP_DATA_STRENGTHEN_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDressLevel))
		return -1;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCanStrengthenFlag))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwStrengthenCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwStrengthenGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wStrengthenRate))
		return -1;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stNextBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwRecoverPrice))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EQUIP_DATA_STRENGTHEN_CLI(DT_EQUIP_DATA_STRENGTHEN_CLI &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Idx"]=data.wIdx;
	root["HeroKindID"]=data.wHeroKindID;
	root["Level"]=data.wLevel;
	root["DressLevel"]=data.wDressLevel;
	root["BattleAttribute"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stBattleAttribute);
	root["CanStrengthenFlag"]=data.byCanStrengthenFlag;
	root["StrengthenCoin"]=data.dwStrengthenCoin;
	root["StrengthenGold"]=data.dwStrengthenGold;
	root["StrengthenRate"]=data.wStrengthenRate;
	root["NextBattleAttribute"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stNextBattleAttribute);
	root["RecoverPrice"]=data.dwRecoverPrice;

	return root;
}
BOOL FromJsonDT_EQUIP_DATA_STRENGTHEN_CLI(Json::Value &root, DT_EQUIP_DATA_STRENGTHEN_CLI &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wIdx=root["Idx"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.wDressLevel=root["DressLevel"].asUInt();
	FromJsonDT_BATTLE_ATTRIBUTE(root["BattleAttribute"] , data.stBattleAttribute);
	data.byCanStrengthenFlag=root["CanStrengthenFlag"].asUInt();
	data.dwStrengthenCoin=root["StrengthenCoin"].asUInt();
	data.dwStrengthenGold=root["StrengthenGold"].asUInt();
	data.wStrengthenRate=root["StrengthenRate"].asUInt();
	FromJsonDT_BATTLE_ATTRIBUTE(root["NextBattleAttribute"] , data.stNextBattleAttribute);
	data.dwRecoverPrice=root["RecoverPrice"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_EQUIP_DATA_STRENGTHEN_CLI(const string &strData, DT_EQUIP_DATA_STRENGTHEN_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EQUIP_DATA_STRENGTHEN_CLI(root, data);
}
INT32 EncodeDT_EQUIP_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_DATA_CLI *pstIn = (DT_EQUIP_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byDressPos))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDressLevel))
		return -1;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwRecoverPrice))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwScience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EQUIP_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_DATA_CLI *pstOut = (DT_EQUIP_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byDressPos))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDressLevel))
		return -1;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwRecoverPrice))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwScience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EQUIP_DATA_CLI(DT_EQUIP_DATA_CLI &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Idx"]=data.wIdx;
	root["DressPos"]=data.byDressPos;
	root["Level"]=data.wLevel;
	root["DressLevel"]=data.wDressLevel;
	root["BattleAttribute"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stBattleAttribute);
	root["RecoverPrice"]=data.dwRecoverPrice;
	root["Science"]=data.dwScience;

	return root;
}
BOOL FromJsonDT_EQUIP_DATA_CLI(Json::Value &root, DT_EQUIP_DATA_CLI &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wIdx=root["Idx"].asUInt();
	data.byDressPos=root["DressPos"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.wDressLevel=root["DressLevel"].asUInt();
	FromJsonDT_BATTLE_ATTRIBUTE(root["BattleAttribute"] , data.stBattleAttribute);
	data.dwRecoverPrice=root["RecoverPrice"].asUInt();
	data.dwScience=root["Science"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_EQUIP_DATA_CLI(const string &strData, DT_EQUIP_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EQUIP_DATA_CLI(root, data);
}
INT32 EncodeDT_EQUIP_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_DATA_LST_CLI *pstIn = (DT_EQUIP_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->wEquipNum)
			break;
		if(-1 == EncodeDT_EQUIP_DATA_CLI(&pstIn->astEquipList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EQUIP_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_DATA_LST_CLI *pstOut = (DT_EQUIP_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->wEquipNum)
			break;
		if(-1 == DecodeDT_EQUIP_DATA_CLI(&pstOut->astEquipList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EQUIP_DATA_LST_CLI(DT_EQUIP_DATA_LST_CLI &data)
{
	Json::Value root;
	root["EquipNum"]=data.wEquipNum;
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
	root["EquipList"].append( GetJsonDT_EQUIP_DATA_CLI(data.astEquipList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_EQUIP_DATA_LST_CLI(Json::Value &root, DT_EQUIP_DATA_LST_CLI &data)
{
	data.wEquipNum=root["EquipNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
		FromJsonDT_EQUIP_DATA_CLI(root["EquipList"][dwIndex] , data.astEquipList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_EQUIP_DATA_LST_CLI(const string &strData, DT_EQUIP_DATA_LST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EQUIP_DATA_LST_CLI(root, data);
}
INT32 EncodeDT_HERO_EQUIP_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_EQUIP_DATA_LST_CLI *pstIn = (DT_HERO_EQUIP_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < EQUIP_POS_NUM; i++)
	{
		if(i >= (INT32)pstIn->wEquipNum)
			break;
		if(-1 == EncodeDT_EQUIP_DATA_CLI(&pstIn->astEquipList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_EQUIP_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_EQUIP_DATA_LST_CLI *pstOut = (DT_HERO_EQUIP_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < EQUIP_POS_NUM; i++)
	{
		if(i >= (INT32)pstOut->wEquipNum)
			break;
		if(-1 == DecodeDT_EQUIP_DATA_CLI(&pstOut->astEquipList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_EQUIP_DATA_LST_CLI(DT_HERO_EQUIP_DATA_LST_CLI &data)
{
	Json::Value root;
	root["EquipNum"]=data.wEquipNum;
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
	root["EquipList"].append( GetJsonDT_EQUIP_DATA_CLI(data.astEquipList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_HERO_EQUIP_DATA_LST_CLI(Json::Value &root, DT_HERO_EQUIP_DATA_LST_CLI &data)
{
	data.wEquipNum=root["EquipNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
		FromJsonDT_EQUIP_DATA_CLI(root["EquipList"][dwIndex] , data.astEquipList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_HERO_EQUIP_DATA_LST_CLI(const string &strData, DT_HERO_EQUIP_DATA_LST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_EQUIP_DATA_LST_CLI(root, data);
}
INT32 EncodeDT_NEED_ITEM_DATA(void *pHost, CNetData* poNetData)
{
	DT_NEED_ITEM_DATA *pstIn = (DT_NEED_ITEM_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wItemKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurNum))
		return -1;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stBurstInstance, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_NEED_ITEM_DATA(void *pHost, CNetData* poNetData)
{
	DT_NEED_ITEM_DATA *pstOut = (DT_NEED_ITEM_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wItemKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurNum))
		return -1;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stBurstInstance, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_NEED_ITEM_DATA(DT_NEED_ITEM_DATA &data)
{
	Json::Value root;
	root["ItemKindID"]=data.wItemKindID;
	root["Num"]=data.byNum;
	root["CurNum"]=data.wCurNum;
	root["BurstInstance"]=GetJsonDT_INSTANCE_ID(data.stBurstInstance);

	return root;
}
BOOL FromJsonDT_NEED_ITEM_DATA(Json::Value &root, DT_NEED_ITEM_DATA &data)
{
	data.wItemKindID=root["ItemKindID"].asUInt();
	data.byNum=root["Num"].asUInt();
	data.wCurNum=root["CurNum"].asUInt();
	FromJsonDT_INSTANCE_ID(root["BurstInstance"] , data.stBurstInstance);

	return TRUE;
}
BOOL FromJsonDT_NEED_ITEM_DATA(const string &strData, DT_NEED_ITEM_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_NEED_ITEM_DATA(root, data);
}
INT32 EncodeDT_ESTIMATE_EQUIP_DATA(void *pHost, CNetData* poNetData)
{
	DT_ESTIMATE_EQUIP_DATA *pstIn = (DT_ESTIMATE_EQUIP_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDressLevel))
		return -1;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stBattleAttribute, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ESTIMATE_EQUIP_DATA(void *pHost, CNetData* poNetData)
{
	DT_ESTIMATE_EQUIP_DATA *pstOut = (DT_ESTIMATE_EQUIP_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDressLevel))
		return -1;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stBattleAttribute, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ESTIMATE_EQUIP_DATA(DT_ESTIMATE_EQUIP_DATA &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Level"]=data.wLevel;
	root["DressLevel"]=data.wDressLevel;
	root["BattleAttribute"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stBattleAttribute);

	return root;
}
BOOL FromJsonDT_ESTIMATE_EQUIP_DATA(Json::Value &root, DT_ESTIMATE_EQUIP_DATA &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.wDressLevel=root["DressLevel"].asUInt();
	FromJsonDT_BATTLE_ATTRIBUTE(root["BattleAttribute"] , data.stBattleAttribute);

	return TRUE;
}
BOOL FromJsonDT_ESTIMATE_EQUIP_DATA(const string &strData, DT_ESTIMATE_EQUIP_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ESTIMATE_EQUIP_DATA(root, data);
}
INT32 EncodeDT_ESTIMATE_DRUG_DATA(void *pHost, CNetData* poNetData)
{
	DT_ESTIMATE_DRUG_DATA *pstIn = (DT_ESTIMATE_DRUG_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wBaseTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDecTalent))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ESTIMATE_DRUG_DATA(void *pHost, CNetData* poNetData)
{
	DT_ESTIMATE_DRUG_DATA *pstOut = (DT_ESTIMATE_DRUG_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wBaseTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDecTalent))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ESTIMATE_DRUG_DATA(DT_ESTIMATE_DRUG_DATA &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["BaseTalent"]=data.wBaseTalent;
	root["DecTalent"]=data.wDecTalent;

	return root;
}
BOOL FromJsonDT_ESTIMATE_DRUG_DATA(Json::Value &root, DT_ESTIMATE_DRUG_DATA &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wBaseTalent=root["BaseTalent"].asUInt();
	data.wDecTalent=root["DecTalent"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_ESTIMATE_DRUG_DATA(const string &strData, DT_ESTIMATE_DRUG_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ESTIMATE_DRUG_DATA(root, data);
}
INT32 EncodeUnDT_ESTIMATE_ITEM_DATA_UNOIN(void *pHost, INT32 iSelect, CNetData* poNetData)
{
	switch(iSelect){
	case EEIK_EQUIP:
		return EncodeDT_ESTIMATE_EQUIP_DATA(pHost, poNetData);
	case EEIK_DRUG:
		return EncodeDT_ESTIMATE_DRUG_DATA(pHost, poNetData);
	default: return -1;
	}
}

INT32 DecodeUnDT_ESTIMATE_ITEM_DATA_UNOIN(void *pHost, INT32 iSelect, CNetData* poNetData)
{
	switch(iSelect){
	case EEIK_EQUIP:
		return DecodeDT_ESTIMATE_EQUIP_DATA(pHost, poNetData);
	case EEIK_DRUG:
		return DecodeDT_ESTIMATE_DRUG_DATA(pHost, poNetData);
	default: return -1;
	}
}

INT32 EncodeDT_ESTIMATE_ITEM_DATA(void *pHost, CNetData* poNetData)
{
	DT_ESTIMATE_ITEM_DATA *pstIn = (DT_ESTIMATE_ITEM_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byItemType))
		return -1;

	if(-1 == EncodeUnDT_ESTIMATE_ITEM_DATA_UNOIN(&pstIn->stItemInfo, pstIn->byItemType, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ESTIMATE_ITEM_DATA(void *pHost, CNetData* poNetData)
{
	DT_ESTIMATE_ITEM_DATA *pstOut = (DT_ESTIMATE_ITEM_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byItemType))
		return -1;

	if(-1 == DecodeUnDT_ESTIMATE_ITEM_DATA_UNOIN(&pstOut->stItemInfo, pstOut->byItemType, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ESTIMATE_ITEM_DATA(DT_ESTIMATE_ITEM_DATA &data)
{
	Json::Value root;
	root["ItemType"]=data.byItemType;

	return root;
}
BOOL FromJsonDT_ESTIMATE_ITEM_DATA(Json::Value &root, DT_ESTIMATE_ITEM_DATA &data)
{
	data.byItemType=root["ItemType"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_ESTIMATE_ITEM_DATA(const string &strData, DT_ESTIMATE_ITEM_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ESTIMATE_ITEM_DATA(root, data);
}
INT32 EncodeDT_EQUIP_COMPOSE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_COMPOSE_DATA_CLI *pstIn = (DT_EQUIP_COMPOSE_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ITEM_MAKER_NEED_NUM; i++)
	{
		if(i >= (INT32)pstIn->byItemNum)
			break;
		if(-1 == EncodeDT_NEED_ITEM_DATA(&pstIn->astItemInfoList[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_ESTIMATE_EQUIP_DATA(&pstIn->stEstimateEquip, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySuccessRate))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwSuccessGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EQUIP_COMPOSE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_COMPOSE_DATA_CLI *pstOut = (DT_EQUIP_COMPOSE_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ITEM_MAKER_NEED_NUM; i++)
	{
		if(i >= (INT32)pstOut->byItemNum)
			break;
		if(-1 == DecodeDT_NEED_ITEM_DATA(&pstOut->astItemInfoList[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_ESTIMATE_EQUIP_DATA(&pstOut->stEstimateEquip, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySuccessRate))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwSuccessGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EQUIP_COMPOSE_DATA_CLI(DT_EQUIP_COMPOSE_DATA_CLI &data)
{
	Json::Value root;
	root["ItemNum"]=data.byItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
	root["ItemInfoList"].append( GetJsonDT_NEED_ITEM_DATA(data.astItemInfoList[dwIndex]) );
	}
	root["EstimateEquip"]=GetJsonDT_ESTIMATE_EQUIP_DATA(data.stEstimateEquip);
	root["SuccessRate"]=data.bySuccessRate;
	root["SuccessGold"]=data.dwSuccessGold;

	return root;
}
BOOL FromJsonDT_EQUIP_COMPOSE_DATA_CLI(Json::Value &root, DT_EQUIP_COMPOSE_DATA_CLI &data)
{
	data.byItemNum=root["ItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
		FromJsonDT_NEED_ITEM_DATA(root["ItemInfoList"][dwIndex] , data.astItemInfoList[dwIndex] );
	}	FromJsonDT_ESTIMATE_EQUIP_DATA(root["EstimateEquip"] , data.stEstimateEquip);
	data.bySuccessRate=root["SuccessRate"].asUInt();
	data.dwSuccessGold=root["SuccessGold"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_EQUIP_COMPOSE_DATA_CLI(const string &strData, DT_EQUIP_COMPOSE_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EQUIP_COMPOSE_DATA_CLI(root, data);
}
INT32 EncodeDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI *pstIn = (DT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->wEquipNum)
			break;
		if(-1 == EncodeDT_EQUIP_DATA_STRENGTHEN_CLI(&pstIn->astEquipStrengthenInfo[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->wEquipNum)
			break;
		if(-1 == EncodeDT_EQUIP_COMPOSE_DATA_CLI(&pstIn->astEquipComposeInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI *pstOut = (DT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->wEquipNum)
			break;
		if(-1 == DecodeDT_EQUIP_DATA_STRENGTHEN_CLI(&pstOut->astEquipStrengthenInfo[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->wEquipNum)
			break;
		if(-1 == DecodeDT_EQUIP_COMPOSE_DATA_CLI(&pstOut->astEquipComposeInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(DT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI &data)
{
	Json::Value root;
	root["EquipNum"]=data.wEquipNum;
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
	root["EquipStrengthenInfo"].append( GetJsonDT_EQUIP_DATA_STRENGTHEN_CLI(data.astEquipStrengthenInfo[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
	root["EquipComposeInfo"].append( GetJsonDT_EQUIP_COMPOSE_DATA_CLI(data.astEquipComposeInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(Json::Value &root, DT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI &data)
{
	data.wEquipNum=root["EquipNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
		FromJsonDT_EQUIP_DATA_STRENGTHEN_CLI(root["EquipStrengthenInfo"][dwIndex] , data.astEquipStrengthenInfo[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
		FromJsonDT_EQUIP_COMPOSE_DATA_CLI(root["EquipComposeInfo"][dwIndex] , data.astEquipComposeInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(const string &strData, DT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(root, data);
}
INT32 EncodeDT_SEED_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_SEED_DATA_CLI *pstIn = (DT_SEED_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byType))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_SEED_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_SEED_DATA_CLI *pstOut = (DT_SEED_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byType))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_SEED_DATA_CLI(DT_SEED_DATA_CLI &data)
{
	Json::Value root;
	root["Type"]=data.byType;
	root["Value"]=data.wValue;
	root["KindID"]=data.wKindID;

	return root;
}
BOOL FromJsonDT_SEED_DATA_CLI(Json::Value &root, DT_SEED_DATA_CLI &data)
{
	data.byType=root["Type"].asUInt();
	data.wValue=root["Value"].asUInt();
	data.wKindID=root["KindID"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_SEED_DATA_CLI(const string &strData, DT_SEED_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_SEED_DATA_CLI(root, data);
}
INT32 EncodeDT_GOODS_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_GOODS_DATA_CLI *pstIn = (DT_GOODS_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byGoodsMainKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUseLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPileCount))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwRecoverPrice))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wComposeCount))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wComposeKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byComposeItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_COMPOSE_ITEM_NUM; i++)
	{
		if(i >= (INT32)pstIn->byComposeItemNum)
			break;
		if(-1 == poNetData->AddWord(pstIn->awComposeItem[i]))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->bySeedFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->bySeedFlag)
			break;
		if(-1 == EncodeDT_SEED_DATA_CLI(&pstIn->astSeedData[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_GOODS_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_GOODS_DATA_CLI *pstOut = (DT_GOODS_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byGoodsMainKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUseLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPileCount))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwRecoverPrice))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wComposeCount))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wComposeKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byComposeItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_COMPOSE_ITEM_NUM; i++)
	{
		if(i >= (INT32)pstOut->byComposeItemNum)
			break;
		if(-1 == poNetData->DelWord(pstOut->awComposeItem[i]))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->bySeedFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->bySeedFlag)
			break;
		if(-1 == DecodeDT_SEED_DATA_CLI(&pstOut->astSeedData[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_GOODS_DATA_CLI(DT_GOODS_DATA_CLI &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["GoodsMainKindID"]=data.byGoodsMainKindID;
	root["UseLevel"]=data.wUseLevel;
	root["PileCount"]=data.wPileCount;
	root["RecoverPrice"]=data.dwRecoverPrice;
	root["Value"]=data.dwValue;
	root["ComposeCount"]=data.wComposeCount;
	root["ComposeKindID"]=data.wComposeKindID;
	root["ComposeItemNum"]=data.byComposeItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byComposeItemNum; ++dwIndex)
	{
	root["ComposeItem"].append( data.awComposeItem[dwIndex]);
	}
	root["SeedFlag"]=data.bySeedFlag;
	for( UINT32 dwIndex=0; dwIndex<data.bySeedFlag; ++dwIndex)
	{
	root["SeedData"].append( GetJsonDT_SEED_DATA_CLI(data.astSeedData[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_GOODS_DATA_CLI(Json::Value &root, DT_GOODS_DATA_CLI &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.byGoodsMainKindID=root["GoodsMainKindID"].asUInt();
	data.wUseLevel=root["UseLevel"].asUInt();
	data.wPileCount=root["PileCount"].asUInt();
	data.dwRecoverPrice=root["RecoverPrice"].asUInt();
	data.dwValue=root["Value"].asUInt();
	data.wComposeCount=root["ComposeCount"].asUInt();
	data.wComposeKindID=root["ComposeKindID"].asUInt();
	data.byComposeItemNum=root["ComposeItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byComposeItemNum; ++dwIndex)
	{
		data.awComposeItem[dwIndex]=WORD(root["ComposeItem"][dwIndex].asUInt() );
	}
	data.bySeedFlag=root["SeedFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.bySeedFlag; ++dwIndex)
	{
		FromJsonDT_SEED_DATA_CLI(root["SeedData"][dwIndex] , data.astSeedData[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_GOODS_DATA_CLI(const string &strData, DT_GOODS_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_GOODS_DATA_CLI(root, data);
}
INT32 EncodeDT_GOODS_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_GOODS_DATA_LST_CLI *pstIn = (DT_GOODS_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wGoodsNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->wGoodsNum)
			break;
		if(-1 == EncodeDT_GOODS_DATA_CLI(&pstIn->astGoodsList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_GOODS_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_GOODS_DATA_LST_CLI *pstOut = (DT_GOODS_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wGoodsNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->wGoodsNum)
			break;
		if(-1 == DecodeDT_GOODS_DATA_CLI(&pstOut->astGoodsList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_GOODS_DATA_LST_CLI(DT_GOODS_DATA_LST_CLI &data)
{
	Json::Value root;
	root["GoodsNum"]=data.wGoodsNum;
	for( UINT32 dwIndex=0; dwIndex<data.wGoodsNum; ++dwIndex)
	{
	root["GoodsList"].append( GetJsonDT_GOODS_DATA_CLI(data.astGoodsList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_GOODS_DATA_LST_CLI(Json::Value &root, DT_GOODS_DATA_LST_CLI &data)
{
	data.wGoodsNum=root["GoodsNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wGoodsNum; ++dwIndex)
	{
		FromJsonDT_GOODS_DATA_CLI(root["GoodsList"][dwIndex] , data.astGoodsList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_GOODS_DATA_LST_CLI(const string &strData, DT_GOODS_DATA_LST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_GOODS_DATA_LST_CLI(root, data);
}
INT32 EncodeDT_ITEM_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_CLI *pstIn = (DT_ITEM_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byGoodsMainKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPileNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ITEM_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_CLI *pstOut = (DT_ITEM_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byGoodsMainKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPileNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ITEM_DATA_CLI(DT_ITEM_DATA_CLI &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["GoodsMainKindID"]=data.byGoodsMainKindID;
	root["PileNum"]=data.wPileNum;

	return root;
}
BOOL FromJsonDT_ITEM_DATA_CLI(Json::Value &root, DT_ITEM_DATA_CLI &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.byGoodsMainKindID=root["GoodsMainKindID"].asUInt();
	data.wPileNum=root["PileNum"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_ITEM_DATA_CLI(const string &strData, DT_ITEM_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ITEM_DATA_CLI(root, data);
}
INT32 EncodeDT_ITEM_DATA_LIST_CLI(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_LIST_CLI *pstIn = (DT_ITEM_DATA_LIST_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->byItemNum)
			break;
		if(-1 == EncodeDT_ITEM_DATA_CLI(&pstIn->astItemList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ITEM_DATA_LIST_CLI(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_LIST_CLI *pstOut = (DT_ITEM_DATA_LIST_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->byItemNum)
			break;
		if(-1 == DecodeDT_ITEM_DATA_CLI(&pstOut->astItemList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ITEM_DATA_LIST_CLI(DT_ITEM_DATA_LIST_CLI &data)
{
	Json::Value root;
	root["ItemNum"]=data.byItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
	root["ItemList"].append( GetJsonDT_ITEM_DATA_CLI(data.astItemList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_ITEM_DATA_LIST_CLI(Json::Value &root, DT_ITEM_DATA_LIST_CLI &data)
{
	data.byItemNum=root["ItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
		FromJsonDT_ITEM_DATA_CLI(root["ItemList"][dwIndex] , data.astItemList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_ITEM_DATA_LIST_CLI(const string &strData, DT_ITEM_DATA_LIST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ITEM_DATA_LIST_CLI(root, data);
}
INT32 EncodeUnDT_ITEM_DATA_UNOIN(void *pHost, INT32 iSelect, CNetData* poNetData)
{
	switch(iSelect){
	case EIK_EQUIP:
		return EncodeDT_EQUIP_DATA_CLI(pHost, poNetData);
	case EIK_GOODS:
		return EncodeDT_GOODS_DATA_CLI(pHost, poNetData);
	default: return -1;
	}
}

INT32 DecodeUnDT_ITEM_DATA_UNOIN(void *pHost, INT32 iSelect, CNetData* poNetData)
{
	switch(iSelect){
	case EIK_EQUIP:
		return DecodeDT_EQUIP_DATA_CLI(pHost, poNetData);
	case EIK_GOODS:
		return DecodeDT_GOODS_DATA_CLI(pHost, poNetData);
	default: return -1;
	}
}

INT32 EncodeDT_ITEM_DATA_CLI2(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_CLI2 *pstIn = (DT_ITEM_DATA_CLI2*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byItemType))
		return -1;

	if(-1 == EncodeUnDT_ITEM_DATA_UNOIN(&pstIn->stItemInfo, pstIn->byItemType, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ITEM_DATA_CLI2(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_CLI2 *pstOut = (DT_ITEM_DATA_CLI2*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byItemType))
		return -1;

	if(-1 == DecodeUnDT_ITEM_DATA_UNOIN(&pstOut->stItemInfo, pstOut->byItemType, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ITEM_DATA_CLI2(DT_ITEM_DATA_CLI2 &data)
{
	Json::Value root;
	root["ItemType"]=data.byItemType;

	return root;
}
BOOL FromJsonDT_ITEM_DATA_CLI2(Json::Value &root, DT_ITEM_DATA_CLI2 &data)
{
	data.byItemType=root["ItemType"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_ITEM_DATA_CLI2(const string &strData, DT_ITEM_DATA_CLI2 &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ITEM_DATA_CLI2(root, data);
}
INT32 EncodeDT_ITEM_DATA_LIST_CLI2(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_LIST_CLI2 *pstIn = (DT_ITEM_DATA_LIST_CLI2*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->byItemNum)
			break;
		if(-1 == EncodeDT_ITEM_DATA_CLI2(&pstIn->astItemList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ITEM_DATA_LIST_CLI2(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_LIST_CLI2 *pstOut = (DT_ITEM_DATA_LIST_CLI2*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->byItemNum)
			break;
		if(-1 == DecodeDT_ITEM_DATA_CLI2(&pstOut->astItemList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ITEM_DATA_LIST_CLI2(DT_ITEM_DATA_LIST_CLI2 &data)
{
	Json::Value root;
	root["ItemNum"]=data.byItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
	root["ItemList"].append( GetJsonDT_ITEM_DATA_CLI2(data.astItemList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_ITEM_DATA_LIST_CLI2(Json::Value &root, DT_ITEM_DATA_LIST_CLI2 &data)
{
	data.byItemNum=root["ItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
		FromJsonDT_ITEM_DATA_CLI2(root["ItemList"][dwIndex] , data.astItemList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_ITEM_DATA_LIST_CLI2(const string &strData, DT_ITEM_DATA_LIST_CLI2 &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ITEM_DATA_LIST_CLI2(root, data);
}
INT32 EncodeDT_TASK_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_TASK_ENCOURAGE_DATA *pstIn = (DT_TASK_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPhyStrength))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwScience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwStory))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ENCOURAGE_ITEM_KIND_NUM; i++)
	{
		if(i >= (INT32)pstIn->byItemNum)
			break;
		if(-1 == EncodeDT_ITEM_DATA_CLI(&pstIn->astItemInfoList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_TASK_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_TASK_ENCOURAGE_DATA *pstOut = (DT_TASK_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPhyStrength))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwScience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwStory))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ENCOURAGE_ITEM_KIND_NUM; i++)
	{
		if(i >= (INT32)pstOut->byItemNum)
			break;
		if(-1 == DecodeDT_ITEM_DATA_CLI(&pstOut->astItemInfoList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_TASK_ENCOURAGE_DATA(DT_TASK_ENCOURAGE_DATA &data)
{
	Json::Value root;
	root["Coin"]=data.dwCoin;
	root["Gold"]=data.dwGold;
	root["PhyStrength"]=data.wPhyStrength;
	root["Science"]=data.dwScience;
	root["Experience"]=data.dwExperience;
	root["Story"]=data.dwStory;
	root["ItemNum"]=data.byItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
	root["ItemInfoList"].append( GetJsonDT_ITEM_DATA_CLI(data.astItemInfoList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_TASK_ENCOURAGE_DATA(Json::Value &root, DT_TASK_ENCOURAGE_DATA &data)
{
	data.dwCoin=root["Coin"].asUInt();
	data.dwGold=root["Gold"].asUInt();
	data.wPhyStrength=root["PhyStrength"].asUInt();
	data.dwScience=root["Science"].asUInt();
	data.dwExperience=root["Experience"].asUInt();
	data.dwStory=root["Story"].asUInt();
	data.byItemNum=root["ItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
		FromJsonDT_ITEM_DATA_CLI(root["ItemInfoList"][dwIndex] , data.astItemInfoList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_TASK_ENCOURAGE_DATA(const string &strData, DT_TASK_ENCOURAGE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_TASK_ENCOURAGE_DATA(root, data);
}
INT32 EncodeDT_TASK_BASE_DATA(void *pHost, CNetData* poNetData)
{
	DT_TASK_BASE_DATA *pstIn = (DT_TASK_BASE_DATA*)pHost;

	if(-1 == poNetData->AddTString(pstIn->aszTaskDispName, sizeof(pstIn->aszTaskDispName)))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszTaskDesc, sizeof(pstIn->aszTaskDesc)))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTaskType))
		return -1;

	if(-1 == EncodeUnDT_TASK_CONDITION(&pstIn->stTaskConditionInfo, pstIn->byTaskType, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_ENCOURAGE_DATA(&pstIn->stTaskEncourage, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_TASK_BASE_DATA(void *pHost, CNetData* poNetData)
{
	DT_TASK_BASE_DATA *pstOut = (DT_TASK_BASE_DATA*)pHost;

	if(-1 == poNetData->DelTString(pstOut->aszTaskDispName, sizeof(pstOut->aszTaskDispName)))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszTaskDesc, sizeof(pstOut->aszTaskDesc)))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTaskType))
		return -1;

	if(-1 == DecodeUnDT_TASK_CONDITION(&pstOut->stTaskConditionInfo, pstOut->byTaskType, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_ENCOURAGE_DATA(&pstOut->stTaskEncourage, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_TASK_BASE_DATA(DT_TASK_BASE_DATA &data)
{
	Json::Value root;
	root["TaskDispName"]=data.aszTaskDispName;
	root["TaskDesc"]=data.aszTaskDesc;
	root["TaskType"]=data.byTaskType;
	root["TaskEncourage"]=GetJsonDT_TASK_ENCOURAGE_DATA(data.stTaskEncourage);

	return root;
}
BOOL FromJsonDT_TASK_BASE_DATA(Json::Value &root, DT_TASK_BASE_DATA &data)
{
	strncpy( data.aszTaskDispName,root["TaskDispName"].asCString(),MAX_TASK_DSPNAME_LEN);
	strncpy( data.aszTaskDesc,root["TaskDesc"].asCString(),MAX_TASK_DESC_LEN);
	data.byTaskType=root["TaskType"].asUInt();
	FromJsonDT_TASK_ENCOURAGE_DATA(root["TaskEncourage"] , data.stTaskEncourage);

	return TRUE;
}
BOOL FromJsonDT_TASK_BASE_DATA(const string &strData, DT_TASK_BASE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_TASK_BASE_DATA(root, data);
}
INT32 EncodeDT_GIVEN_TASK_DATA(void *pHost, CNetData* poNetData)
{
	DT_GIVEN_TASK_DATA *pstIn = (DT_GIVEN_TASK_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStateUpdateTime))
		return -1;

	if(-1 == EncodeDT_TASK_BASE_DATA(&pstIn->stTaskBaseData, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCanAccept))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPlayerLevel))
		return -1;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stInstanceID, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_GIVEN_TASK_DATA(void *pHost, CNetData* poNetData)
{
	DT_GIVEN_TASK_DATA *pstOut = (DT_GIVEN_TASK_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStateUpdateTime))
		return -1;

	if(-1 == DecodeDT_TASK_BASE_DATA(&pstOut->stTaskBaseData, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCanAccept))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPlayerLevel))
		return -1;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stInstanceID, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_GIVEN_TASK_DATA(DT_GIVEN_TASK_DATA &data)
{
	Json::Value root;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;
	ostringstream ssqwStateUpdateTime;
	ssqwStateUpdateTime<<data.qwStateUpdateTime;
	root["StateUpdateTime"]=ssqwStateUpdateTime.str();
	root["TaskBaseData"]=GetJsonDT_TASK_BASE_DATA(data.stTaskBaseData);
	root["CanAccept"]=data.byCanAccept;
	root["PlayerLevel"]=data.wPlayerLevel;
	root["InstanceID"]=GetJsonDT_INSTANCE_ID(data.stInstanceID);

	return root;
}
BOOL FromJsonDT_GIVEN_TASK_DATA(Json::Value &root, DT_GIVEN_TASK_DATA &data)
{
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();
	data.qwStateUpdateTime=SDAtou64( root["StateUpdateTime"].asCString() );
	FromJsonDT_TASK_BASE_DATA(root["TaskBaseData"] , data.stTaskBaseData);
	data.byCanAccept=root["CanAccept"].asUInt();
	data.wPlayerLevel=root["PlayerLevel"].asUInt();
	FromJsonDT_INSTANCE_ID(root["InstanceID"] , data.stInstanceID);

	return TRUE;
}
BOOL FromJsonDT_GIVEN_TASK_DATA(const string &strData, DT_GIVEN_TASK_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_GIVEN_TASK_DATA(root, data);
}
INT32 EncodeDT_ACCEPT_TASK_DATA(void *pHost, CNetData* poNetData)
{
	DT_ACCEPT_TASK_DATA *pstIn = (DT_ACCEPT_TASK_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStateUpdateTime))
		return -1;

	if(-1 == EncodeDT_TASK_BASE_DATA(&pstIn->stTaskBaseData, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ACCEPT_TASK_DATA(void *pHost, CNetData* poNetData)
{
	DT_ACCEPT_TASK_DATA *pstOut = (DT_ACCEPT_TASK_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStateUpdateTime))
		return -1;

	if(-1 == DecodeDT_TASK_BASE_DATA(&pstOut->stTaskBaseData, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ACCEPT_TASK_DATA(DT_ACCEPT_TASK_DATA &data)
{
	Json::Value root;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;
	ostringstream ssqwStateUpdateTime;
	ssqwStateUpdateTime<<data.qwStateUpdateTime;
	root["StateUpdateTime"]=ssqwStateUpdateTime.str();
	root["TaskBaseData"]=GetJsonDT_TASK_BASE_DATA(data.stTaskBaseData);

	return root;
}
BOOL FromJsonDT_ACCEPT_TASK_DATA(Json::Value &root, DT_ACCEPT_TASK_DATA &data)
{
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();
	data.qwStateUpdateTime=SDAtou64( root["StateUpdateTime"].asCString() );
	FromJsonDT_TASK_BASE_DATA(root["TaskBaseData"] , data.stTaskBaseData);

	return TRUE;
}
BOOL FromJsonDT_ACCEPT_TASK_DATA(const string &strData, DT_ACCEPT_TASK_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ACCEPT_TASK_DATA(root, data);
}
INT32 EncodeDT_ENCOURAGE_TASK_DATA(void *pHost, CNetData* poNetData)
{
	DT_ENCOURAGE_TASK_DATA *pstIn = (DT_ENCOURAGE_TASK_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStateUpdateTime))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveBaseData))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveBaseData)
			break;
		if(-1 == EncodeDT_TASK_BASE_DATA(&pstIn->astTaskBaseData[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ENCOURAGE_TASK_DATA(void *pHost, CNetData* poNetData)
{
	DT_ENCOURAGE_TASK_DATA *pstOut = (DT_ENCOURAGE_TASK_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStateUpdateTime))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveBaseData))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveBaseData)
			break;
		if(-1 == DecodeDT_TASK_BASE_DATA(&pstOut->astTaskBaseData[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ENCOURAGE_TASK_DATA(DT_ENCOURAGE_TASK_DATA &data)
{
	Json::Value root;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;
	ostringstream ssqwStateUpdateTime;
	ssqwStateUpdateTime<<data.qwStateUpdateTime;
	root["StateUpdateTime"]=ssqwStateUpdateTime.str();
	root["HaveBaseData"]=data.byHaveBaseData;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveBaseData; ++dwIndex)
	{
	root["TaskBaseData"].append( GetJsonDT_TASK_BASE_DATA(data.astTaskBaseData[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_ENCOURAGE_TASK_DATA(Json::Value &root, DT_ENCOURAGE_TASK_DATA &data)
{
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();
	data.qwStateUpdateTime=SDAtou64( root["StateUpdateTime"].asCString() );
	data.byHaveBaseData=root["HaveBaseData"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveBaseData; ++dwIndex)
	{
		FromJsonDT_TASK_BASE_DATA(root["TaskBaseData"][dwIndex] , data.astTaskBaseData[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_ENCOURAGE_TASK_DATA(const string &strData, DT_ENCOURAGE_TASK_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ENCOURAGE_TASK_DATA(root, data);
}
INT32 EncodeDT_INVALID_TASK_DATA(void *pHost, CNetData* poNetData)
{
	DT_INVALID_TASK_DATA *pstIn = (DT_INVALID_TASK_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_INVALID_TASK_DATA(void *pHost, CNetData* poNetData)
{
	DT_INVALID_TASK_DATA *pstOut = (DT_INVALID_TASK_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_INVALID_TASK_DATA(DT_INVALID_TASK_DATA &data)
{
	Json::Value root;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;

	return root;
}
BOOL FromJsonDT_INVALID_TASK_DATA(Json::Value &root, DT_INVALID_TASK_DATA &data)
{
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_INVALID_TASK_DATA(const string &strData, DT_INVALID_TASK_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_INVALID_TASK_DATA(root, data);
}
INT32 EncodeUnDT_TASK_UNION(void *pHost, INT32 iSelect, CNetData* poNetData)
{
	switch(iSelect){
	case ETS_GIVEN:
		return EncodeDT_GIVEN_TASK_DATA(pHost, poNetData);
	case ETS_ACCEPTED:
		return EncodeDT_ACCEPT_TASK_DATA(pHost, poNetData);
	case ETS_ENCOURAGE:
		return EncodeDT_ENCOURAGE_TASK_DATA(pHost, poNetData);
	case ETS_INVALID:
		return EncodeDT_INVALID_TASK_DATA(pHost, poNetData);
	default: return -1;
	}
}

INT32 DecodeUnDT_TASK_UNION(void *pHost, INT32 iSelect, CNetData* poNetData)
{
	switch(iSelect){
	case ETS_GIVEN:
		return DecodeDT_GIVEN_TASK_DATA(pHost, poNetData);
	case ETS_ACCEPTED:
		return DecodeDT_ACCEPT_TASK_DATA(pHost, poNetData);
	case ETS_ENCOURAGE:
		return DecodeDT_ENCOURAGE_TASK_DATA(pHost, poNetData);
	case ETS_INVALID:
		return DecodeDT_INVALID_TASK_DATA(pHost, poNetData);
	default: return -1;
	}
}

INT32 EncodeDT_TASK_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_TASK_DATA_CLI *pstIn = (DT_TASK_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskState))
		return -1;

	if(-1 == EncodeUnDT_TASK_UNION(&pstIn->stTaskInfo, pstIn->byTaskState, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_TASK_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_TASK_DATA_CLI *pstOut = (DT_TASK_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskState))
		return -1;

	if(-1 == DecodeUnDT_TASK_UNION(&pstOut->stTaskInfo, pstOut->byTaskState, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_TASK_DATA_CLI(DT_TASK_DATA_CLI &data)
{
	Json::Value root;
	root["TaskState"]=data.byTaskState;

	return root;
}
BOOL FromJsonDT_TASK_DATA_CLI(Json::Value &root, DT_TASK_DATA_CLI &data)
{
	data.byTaskState=root["TaskState"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_TASK_DATA_CLI(const string &strData, DT_TASK_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_TASK_DATA_CLI(root, data);
}
INT32 EncodeDT_TASK_DATA_LIST_CLI(void *pHost, CNetData* poNetData)
{
	DT_TASK_DATA_LIST_CLI *pstIn = (DT_TASK_DATA_LIST_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_TASK_LINE_NUM; i++)
	{
		if(i >= (INT32)pstIn->byTaskNum)
			break;
		if(-1 == EncodeDT_TASK_DATA_CLI(&pstIn->astTaskInfoList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_TASK_DATA_LIST_CLI(void *pHost, CNetData* poNetData)
{
	DT_TASK_DATA_LIST_CLI *pstOut = (DT_TASK_DATA_LIST_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_TASK_LINE_NUM; i++)
	{
		if(i >= (INT32)pstOut->byTaskNum)
			break;
		if(-1 == DecodeDT_TASK_DATA_CLI(&pstOut->astTaskInfoList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_TASK_DATA_LIST_CLI(DT_TASK_DATA_LIST_CLI &data)
{
	Json::Value root;
	root["TaskNum"]=data.byTaskNum;
	for( UINT32 dwIndex=0; dwIndex<data.byTaskNum; ++dwIndex)
	{
	root["TaskInfoList"].append( GetJsonDT_TASK_DATA_CLI(data.astTaskInfoList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_TASK_DATA_LIST_CLI(Json::Value &root, DT_TASK_DATA_LIST_CLI &data)
{
	data.byTaskNum=root["TaskNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byTaskNum; ++dwIndex)
	{
		FromJsonDT_TASK_DATA_CLI(root["TaskInfoList"][dwIndex] , data.astTaskInfoList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_TASK_DATA_LIST_CLI(const string &strData, DT_TASK_DATA_LIST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_TASK_DATA_LIST_CLI(root, data);
}
INT32 EncodeDT_ACCEPT_TASK_COND_RECORD(void *pHost, CNetData* poNetData)
{
	DT_ACCEPT_TASK_COND_RECORD *pstIn = (DT_ACCEPT_TASK_COND_RECORD*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTaskType))
		return -1;

	if(-1 == EncodeUnDT_TASK_CONDITION(&pstIn->stTaskCondRecord, pstIn->byTaskType, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ACCEPT_TASK_COND_RECORD(void *pHost, CNetData* poNetData)
{
	DT_ACCEPT_TASK_COND_RECORD *pstOut = (DT_ACCEPT_TASK_COND_RECORD*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTaskType))
		return -1;

	if(-1 == DecodeUnDT_TASK_CONDITION(&pstOut->stTaskCondRecord, pstOut->byTaskType, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ACCEPT_TASK_COND_RECORD(DT_ACCEPT_TASK_COND_RECORD &data)
{
	Json::Value root;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;
	root["TaskType"]=data.byTaskType;

	return root;
}
BOOL FromJsonDT_ACCEPT_TASK_COND_RECORD(Json::Value &root, DT_ACCEPT_TASK_COND_RECORD &data)
{
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();
	data.byTaskType=root["TaskType"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_ACCEPT_TASK_COND_RECORD(const string &strData, DT_ACCEPT_TASK_COND_RECORD &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ACCEPT_TASK_COND_RECORD(root, data);
}
INT32 EncodeDT_TASK_COND_RECORD_LIST(void *pHost, CNetData* poNetData)
{
	DT_TASK_COND_RECORD_LIST *pstIn = (DT_TASK_COND_RECORD_LIST*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_TASK_LINE_NUM; i++)
	{
		if(i >= (INT32)pstIn->byTaskNum)
			break;
		if(-1 == EncodeDT_ACCEPT_TASK_COND_RECORD(&pstIn->astTaskConRecordList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_TASK_COND_RECORD_LIST(void *pHost, CNetData* poNetData)
{
	DT_TASK_COND_RECORD_LIST *pstOut = (DT_TASK_COND_RECORD_LIST*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_TASK_LINE_NUM; i++)
	{
		if(i >= (INT32)pstOut->byTaskNum)
			break;
		if(-1 == DecodeDT_ACCEPT_TASK_COND_RECORD(&pstOut->astTaskConRecordList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_TASK_COND_RECORD_LIST(DT_TASK_COND_RECORD_LIST &data)
{
	Json::Value root;
	root["TaskNum"]=data.byTaskNum;
	for( UINT32 dwIndex=0; dwIndex<data.byTaskNum; ++dwIndex)
	{
	root["TaskConRecordList"].append( GetJsonDT_ACCEPT_TASK_COND_RECORD(data.astTaskConRecordList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_TASK_COND_RECORD_LIST(Json::Value &root, DT_TASK_COND_RECORD_LIST &data)
{
	data.byTaskNum=root["TaskNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byTaskNum; ++dwIndex)
	{
		FromJsonDT_ACCEPT_TASK_COND_RECORD(root["TaskConRecordList"][dwIndex] , data.astTaskConRecordList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_TASK_COND_RECORD_LIST(const string &strData, DT_TASK_COND_RECORD_LIST &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_TASK_COND_RECORD_LIST(root, data);
}
INT32 EncodeDT_PHYSTRENGTH_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_PHYSTRENGTH_DATA_CLI *pstIn = (DT_PHYSTRENGTH_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wPhyStrength))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wMaxPhyStrength))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPhyStrengthRefreshCD))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPhyStrengthCountDown))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PHYSTRENGTH_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_PHYSTRENGTH_DATA_CLI *pstOut = (DT_PHYSTRENGTH_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wPhyStrength))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wMaxPhyStrength))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPhyStrengthRefreshCD))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPhyStrengthCountDown))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PHYSTRENGTH_DATA_CLI(DT_PHYSTRENGTH_DATA_CLI &data)
{
	Json::Value root;
	root["PhyStrength"]=data.wPhyStrength;
	root["MaxPhyStrength"]=data.wMaxPhyStrength;
	root["PhyStrengthRefreshCD"]=data.wPhyStrengthRefreshCD;
	root["PhyStrengthCountDown"]=data.wPhyStrengthCountDown;

	return root;
}
BOOL FromJsonDT_PHYSTRENGTH_DATA_CLI(Json::Value &root, DT_PHYSTRENGTH_DATA_CLI &data)
{
	data.wPhyStrength=root["PhyStrength"].asUInt();
	data.wMaxPhyStrength=root["MaxPhyStrength"].asUInt();
	data.wPhyStrengthRefreshCD=root["PhyStrengthRefreshCD"].asUInt();
	data.wPhyStrengthCountDown=root["PhyStrengthCountDown"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_PHYSTRENGTH_DATA_CLI(const string &strData, DT_PHYSTRENGTH_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PHYSTRENGTH_DATA_CLI(root, data);
}
INT32 EncodeDT_EXPERIENCE_DATA(void *pHost, CNetData* poNetData)
{
	DT_EXPERIENCE_DATA *pstIn = (DT_EXPERIENCE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUpgradeExperience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EXPERIENCE_DATA(void *pHost, CNetData* poNetData)
{
	DT_EXPERIENCE_DATA *pstOut = (DT_EXPERIENCE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUpgradeExperience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EXPERIENCE_DATA(DT_EXPERIENCE_DATA &data)
{
	Json::Value root;
	root["Experience"]=data.dwExperience;
	root["UpgradeExperience"]=data.dwUpgradeExperience;

	return root;
}
BOOL FromJsonDT_EXPERIENCE_DATA(Json::Value &root, DT_EXPERIENCE_DATA &data)
{
	data.dwExperience=root["Experience"].asUInt();
	data.dwUpgradeExperience=root["UpgradeExperience"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_EXPERIENCE_DATA(const string &strData, DT_EXPERIENCE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EXPERIENCE_DATA(root, data);
}
INT32 EncodeDT_PLAYER_BASE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_PLAYER_BASE_DATA_CLI *pstIn = (DT_PLAYER_BASE_DATA_CLI*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszDispName, sizeof(pstIn->aszDispName)))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwGold))
		return -1;

	if(-1 == EncodeDT_PHYSTRENGTH_DATA_CLI(&pstIn->stPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == EncodeDT_EXPERIENCE_DATA(&pstIn->stExperienceInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwScience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPower))
		return -1;

	if(-1 == EncodeDT_LOCALE_DATA(&pstIn->stLocaleData, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGuide))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PLAYER_BASE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_PLAYER_BASE_DATA_CLI *pstOut = (DT_PLAYER_BASE_DATA_CLI*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszDispName, sizeof(pstOut->aszDispName)))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwGold))
		return -1;

	if(-1 == DecodeDT_PHYSTRENGTH_DATA_CLI(&pstOut->stPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == DecodeDT_EXPERIENCE_DATA(&pstOut->stExperienceInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwScience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPower))
		return -1;

	if(-1 == DecodeDT_LOCALE_DATA(&pstOut->stLocaleData, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGuide))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PLAYER_BASE_DATA_CLI(DT_PLAYER_BASE_DATA_CLI &data)
{
	Json::Value root;
	root["ID"]=data.dwID;
	root["DispName"]=data.aszDispName;
	ostringstream ssqwCoin;
	ssqwCoin<<data.qwCoin;
	root["Coin"]=ssqwCoin.str();
	ostringstream ssqwGold;
	ssqwGold<<data.qwGold;
	root["Gold"]=ssqwGold.str();
	root["PhyStrengthInfo"]=GetJsonDT_PHYSTRENGTH_DATA_CLI(data.stPhyStrengthInfo);
	root["Level"]=data.wLevel;
	root["ExperienceInfo"]=GetJsonDT_EXPERIENCE_DATA(data.stExperienceInfo);
	ostringstream ssqwScience;
	ssqwScience<<data.qwScience;
	root["Science"]=ssqwScience.str();
	root["Power"]=data.dwPower;
	root["LocaleData"]=GetJsonDT_LOCALE_DATA(data.stLocaleData);
	root["Guide"]=data.dwGuide;

	return root;
}
BOOL FromJsonDT_PLAYER_BASE_DATA_CLI(Json::Value &root, DT_PLAYER_BASE_DATA_CLI &data)
{
	data.dwID=root["ID"].asUInt();
	strncpy( data.aszDispName,root["DispName"].asCString(),USERNAME_LEN);
	data.qwCoin=SDAtou64( root["Coin"].asCString() );
	data.qwGold=SDAtou64( root["Gold"].asCString() );
	FromJsonDT_PHYSTRENGTH_DATA_CLI(root["PhyStrengthInfo"] , data.stPhyStrengthInfo);
	data.wLevel=root["Level"].asUInt();
	FromJsonDT_EXPERIENCE_DATA(root["ExperienceInfo"] , data.stExperienceInfo);
	data.qwScience=SDAtou64( root["Science"].asCString() );
	data.dwPower=root["Power"].asUInt();
	FromJsonDT_LOCALE_DATA(root["LocaleData"] , data.stLocaleData);
	data.dwGuide=root["Guide"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_PLAYER_BASE_DATA_CLI(const string &strData, DT_PLAYER_BASE_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PLAYER_BASE_DATA_CLI(root, data);
}
INT32 EncodeDT_BUILD_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_BUILD_DATA_CLI *pstIn = (DT_BUILD_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySort))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveOpenFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_BUILD_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_BUILD_DATA_CLI *pstOut = (DT_BUILD_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySort))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveOpenFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_BUILD_DATA_CLI(DT_BUILD_DATA_CLI &data)
{
	Json::Value root;
	root["KindID"]=data.byKindID;
	root["Level"]=data.wLevel;
	root["Sort"]=data.bySort;
	root["HaveOpenFlag"]=data.byHaveOpenFlag;

	return root;
}
BOOL FromJsonDT_BUILD_DATA_CLI(Json::Value &root, DT_BUILD_DATA_CLI &data)
{
	data.byKindID=root["KindID"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.bySort=root["Sort"].asUInt();
	data.byHaveOpenFlag=root["HaveOpenFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_BUILD_DATA_CLI(const string &strData, DT_BUILD_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_BUILD_DATA_CLI(root, data);
}
INT32 EncodeDT_ONLINE_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_ONLINE_ENCOURAGE_DATA *pstIn = (DT_ONLINE_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGold))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwScience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPhyStrength))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ENCOURAGE_ITEM_KIND_NUM; i++)
	{
		if(i >= (INT32)pstIn->byItemNum)
			break;
		if(-1 == EncodeDT_ITEM_DATA_CLI(&pstIn->astItemInfoList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ONLINE_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_ONLINE_ENCOURAGE_DATA *pstOut = (DT_ONLINE_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGold))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwScience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPhyStrength))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ENCOURAGE_ITEM_KIND_NUM; i++)
	{
		if(i >= (INT32)pstOut->byItemNum)
			break;
		if(-1 == DecodeDT_ITEM_DATA_CLI(&pstOut->astItemInfoList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ONLINE_ENCOURAGE_DATA(DT_ONLINE_ENCOURAGE_DATA &data)
{
	Json::Value root;
	root["Coin"]=data.dwCoin;
	root["Gold"]=data.dwGold;
	root["Science"]=data.dwScience;
	root["Experience"]=data.dwExperience;
	root["PhyStrength"]=data.wPhyStrength;
	root["ItemNum"]=data.byItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
	root["ItemInfoList"].append( GetJsonDT_ITEM_DATA_CLI(data.astItemInfoList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_ONLINE_ENCOURAGE_DATA(Json::Value &root, DT_ONLINE_ENCOURAGE_DATA &data)
{
	data.dwCoin=root["Coin"].asUInt();
	data.dwGold=root["Gold"].asUInt();
	data.dwScience=root["Science"].asUInt();
	data.dwExperience=root["Experience"].asUInt();
	data.wPhyStrength=root["PhyStrength"].asUInt();
	data.byItemNum=root["ItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
		FromJsonDT_ITEM_DATA_CLI(root["ItemInfoList"][dwIndex] , data.astItemInfoList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_ONLINE_ENCOURAGE_DATA(const string &strData, DT_ONLINE_ENCOURAGE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ONLINE_ENCOURAGE_DATA(root, data);
}
INT32 EncodeDT_DATA_AFTER_ONLINE_ENCOURAGE(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_ONLINE_ENCOURAGE *pstIn = (DT_DATA_AFTER_ONLINE_ENCOURAGE*)pHost;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPhyStrength))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DATA_AFTER_ONLINE_ENCOURAGE(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_ONLINE_ENCOURAGE *pstOut = (DT_DATA_AFTER_ONLINE_ENCOURAGE*)pHost;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPhyStrength))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DATA_AFTER_ONLINE_ENCOURAGE(DT_DATA_AFTER_ONLINE_ENCOURAGE &data)
{
	Json::Value root;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	root["PhyStrength"]=data.wPhyStrength;

	return root;
}
BOOL FromJsonDT_DATA_AFTER_ONLINE_ENCOURAGE(Json::Value &root, DT_DATA_AFTER_ONLINE_ENCOURAGE &data)
{
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	data.wPhyStrength=root["PhyStrength"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_DATA_AFTER_ONLINE_ENCOURAGE(const string &strData, DT_DATA_AFTER_ONLINE_ENCOURAGE &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DATA_AFTER_ONLINE_ENCOURAGE(root, data);
}
INT32 EncodePKT_CLIGS_ENTERGS_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTERGS_ACK *pstIn = (PKT_CLIGS_ENTERGS_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_PLAYER_BASE_DATA_CLI(&pstIn->stPlayerInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->wHeroNum)
			break;
		if(-1 == EncodeDT_HERO_BASE_DATA_CLI(&pstIn->astHeroInfoLst[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddWord(pstIn->wBuildNum))
		return -1;

	for(i = 0; i < MAX_BUILD_NUM; i++)
	{
		if(i >= (INT32)pstIn->wBuildNum)
			break;
		if(-1 == EncodeDT_BUILD_DATA_CLI(&pstIn->astBuildInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byOnlineEncourageFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byOnlineEncourageFlag)
			break;
		if(-1 == EncodeDT_ONLINE_ENCOURAGE_DATA(&pstIn->astOnlineEncourage[i], poNetData))
			return -1;
	}

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byOnlineEncourageFlag)
			break;
		if(-1 == poNetData->AddWord(pstIn->awRecvCountDown[i]))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byUnreadRaceBattleLogNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUnreadPlunderBattleLogNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wJuniorLevel))
		return -1;

	if(-1 == EncodeDT_EXT_FUNC_PARAM_LST(&pstIn->stExtFuncParamLst, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ENTERGS_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTERGS_ACK *pstOut = (PKT_CLIGS_ENTERGS_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_PLAYER_BASE_DATA_CLI(&pstOut->stPlayerInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->wHeroNum)
			break;
		if(-1 == DecodeDT_HERO_BASE_DATA_CLI(&pstOut->astHeroInfoLst[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelWord(pstOut->wBuildNum))
		return -1;

	for(i = 0; i < MAX_BUILD_NUM; i++)
	{
		if(i >= (INT32)pstOut->wBuildNum)
			break;
		if(-1 == DecodeDT_BUILD_DATA_CLI(&pstOut->astBuildInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byOnlineEncourageFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byOnlineEncourageFlag)
			break;
		if(-1 == DecodeDT_ONLINE_ENCOURAGE_DATA(&pstOut->astOnlineEncourage[i], poNetData))
			return -1;
	}

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byOnlineEncourageFlag)
			break;
		if(-1 == poNetData->DelWord(pstOut->awRecvCountDown[i]))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byUnreadRaceBattleLogNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUnreadPlunderBattleLogNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wJuniorLevel))
		return -1;

	if(-1 == DecodeDT_EXT_FUNC_PARAM_LST(&pstOut->stExtFuncParamLst, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ENTERGS_ACK(PKT_CLIGS_ENTERGS_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["PlayerInfo"]=GetJsonDT_PLAYER_BASE_DATA_CLI(data.stPlayerInfo);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["HeroNum"]=data.wHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
	root["HeroInfoLst"].append( GetJsonDT_HERO_BASE_DATA_CLI(data.astHeroInfoLst[dwIndex]) );
	}
	root["BuildNum"]=data.wBuildNum;
	for( UINT32 dwIndex=0; dwIndex<data.wBuildNum; ++dwIndex)
	{
	root["BuildInfo"].append( GetJsonDT_BUILD_DATA_CLI(data.astBuildInfo[dwIndex]) );
	}
	root["OnlineEncourageFlag"]=data.byOnlineEncourageFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byOnlineEncourageFlag; ++dwIndex)
	{
	root["OnlineEncourage"].append( GetJsonDT_ONLINE_ENCOURAGE_DATA(data.astOnlineEncourage[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<data.byOnlineEncourageFlag; ++dwIndex)
	{
	root["RecvCountDown"].append( data.awRecvCountDown[dwIndex]);
	}
	root["UnreadRaceBattleLogNum"]=data.byUnreadRaceBattleLogNum;
	root["UnreadPlunderBattleLogNum"]=data.byUnreadPlunderBattleLogNum;
	root["JuniorLevel"]=data.wJuniorLevel;
	root["ExtFuncParamLst"]=GetJsonDT_EXT_FUNC_PARAM_LST(data.stExtFuncParamLst);

	return root;
}
BOOL FromJsonPKT_CLIGS_ENTERGS_ACK(Json::Value &root, PKT_CLIGS_ENTERGS_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_PLAYER_BASE_DATA_CLI(root["PlayerInfo"] , data.stPlayerInfo);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	data.wHeroNum=root["HeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
		FromJsonDT_HERO_BASE_DATA_CLI(root["HeroInfoLst"][dwIndex] , data.astHeroInfoLst[dwIndex] );
	}	data.wBuildNum=root["BuildNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wBuildNum; ++dwIndex)
	{
		FromJsonDT_BUILD_DATA_CLI(root["BuildInfo"][dwIndex] , data.astBuildInfo[dwIndex] );
	}	data.byOnlineEncourageFlag=root["OnlineEncourageFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byOnlineEncourageFlag; ++dwIndex)
	{
		FromJsonDT_ONLINE_ENCOURAGE_DATA(root["OnlineEncourage"][dwIndex] , data.astOnlineEncourage[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<data.byOnlineEncourageFlag; ++dwIndex)
	{
		data.awRecvCountDown[dwIndex]=WORD(root["RecvCountDown"][dwIndex].asUInt() );
	}
	data.byUnreadRaceBattleLogNum=root["UnreadRaceBattleLogNum"].asUInt();
	data.byUnreadPlunderBattleLogNum=root["UnreadPlunderBattleLogNum"].asUInt();
	data.wJuniorLevel=root["JuniorLevel"].asUInt();
	FromJsonDT_EXT_FUNC_PARAM_LST(root["ExtFuncParamLst"] , data.stExtFuncParamLst);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ENTERGS_ACK(const string &strData, PKT_CLIGS_ENTERGS_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ENTERGS_ACK(root, data);
}
INT32 EncodeDT_BAG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_BAG_DATA_CLI *pstIn = (DT_BAG_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byMaxOpenNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byInitOpenNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCurOpenNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwBaseOpenCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwOpenCoinIncrease))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwBaseOpenGold))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwOpenGoldIncrease))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_BAG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_BAG_DATA_CLI *pstOut = (DT_BAG_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byMaxOpenNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byInitOpenNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCurOpenNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwBaseOpenCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwOpenCoinIncrease))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwBaseOpenGold))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwOpenGoldIncrease))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_BAG_DATA_CLI(DT_BAG_DATA_CLI &data)
{
	Json::Value root;
	root["MaxOpenNum"]=data.byMaxOpenNum;
	root["InitOpenNum"]=data.byInitOpenNum;
	root["CurOpenNum"]=data.byCurOpenNum;
	root["BaseOpenCoin"]=data.dwBaseOpenCoin;
	root["OpenCoinIncrease"]=data.dwOpenCoinIncrease;
	root["BaseOpenGold"]=data.dwBaseOpenGold;
	root["OpenGoldIncrease"]=data.dwOpenGoldIncrease;

	return root;
}
BOOL FromJsonDT_BAG_DATA_CLI(Json::Value &root, DT_BAG_DATA_CLI &data)
{
	data.byMaxOpenNum=root["MaxOpenNum"].asUInt();
	data.byInitOpenNum=root["InitOpenNum"].asUInt();
	data.byCurOpenNum=root["CurOpenNum"].asUInt();
	data.dwBaseOpenCoin=root["BaseOpenCoin"].asUInt();
	data.dwOpenCoinIncrease=root["OpenCoinIncrease"].asUInt();
	data.dwBaseOpenGold=root["BaseOpenGold"].asUInt();
	data.dwOpenGoldIncrease=root["OpenGoldIncrease"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_BAG_DATA_CLI(const string &strData, DT_BAG_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_BAG_DATA_CLI(root, data);
}
INT32 EncodeDT_EQUIP_BAG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_BAG_DATA_CLI *pstIn = (DT_EQUIP_BAG_DATA_CLI*)pHost;

	if(-1 == EncodeDT_BAG_DATA_CLI(&pstIn->stBagInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_EQUIP_DATA_LST_CLI(&pstIn->stBagEquipDataList, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EQUIP_BAG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_BAG_DATA_CLI *pstOut = (DT_EQUIP_BAG_DATA_CLI*)pHost;

	if(-1 == DecodeDT_BAG_DATA_CLI(&pstOut->stBagInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_EQUIP_DATA_LST_CLI(&pstOut->stBagEquipDataList, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EQUIP_BAG_DATA_CLI(DT_EQUIP_BAG_DATA_CLI &data)
{
	Json::Value root;
	root["BagInfo"]=GetJsonDT_BAG_DATA_CLI(data.stBagInfo);
	root["BagEquipDataList"]=GetJsonDT_EQUIP_DATA_LST_CLI(data.stBagEquipDataList);

	return root;
}
BOOL FromJsonDT_EQUIP_BAG_DATA_CLI(Json::Value &root, DT_EQUIP_BAG_DATA_CLI &data)
{
	FromJsonDT_BAG_DATA_CLI(root["BagInfo"] , data.stBagInfo);
	FromJsonDT_EQUIP_DATA_LST_CLI(root["BagEquipDataList"] , data.stBagEquipDataList);

	return TRUE;
}
BOOL FromJsonDT_EQUIP_BAG_DATA_CLI(const string &strData, DT_EQUIP_BAG_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EQUIP_BAG_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_GET_HERO_INFO_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_HERO_INFO_REQ *pstIn = (PKT_CLIGS_GET_HERO_INFO_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEquipBagFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_HERO_INFO_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_HERO_INFO_REQ *pstOut = (PKT_CLIGS_GET_HERO_INFO_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEquipBagFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_HERO_INFO_REQ(PKT_CLIGS_GET_HERO_INFO_REQ &data)
{
	Json::Value root;
	root["PlayerID"]=data.dwPlayerID;
	root["EquipBagFlag"]=data.byEquipBagFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_HERO_INFO_REQ(Json::Value &root, PKT_CLIGS_GET_HERO_INFO_REQ &data)
{
	data.dwPlayerID=root["PlayerID"].asUInt();
	data.byEquipBagFlag=root["EquipBagFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_HERO_INFO_REQ(const string &strData, PKT_CLIGS_GET_HERO_INFO_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_HERO_INFO_REQ(root, data);
}
INT32 EncodeDT_ATTR_ENABLE_UPDATE_INFO(void *pHost, CNetData* poNetData)
{
	DT_ATTR_ENABLE_UPDATE_INFO *pstIn = (DT_ATTR_ENABLE_UPDATE_INFO*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byEnableAttrHPUpdate))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEnableAttrAttackUpdate))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ATTR_ENABLE_UPDATE_INFO(void *pHost, CNetData* poNetData)
{
	DT_ATTR_ENABLE_UPDATE_INFO *pstOut = (DT_ATTR_ENABLE_UPDATE_INFO*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byEnableAttrHPUpdate))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEnableAttrAttackUpdate))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ATTR_ENABLE_UPDATE_INFO(DT_ATTR_ENABLE_UPDATE_INFO &data)
{
	Json::Value root;
	root["EnableAttrHPUpdate"]=data.byEnableAttrHPUpdate;
	root["EnableAttrAttackUpdate"]=data.byEnableAttrAttackUpdate;

	return root;
}
BOOL FromJsonDT_ATTR_ENABLE_UPDATE_INFO(Json::Value &root, DT_ATTR_ENABLE_UPDATE_INFO &data)
{
	data.byEnableAttrHPUpdate=root["EnableAttrHPUpdate"].asUInt();
	data.byEnableAttrAttackUpdate=root["EnableAttrAttackUpdate"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_ATTR_ENABLE_UPDATE_INFO(const string &strData, DT_ATTR_ENABLE_UPDATE_INFO &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ATTR_ENABLE_UPDATE_INFO(root, data);
}
INT32 EncodeDT_HERO_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_DATA_CLI *pstIn = (DT_HERO_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->wHeroNum)
			break;
		if(-1 == EncodeDT_HERO_BASE_DATA_CLI(&pstIn->astHeroBaseData[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->wHeroNum)
			break;
		if(-1 == EncodeDT_HERO_EQUIP_DATA_LST_CLI(&pstIn->astEquipDataList[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->wHeroNum)
			break;
		if(-1 == EncodeDT_ATTR_ENABLE_UPDATE_INFO(&pstIn->astEnableAttrUpdate[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->wHeroNum)
			break;
		if(-1 == EncodeDT_SKILL_DATA_LIST_CLI(&pstIn->astSkillInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_DATA_CLI *pstOut = (DT_HERO_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->wHeroNum)
			break;
		if(-1 == DecodeDT_HERO_BASE_DATA_CLI(&pstOut->astHeroBaseData[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->wHeroNum)
			break;
		if(-1 == DecodeDT_HERO_EQUIP_DATA_LST_CLI(&pstOut->astEquipDataList[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->wHeroNum)
			break;
		if(-1 == DecodeDT_ATTR_ENABLE_UPDATE_INFO(&pstOut->astEnableAttrUpdate[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->wHeroNum)
			break;
		if(-1 == DecodeDT_SKILL_DATA_LIST_CLI(&pstOut->astSkillInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_DATA_CLI(DT_HERO_DATA_CLI &data)
{
	Json::Value root;
	root["HeroNum"]=data.wHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
	root["HeroBaseData"].append( GetJsonDT_HERO_BASE_DATA_CLI(data.astHeroBaseData[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
	root["EquipDataList"].append( GetJsonDT_HERO_EQUIP_DATA_LST_CLI(data.astEquipDataList[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
	root["EnableAttrUpdate"].append( GetJsonDT_ATTR_ENABLE_UPDATE_INFO(data.astEnableAttrUpdate[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
	root["SkillInfo"].append( GetJsonDT_SKILL_DATA_LIST_CLI(data.astSkillInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_HERO_DATA_CLI(Json::Value &root, DT_HERO_DATA_CLI &data)
{
	data.wHeroNum=root["HeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
		FromJsonDT_HERO_BASE_DATA_CLI(root["HeroBaseData"][dwIndex] , data.astHeroBaseData[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
		FromJsonDT_HERO_EQUIP_DATA_LST_CLI(root["EquipDataList"][dwIndex] , data.astEquipDataList[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
		FromJsonDT_ATTR_ENABLE_UPDATE_INFO(root["EnableAttrUpdate"][dwIndex] , data.astEnableAttrUpdate[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
		FromJsonDT_SKILL_DATA_LIST_CLI(root["SkillInfo"][dwIndex] , data.astSkillInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_HERO_DATA_CLI(const string &strData, DT_HERO_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_DATA_CLI(root, data);
}
INT32 EncodeDT_PLAYER_BATTLE_INFO(void *pHost, CNetData* poNetData)
{
	DT_PLAYER_BATTLE_INFO *pstIn = (DT_PLAYER_BATTLE_INFO*)pHost;

	if(-1 == poNetData->AddTString(pstIn->aszDisplayName, sizeof(pstIn->aszDisplayName)))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCurPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwRank))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PLAYER_BATTLE_INFO(void *pHost, CNetData* poNetData)
{
	DT_PLAYER_BATTLE_INFO *pstOut = (DT_PLAYER_BATTLE_INFO*)pHost;

	if(-1 == poNetData->DelTString(pstOut->aszDisplayName, sizeof(pstOut->aszDisplayName)))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCurPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwRank))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PLAYER_BATTLE_INFO(DT_PLAYER_BATTLE_INFO &data)
{
	Json::Value root;
	root["DisplayName"]=data.aszDisplayName;
	root["CurPower"]=data.dwCurPower;
	root["Rank"]=data.dwRank;

	return root;
}
BOOL FromJsonDT_PLAYER_BATTLE_INFO(Json::Value &root, DT_PLAYER_BATTLE_INFO &data)
{
	strncpy( data.aszDisplayName,root["DisplayName"].asCString(),USERNAME_LEN);
	data.dwCurPower=root["CurPower"].asUInt();
	data.dwRank=root["Rank"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_PLAYER_BATTLE_INFO(const string &strData, DT_PLAYER_BATTLE_INFO &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PLAYER_BATTLE_INFO(root, data);
}
INT32 EncodePKT_CLIGS_GET_HERO_INFO_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_HERO_INFO_ACK *pstIn = (PKT_CLIGS_GET_HERO_INFO_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerID))
		return -1;

	if(-1 == EncodeDT_PLAYER_BATTLE_INFO(&pstIn->stPlayerBattleInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_HERO_DATA_CLI(&pstIn->stHeroInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEquipBagFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byEquipBagFlag)
			break;
		if(-1 == EncodeDT_EQUIP_BAG_DATA_CLI(&pstIn->astEquipBagDataInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byGoodsCellNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_HERO_INFO_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_HERO_INFO_ACK *pstOut = (PKT_CLIGS_GET_HERO_INFO_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerID))
		return -1;

	if(-1 == DecodeDT_PLAYER_BATTLE_INFO(&pstOut->stPlayerBattleInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_HERO_DATA_CLI(&pstOut->stHeroInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEquipBagFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byEquipBagFlag)
			break;
		if(-1 == DecodeDT_EQUIP_BAG_DATA_CLI(&pstOut->astEquipBagDataInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byGoodsCellNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_HERO_INFO_ACK(PKT_CLIGS_GET_HERO_INFO_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["PlayerID"]=data.dwPlayerID;
	root["PlayerBattleInfo"]=GetJsonDT_PLAYER_BATTLE_INFO(data.stPlayerBattleInfo);
	root["HeroInfo"]=GetJsonDT_HERO_DATA_CLI(data.stHeroInfo);
	root["EquipBagFlag"]=data.byEquipBagFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byEquipBagFlag; ++dwIndex)
	{
	root["EquipBagDataInfo"].append( GetJsonDT_EQUIP_BAG_DATA_CLI(data.astEquipBagDataInfo[dwIndex]) );
	}
	root["GoodsCellNum"]=data.byGoodsCellNum;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_HERO_INFO_ACK(Json::Value &root, PKT_CLIGS_GET_HERO_INFO_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.dwPlayerID=root["PlayerID"].asUInt();
	FromJsonDT_PLAYER_BATTLE_INFO(root["PlayerBattleInfo"] , data.stPlayerBattleInfo);
	FromJsonDT_HERO_DATA_CLI(root["HeroInfo"] , data.stHeroInfo);
	data.byEquipBagFlag=root["EquipBagFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byEquipBagFlag; ++dwIndex)
	{
		FromJsonDT_EQUIP_BAG_DATA_CLI(root["EquipBagDataInfo"][dwIndex] , data.astEquipBagDataInfo[dwIndex] );
	}	data.byGoodsCellNum=root["GoodsCellNum"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_HERO_INFO_ACK(const string &strData, PKT_CLIGS_GET_HERO_INFO_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_HERO_INFO_ACK(root, data);
}
INT32 EncodeDT_FUNC_COMMON_PROMPT(void *pHost, CNetData* poNetData)
{
	DT_FUNC_COMMON_PROMPT *pstIn = (DT_FUNC_COMMON_PROMPT*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byBuildKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byFuncFlag))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwFuncCountDown))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_FUNC_COMMON_PROMPT(void *pHost, CNetData* poNetData)
{
	DT_FUNC_COMMON_PROMPT *pstOut = (DT_FUNC_COMMON_PROMPT*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byBuildKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byFuncFlag))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwFuncCountDown))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_FUNC_COMMON_PROMPT(DT_FUNC_COMMON_PROMPT &data)
{
	Json::Value root;
	root["BuildKindID"]=data.byBuildKindID;
	root["FuncFlag"]=data.byFuncFlag;
	root["FuncCountDown"]=data.dwFuncCountDown;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonDT_FUNC_COMMON_PROMPT(Json::Value &root, DT_FUNC_COMMON_PROMPT &data)
{
	data.byBuildKindID=root["BuildKindID"].asUInt();
	data.byFuncFlag=root["FuncFlag"].asUInt();
	data.dwFuncCountDown=root["FuncCountDown"].asUInt();
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_FUNC_COMMON_PROMPT(const string &strData, DT_FUNC_COMMON_PROMPT &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_FUNC_COMMON_PROMPT(root, data);
}
INT32 EncodeDT_FUNC_PROMPT_DATA(void *pHost, CNetData* poNetData)
{
	DT_FUNC_PROMPT_DATA *pstIn = (DT_FUNC_PROMPT_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byBuildNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BUILD_NUM; i++)
	{
		if(i >= (INT32)pstIn->byBuildNum)
			break;
		if(-1 == EncodeDT_FUNC_COMMON_PROMPT(&pstIn->astBuildPromptInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_FUNC_PROMPT_DATA(void *pHost, CNetData* poNetData)
{
	DT_FUNC_PROMPT_DATA *pstOut = (DT_FUNC_PROMPT_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byBuildNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BUILD_NUM; i++)
	{
		if(i >= (INT32)pstOut->byBuildNum)
			break;
		if(-1 == DecodeDT_FUNC_COMMON_PROMPT(&pstOut->astBuildPromptInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_FUNC_PROMPT_DATA(DT_FUNC_PROMPT_DATA &data)
{
	Json::Value root;
	root["BuildNum"]=data.byBuildNum;
	for( UINT32 dwIndex=0; dwIndex<data.byBuildNum; ++dwIndex)
	{
	root["BuildPromptInfo"].append( GetJsonDT_FUNC_COMMON_PROMPT(data.astBuildPromptInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_FUNC_PROMPT_DATA(Json::Value &root, DT_FUNC_PROMPT_DATA &data)
{
	data.byBuildNum=root["BuildNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byBuildNum; ++dwIndex)
	{
		FromJsonDT_FUNC_COMMON_PROMPT(root["BuildPromptInfo"][dwIndex] , data.astBuildPromptInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_FUNC_PROMPT_DATA(const string &strData, DT_FUNC_PROMPT_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_FUNC_PROMPT_DATA(root, data);
}
INT32 EncodeDT_OTHER_PROMPT_DATA(void *pHost, CNetData* poNetData)
{
	DT_OTHER_PROMPT_DATA *pstIn = (DT_OTHER_PROMPT_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byHaveBetterHeroFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_OTHER_PROMPT_DATA(void *pHost, CNetData* poNetData)
{
	DT_OTHER_PROMPT_DATA *pstOut = (DT_OTHER_PROMPT_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byHaveBetterHeroFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_OTHER_PROMPT_DATA(DT_OTHER_PROMPT_DATA &data)
{
	Json::Value root;
	root["HaveBetterHeroFlag"]=data.byHaveBetterHeroFlag;

	return root;
}
BOOL FromJsonDT_OTHER_PROMPT_DATA(Json::Value &root, DT_OTHER_PROMPT_DATA &data)
{
	data.byHaveBetterHeroFlag=root["HaveBetterHeroFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_OTHER_PROMPT_DATA(const string &strData, DT_OTHER_PROMPT_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_OTHER_PROMPT_DATA(root, data);
}
INT32 EncodeDT_NEW_EQUIP_PROMPT_DATA(void *pHost, CNetData* poNetData)
{
	DT_NEW_EQUIP_PROMPT_DATA *pstIn = (DT_NEW_EQUIP_PROMPT_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < EQUIP_POS_NUM; i++)
	{
		if(i >= (INT32)pstIn->byEquipNum)
			break;
		if(-1 == poNetData->AddWord(pstIn->awEquipIDInfo[i]))
			return -1;
	}

	if(-1 == poNetData->AddWord(pstIn->wHeroID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_NEW_EQUIP_PROMPT_DATA(void *pHost, CNetData* poNetData)
{
	DT_NEW_EQUIP_PROMPT_DATA *pstOut = (DT_NEW_EQUIP_PROMPT_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < EQUIP_POS_NUM; i++)
	{
		if(i >= (INT32)pstOut->byEquipNum)
			break;
		if(-1 == poNetData->DelWord(pstOut->awEquipIDInfo[i]))
			return -1;
	}

	if(-1 == poNetData->DelWord(pstOut->wHeroID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_NEW_EQUIP_PROMPT_DATA(DT_NEW_EQUIP_PROMPT_DATA &data)
{
	Json::Value root;
	root["EquipNum"]=data.byEquipNum;
	for( UINT32 dwIndex=0; dwIndex<data.byEquipNum; ++dwIndex)
	{
	root["EquipIDInfo"].append( data.awEquipIDInfo[dwIndex]);
	}
	root["HeroID"]=data.wHeroID;

	return root;
}
BOOL FromJsonDT_NEW_EQUIP_PROMPT_DATA(Json::Value &root, DT_NEW_EQUIP_PROMPT_DATA &data)
{
	data.byEquipNum=root["EquipNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byEquipNum; ++dwIndex)
	{
		data.awEquipIDInfo[dwIndex]=WORD(root["EquipIDInfo"][dwIndex].asUInt() );
	}
	data.wHeroID=root["HeroID"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_NEW_EQUIP_PROMPT_DATA(const string &strData, DT_NEW_EQUIP_PROMPT_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_NEW_EQUIP_PROMPT_DATA(root, data);
}
INT32 EncodePKT_CLIGS_ENTER_HOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTER_HOME_REQ *pstIn = (PKT_CLIGS_ENTER_HOME_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byKind))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ENTER_HOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTER_HOME_REQ *pstOut = (PKT_CLIGS_ENTER_HOME_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byKind))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ENTER_HOME_REQ(PKT_CLIGS_ENTER_HOME_REQ &data)
{
	Json::Value root;
	root["Kind"]=data.byKind;

	return root;
}
BOOL FromJsonPKT_CLIGS_ENTER_HOME_REQ(Json::Value &root, PKT_CLIGS_ENTER_HOME_REQ &data)
{
	data.byKind=root["Kind"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ENTER_HOME_REQ(const string &strData, PKT_CLIGS_ENTER_HOME_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ENTER_HOME_REQ(root, data);
}
INT32 EncodePKT_CLIGS_ENTER_HOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTER_HOME_ACK *pstIn = (PKT_CLIGS_ENTER_HOME_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byKind))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wBuildNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BUILD_NUM; i++)
	{
		if(i >= (INT32)pstIn->wBuildNum)
			break;
		if(-1 == EncodeDT_BUILD_DATA_CLI(&pstIn->astBuildInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byLoginEncourageState))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUnreadRaceBattleLogNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUnreadPlunderBattleLogNum))
		return -1;

	for(i = 0; i < MAX_UNLOCK_HERO_NUM; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awUnlockHeroID[i]))
			return -1;
	}

	if(-1 == poNetData->AddWord(pstIn->wUnlockEquipLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUnlockElite))
		return -1;

	if(-1 == EncodeUnlockScienceInfo(&pstIn->stUnlockScienceList, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGuide))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_OTHER_PROMPT_DATA(&pstIn->stOtherPromptInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_NEW_EQUIP_PROMPT_DATA(&pstIn->stNewEquipPromptInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEliteUnBattleNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ENTER_HOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTER_HOME_ACK *pstOut = (PKT_CLIGS_ENTER_HOME_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byKind))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wBuildNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BUILD_NUM; i++)
	{
		if(i >= (INT32)pstOut->wBuildNum)
			break;
		if(-1 == DecodeDT_BUILD_DATA_CLI(&pstOut->astBuildInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byLoginEncourageState))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUnreadRaceBattleLogNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUnreadPlunderBattleLogNum))
		return -1;

	for(i = 0; i < MAX_UNLOCK_HERO_NUM; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awUnlockHeroID[i]))
			return -1;
	}

	if(-1 == poNetData->DelWord(pstOut->wUnlockEquipLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUnlockElite))
		return -1;

	if(-1 == DecodeUnlockScienceInfo(&pstOut->stUnlockScienceList, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGuide))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_OTHER_PROMPT_DATA(&pstOut->stOtherPromptInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_NEW_EQUIP_PROMPT_DATA(&pstOut->stNewEquipPromptInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEliteUnBattleNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ENTER_HOME_ACK(PKT_CLIGS_ENTER_HOME_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["Kind"]=data.byKind;
	root["BuildNum"]=data.wBuildNum;
	for( UINT32 dwIndex=0; dwIndex<data.wBuildNum; ++dwIndex)
	{
	root["BuildInfo"].append( GetJsonDT_BUILD_DATA_CLI(data.astBuildInfo[dwIndex]) );
	}
	root["LoginEncourageState"]=data.byLoginEncourageState;
	root["UnreadRaceBattleLogNum"]=data.byUnreadRaceBattleLogNum;
	root["UnreadPlunderBattleLogNum"]=data.byUnreadPlunderBattleLogNum;
	for( UINT32 dwIndex=0; dwIndex<MAX_UNLOCK_HERO_NUM; ++dwIndex)
	{
	root["UnlockHeroID"].append( data.awUnlockHeroID[dwIndex]);
	}
	root["UnlockEquipLevel"]=data.wUnlockEquipLevel;
	root["UnlockElite"]=data.dwUnlockElite;
	root["UnlockScienceList"]=GetJsonUnlockScienceInfo(data.stUnlockScienceList);
	root["Guide"]=data.dwGuide;
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);
	root["OtherPromptInfo"]=GetJsonDT_OTHER_PROMPT_DATA(data.stOtherPromptInfo);
	root["NewEquipPromptInfo"]=GetJsonDT_NEW_EQUIP_PROMPT_DATA(data.stNewEquipPromptInfo);
	root["EliteUnBattleNum"]=data.wEliteUnBattleNum;

	return root;
}
BOOL FromJsonPKT_CLIGS_ENTER_HOME_ACK(Json::Value &root, PKT_CLIGS_ENTER_HOME_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byKind=root["Kind"].asUInt();
	data.wBuildNum=root["BuildNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wBuildNum; ++dwIndex)
	{
		FromJsonDT_BUILD_DATA_CLI(root["BuildInfo"][dwIndex] , data.astBuildInfo[dwIndex] );
	}	data.byLoginEncourageState=root["LoginEncourageState"].asUInt();
	data.byUnreadRaceBattleLogNum=root["UnreadRaceBattleLogNum"].asUInt();
	data.byUnreadPlunderBattleLogNum=root["UnreadPlunderBattleLogNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<MAX_UNLOCK_HERO_NUM; ++dwIndex)
	{
		data.awUnlockHeroID[dwIndex]=WORD(root["UnlockHeroID"][dwIndex].asUInt() );
	}
	data.wUnlockEquipLevel=root["UnlockEquipLevel"].asUInt();
	data.dwUnlockElite=root["UnlockElite"].asUInt();
	FromJsonUnlockScienceInfo(root["UnlockScienceList"] , data.stUnlockScienceList);
	data.dwGuide=root["Guide"].asUInt();
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);
	FromJsonDT_OTHER_PROMPT_DATA(root["OtherPromptInfo"] , data.stOtherPromptInfo);
	FromJsonDT_NEW_EQUIP_PROMPT_DATA(root["NewEquipPromptInfo"] , data.stNewEquipPromptInfo);
	data.wEliteUnBattleNum=root["EliteUnBattleNum"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ENTER_HOME_ACK(const string &strData, PKT_CLIGS_ENTER_HOME_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ENTER_HOME_ACK(root, data);
}
INT32 EncodeDT_BATTLE_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_BATTLE_ENCOURAGE_DATA *pstIn = (DT_BATTLE_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwStory))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_BATTLE_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_BATTLE_ENCOURAGE_DATA *pstOut = (DT_BATTLE_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwStory))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_BATTLE_ENCOURAGE_DATA(DT_BATTLE_ENCOURAGE_DATA &data)
{
	Json::Value root;
	root["Coin"]=data.dwCoin;
	root["Experience"]=data.dwExperience;
	root["Story"]=data.dwStory;

	return root;
}
BOOL FromJsonDT_BATTLE_ENCOURAGE_DATA(Json::Value &root, DT_BATTLE_ENCOURAGE_DATA &data)
{
	data.dwCoin=root["Coin"].asUInt();
	data.dwExperience=root["Experience"].asUInt();
	data.dwStory=root["Story"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_BATTLE_ENCOURAGE_DATA(const string &strData, DT_BATTLE_ENCOURAGE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_BATTLE_ENCOURAGE_DATA(root, data);
}
INT32 EncodeDT_DATA_AFTER_BATTLE_ENCOURAGE(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_BATTLE_ENCOURAGE *pstIn = (DT_DATA_AFTER_BATTLE_ENCOURAGE*)pHost;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurStory))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstIn->byHeroNum)
			break;
		if(-1 == EncodeDT_HERO_UPGRADE_DATA(&pstIn->astHeroUpgradeInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DATA_AFTER_BATTLE_ENCOURAGE(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_BATTLE_ENCOURAGE *pstOut = (DT_DATA_AFTER_BATTLE_ENCOURAGE*)pHost;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurStory))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstOut->byHeroNum)
			break;
		if(-1 == DecodeDT_HERO_UPGRADE_DATA(&pstOut->astHeroUpgradeInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DATA_AFTER_BATTLE_ENCOURAGE(DT_DATA_AFTER_BATTLE_ENCOURAGE &data)
{
	Json::Value root;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurStory;
	ssqwCurStory<<data.qwCurStory;
	root["CurStory"]=ssqwCurStory.str();
	root["HeroNum"]=data.byHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.byHeroNum; ++dwIndex)
	{
	root["HeroUpgradeInfo"].append( GetJsonDT_HERO_UPGRADE_DATA(data.astHeroUpgradeInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_DATA_AFTER_BATTLE_ENCOURAGE(Json::Value &root, DT_DATA_AFTER_BATTLE_ENCOURAGE &data)
{
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurStory=SDAtou64( root["CurStory"].asCString() );
	data.byHeroNum=root["HeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHeroNum; ++dwIndex)
	{
		FromJsonDT_HERO_UPGRADE_DATA(root["HeroUpgradeInfo"][dwIndex] , data.astHeroUpgradeInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_DATA_AFTER_BATTLE_ENCOURAGE(const string &strData, DT_DATA_AFTER_BATTLE_ENCOURAGE &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DATA_AFTER_BATTLE_ENCOURAGE(root, data);
}
INT32 EncodeDT_RACE_CHALLENGE_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_RACE_CHALLENGE_ENCOURAGE_DATA *pstIn = (DT_RACE_CHALLENGE_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwScience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_RACE_CHALLENGE_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_RACE_CHALLENGE_ENCOURAGE_DATA *pstOut = (DT_RACE_CHALLENGE_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwScience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_RACE_CHALLENGE_ENCOURAGE_DATA(DT_RACE_CHALLENGE_ENCOURAGE_DATA &data)
{
	Json::Value root;
	root["Coin"]=data.dwCoin;
	root["Science"]=data.dwScience;

	return root;
}
BOOL FromJsonDT_RACE_CHALLENGE_ENCOURAGE_DATA(Json::Value &root, DT_RACE_CHALLENGE_ENCOURAGE_DATA &data)
{
	data.dwCoin=root["Coin"].asUInt();
	data.dwScience=root["Science"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_RACE_CHALLENGE_ENCOURAGE_DATA(const string &strData, DT_RACE_CHALLENGE_ENCOURAGE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_RACE_CHALLENGE_ENCOURAGE_DATA(root, data);
}
INT32 EncodeDT_RACE_RANK_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_RACE_RANK_ENCOURAGE_DATA *pstIn = (DT_RACE_RANK_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwScience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_RACE_RANK_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_RACE_RANK_ENCOURAGE_DATA *pstOut = (DT_RACE_RANK_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwScience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_RACE_RANK_ENCOURAGE_DATA(DT_RACE_RANK_ENCOURAGE_DATA &data)
{
	Json::Value root;
	root["Coin"]=data.dwCoin;
	root["Science"]=data.dwScience;

	return root;
}
BOOL FromJsonDT_RACE_RANK_ENCOURAGE_DATA(Json::Value &root, DT_RACE_RANK_ENCOURAGE_DATA &data)
{
	data.dwCoin=root["Coin"].asUInt();
	data.dwScience=root["Science"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_RACE_RANK_ENCOURAGE_DATA(const string &strData, DT_RACE_RANK_ENCOURAGE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_RACE_RANK_ENCOURAGE_DATA(root, data);
}
INT32 EncodePKT_CLIGS_ENTER_INSTANCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTER_INSTANCE_REQ *pstIn = (PKT_CLIGS_ENTER_INSTANCE_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wSceneIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTownIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byInstanceIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byNewFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ENTER_INSTANCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTER_INSTANCE_REQ *pstOut = (PKT_CLIGS_ENTER_INSTANCE_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wSceneIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTownIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byInstanceIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byNewFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ENTER_INSTANCE_REQ(PKT_CLIGS_ENTER_INSTANCE_REQ &data)
{
	Json::Value root;
	root["SceneIdx"]=data.wSceneIdx;
	root["TownIdx"]=data.byTownIdx;
	root["InstanceIdx"]=data.byInstanceIdx;
	root["NewFlag"]=data.byNewFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_ENTER_INSTANCE_REQ(Json::Value &root, PKT_CLIGS_ENTER_INSTANCE_REQ &data)
{
	data.wSceneIdx=root["SceneIdx"].asUInt();
	data.byTownIdx=root["TownIdx"].asUInt();
	data.byInstanceIdx=root["InstanceIdx"].asUInt();
	data.byNewFlag=root["NewFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ENTER_INSTANCE_REQ(const string &strData, PKT_CLIGS_ENTER_INSTANCE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ENTER_INSTANCE_REQ(root, data);
}
INT32 EncodeDT_PASS_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_PASS_ENCOURAGE_DATA *pstIn = (DT_PASS_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwStory))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PASS_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_PASS_ENCOURAGE_DATA *pstOut = (DT_PASS_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwStory))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PASS_ENCOURAGE_DATA(DT_PASS_ENCOURAGE_DATA &data)
{
	Json::Value root;
	root["Story"]=data.dwStory;
	root["Experience"]=data.dwExperience;

	return root;
}
BOOL FromJsonDT_PASS_ENCOURAGE_DATA(Json::Value &root, DT_PASS_ENCOURAGE_DATA &data)
{
	data.dwStory=root["Story"].asUInt();
	data.dwExperience=root["Experience"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_PASS_ENCOURAGE_DATA(const string &strData, DT_PASS_ENCOURAGE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PASS_ENCOURAGE_DATA(root, data);
}
INT32 EncodeDT_DATA_AFTER_PASS_ENCOURAGE(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_PASS_ENCOURAGE *pstIn = (DT_DATA_AFTER_PASS_ENCOURAGE*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstIn->byHeroNum)
			break;
		if(-1 == EncodeDT_HERO_UPGRADE_DATA(&pstIn->astHeroUpgradeInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DATA_AFTER_PASS_ENCOURAGE(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_PASS_ENCOURAGE *pstOut = (DT_DATA_AFTER_PASS_ENCOURAGE*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstOut->byHeroNum)
			break;
		if(-1 == DecodeDT_HERO_UPGRADE_DATA(&pstOut->astHeroUpgradeInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DATA_AFTER_PASS_ENCOURAGE(DT_DATA_AFTER_PASS_ENCOURAGE &data)
{
	Json::Value root;
	root["HeroNum"]=data.byHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.byHeroNum; ++dwIndex)
	{
	root["HeroUpgradeInfo"].append( GetJsonDT_HERO_UPGRADE_DATA(data.astHeroUpgradeInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_DATA_AFTER_PASS_ENCOURAGE(Json::Value &root, DT_DATA_AFTER_PASS_ENCOURAGE &data)
{
	data.byHeroNum=root["HeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHeroNum; ++dwIndex)
	{
		FromJsonDT_HERO_UPGRADE_DATA(root["HeroUpgradeInfo"][dwIndex] , data.astHeroUpgradeInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_DATA_AFTER_PASS_ENCOURAGE(const string &strData, DT_DATA_AFTER_PASS_ENCOURAGE &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DATA_AFTER_PASS_ENCOURAGE(root, data);
}
INT32 EncodeDT_PASS_ENCOURAGE_BOX_GROUP_DATA(void *pHost, CNetData* poNetData)
{
	DT_PASS_ENCOURAGE_BOX_GROUP_DATA *pstIn = (DT_PASS_ENCOURAGE_BOX_GROUP_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGold))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHitItemIdx))
		return -1;

	if(-1 == EncodeDT_ITEM_DATA_LIST_CLI(&pstIn->stItemInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PASS_ENCOURAGE_BOX_GROUP_DATA(void *pHost, CNetData* poNetData)
{
	DT_PASS_ENCOURAGE_BOX_GROUP_DATA *pstOut = (DT_PASS_ENCOURAGE_BOX_GROUP_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGold))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHitItemIdx))
		return -1;

	if(-1 == DecodeDT_ITEM_DATA_LIST_CLI(&pstOut->stItemInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PASS_ENCOURAGE_BOX_GROUP_DATA(DT_PASS_ENCOURAGE_BOX_GROUP_DATA &data)
{
	Json::Value root;
	root["Coin"]=data.dwCoin;
	root["Gold"]=data.dwGold;
	root["HitItemIdx"]=data.byHitItemIdx;
	root["ItemInfo"]=GetJsonDT_ITEM_DATA_LIST_CLI(data.stItemInfo);

	return root;
}
BOOL FromJsonDT_PASS_ENCOURAGE_BOX_GROUP_DATA(Json::Value &root, DT_PASS_ENCOURAGE_BOX_GROUP_DATA &data)
{
	data.dwCoin=root["Coin"].asUInt();
	data.dwGold=root["Gold"].asUInt();
	data.byHitItemIdx=root["HitItemIdx"].asUInt();
	FromJsonDT_ITEM_DATA_LIST_CLI(root["ItemInfo"] , data.stItemInfo);

	return TRUE;
}
BOOL FromJsonDT_PASS_ENCOURAGE_BOX_GROUP_DATA(const string &strData, DT_PASS_ENCOURAGE_BOX_GROUP_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PASS_ENCOURAGE_BOX_GROUP_DATA(root, data);
}
INT32 EncodeDT_PASS_ENCOURAGE_BOX_DATA(void *pHost, CNetData* poNetData)
{
	DT_PASS_ENCOURAGE_BOX_DATA *pstIn = (DT_PASS_ENCOURAGE_BOX_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byGroupNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ENCOURAGE_BOX_GROUP_NUM; i++)
	{
		if(i >= (INT32)pstIn->byGroupNum)
			break;
		if(-1 == EncodeDT_PASS_ENCOURAGE_BOX_GROUP_DATA(&pstIn->astBoxGroupInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PASS_ENCOURAGE_BOX_DATA(void *pHost, CNetData* poNetData)
{
	DT_PASS_ENCOURAGE_BOX_DATA *pstOut = (DT_PASS_ENCOURAGE_BOX_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byGroupNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ENCOURAGE_BOX_GROUP_NUM; i++)
	{
		if(i >= (INT32)pstOut->byGroupNum)
			break;
		if(-1 == DecodeDT_PASS_ENCOURAGE_BOX_GROUP_DATA(&pstOut->astBoxGroupInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PASS_ENCOURAGE_BOX_DATA(DT_PASS_ENCOURAGE_BOX_DATA &data)
{
	Json::Value root;
	root["GroupNum"]=data.byGroupNum;
	for( UINT32 dwIndex=0; dwIndex<data.byGroupNum; ++dwIndex)
	{
	root["BoxGroupInfo"].append( GetJsonDT_PASS_ENCOURAGE_BOX_GROUP_DATA(data.astBoxGroupInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_PASS_ENCOURAGE_BOX_DATA(Json::Value &root, DT_PASS_ENCOURAGE_BOX_DATA &data)
{
	data.byGroupNum=root["GroupNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byGroupNum; ++dwIndex)
	{
		FromJsonDT_PASS_ENCOURAGE_BOX_GROUP_DATA(root["BoxGroupInfo"][dwIndex] , data.astBoxGroupInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_PASS_ENCOURAGE_BOX_DATA(const string &strData, DT_PASS_ENCOURAGE_BOX_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PASS_ENCOURAGE_BOX_DATA(root, data);
}
INT32 EncodePKT_CLIGS_ENTER_INSTANCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTER_INSTANCE_ACK *pstIn = (PKT_CLIGS_ENTER_INSTANCE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_PHYSTRENGTH_DATA_CLI(&pstIn->stPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwMaxHP))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCurHP))
		return -1;

	if(-1 == EncodeDT_MONSTER_DATA_LIST(&pstIn->stMonsterInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveBoxFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveBoxFlag)
			break;
		if(-1 == EncodeDT_PASS_ENCOURAGE_BOX_DATA(&pstIn->astBoxInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddWord(pstIn->wDoubleExpNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ENTER_INSTANCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ENTER_INSTANCE_ACK *pstOut = (PKT_CLIGS_ENTER_INSTANCE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_PHYSTRENGTH_DATA_CLI(&pstOut->stPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwMaxHP))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCurHP))
		return -1;

	if(-1 == DecodeDT_MONSTER_DATA_LIST(&pstOut->stMonsterInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveBoxFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveBoxFlag)
			break;
		if(-1 == DecodeDT_PASS_ENCOURAGE_BOX_DATA(&pstOut->astBoxInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelWord(pstOut->wDoubleExpNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ENTER_INSTANCE_ACK(PKT_CLIGS_ENTER_INSTANCE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["PhyStrengthInfo"]=GetJsonDT_PHYSTRENGTH_DATA_CLI(data.stPhyStrengthInfo);
	root["MaxHP"]=data.dwMaxHP;
	root["CurHP"]=data.dwCurHP;
	root["MonsterInfo"]=GetJsonDT_MONSTER_DATA_LIST(data.stMonsterInfo);
	root["HaveBoxFlag"]=data.byHaveBoxFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveBoxFlag; ++dwIndex)
	{
	root["BoxInfo"].append( GetJsonDT_PASS_ENCOURAGE_BOX_DATA(data.astBoxInfo[dwIndex]) );
	}
	root["DoubleExpNum"]=data.wDoubleExpNum;

	return root;
}
BOOL FromJsonPKT_CLIGS_ENTER_INSTANCE_ACK(Json::Value &root, PKT_CLIGS_ENTER_INSTANCE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_PHYSTRENGTH_DATA_CLI(root["PhyStrengthInfo"] , data.stPhyStrengthInfo);
	data.dwMaxHP=root["MaxHP"].asUInt();
	data.dwCurHP=root["CurHP"].asUInt();
	FromJsonDT_MONSTER_DATA_LIST(root["MonsterInfo"] , data.stMonsterInfo);
	data.byHaveBoxFlag=root["HaveBoxFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveBoxFlag; ++dwIndex)
	{
		FromJsonDT_PASS_ENCOURAGE_BOX_DATA(root["BoxInfo"][dwIndex] , data.astBoxInfo[dwIndex] );
	}	data.wDoubleExpNum=root["DoubleExpNum"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ENTER_INSTANCE_ACK(const string &strData, PKT_CLIGS_ENTER_INSTANCE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ENTER_INSTANCE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_BATTLE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BATTLE_REQ *pstIn = (PKT_CLIGS_BATTLE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byBattleIndex))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_BATTLE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BATTLE_REQ *pstOut = (PKT_CLIGS_BATTLE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byBattleIndex))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_BATTLE_REQ(PKT_CLIGS_BATTLE_REQ &data)
{
	Json::Value root;
	root["BattleIndex"]=data.byBattleIndex;

	return root;
}
BOOL FromJsonPKT_CLIGS_BATTLE_REQ(Json::Value &root, PKT_CLIGS_BATTLE_REQ &data)
{
	data.byBattleIndex=root["BattleIndex"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_BATTLE_REQ(const string &strData, PKT_CLIGS_BATTLE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_BATTLE_REQ(root, data);
}
INT32 EncodeDT_BURST_ITEM_DATA(void *pHost, CNetData* poNetData)
{
	DT_BURST_ITEM_DATA *pstIn = (DT_BURST_ITEM_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byBurstItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ENCOURAGE_ITEM_KIND_NUM; i++)
	{
		if(i >= (INT32)pstIn->byBurstItemNum)
			break;
		if(-1 == poNetData->AddWord(pstIn->awBurstItemList[i]))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_BURST_ITEM_DATA(void *pHost, CNetData* poNetData)
{
	DT_BURST_ITEM_DATA *pstOut = (DT_BURST_ITEM_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byBurstItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ENCOURAGE_ITEM_KIND_NUM; i++)
	{
		if(i >= (INT32)pstOut->byBurstItemNum)
			break;
		if(-1 == poNetData->DelWord(pstOut->awBurstItemList[i]))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_BURST_ITEM_DATA(DT_BURST_ITEM_DATA &data)
{
	Json::Value root;
	root["BurstItemNum"]=data.byBurstItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byBurstItemNum; ++dwIndex)
	{
	root["BurstItemList"].append( data.awBurstItemList[dwIndex]);
	}

	return root;
}
BOOL FromJsonDT_BURST_ITEM_DATA(Json::Value &root, DT_BURST_ITEM_DATA &data)
{
	data.byBurstItemNum=root["BurstItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byBurstItemNum; ++dwIndex)
	{
		data.awBurstItemList[dwIndex]=WORD(root["BurstItemList"][dwIndex].asUInt() );
	}

	return TRUE;
}
BOOL FromJsonDT_BURST_ITEM_DATA(const string &strData, DT_BURST_ITEM_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_BURST_ITEM_DATA(root, data);
}
INT32 EncodeDT_NEXT_INSTANCE_DATA(void *pHost, CNetData* poNetData)
{
	DT_NEXT_INSTANCE_DATA *pstIn = (DT_NEXT_INSTANCE_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wSceneIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTownIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byInstanceIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEnterLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEnterPhyStrength))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_NEXT_INSTANCE_DATA(void *pHost, CNetData* poNetData)
{
	DT_NEXT_INSTANCE_DATA *pstOut = (DT_NEXT_INSTANCE_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wSceneIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTownIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byInstanceIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEnterLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEnterPhyStrength))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_NEXT_INSTANCE_DATA(DT_NEXT_INSTANCE_DATA &data)
{
	Json::Value root;
	root["SceneIdx"]=data.wSceneIdx;
	root["TownIdx"]=data.byTownIdx;
	root["InstanceIdx"]=data.byInstanceIdx;
	root["EnterLevel"]=data.wEnterLevel;
	root["EnterPhyStrength"]=data.wEnterPhyStrength;

	return root;
}
BOOL FromJsonDT_NEXT_INSTANCE_DATA(Json::Value &root, DT_NEXT_INSTANCE_DATA &data)
{
	data.wSceneIdx=root["SceneIdx"].asUInt();
	data.byTownIdx=root["TownIdx"].asUInt();
	data.byInstanceIdx=root["InstanceIdx"].asUInt();
	data.wEnterLevel=root["EnterLevel"].asUInt();
	data.wEnterPhyStrength=root["EnterPhyStrength"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_NEXT_INSTANCE_DATA(const string &strData, DT_NEXT_INSTANCE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_NEXT_INSTANCE_DATA(root, data);
}
INT32 EncodeDT_UNLOCK_DATA(void *pHost, CNetData* poNetData)
{
	DT_UNLOCK_DATA *pstIn = (DT_UNLOCK_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wUnlockMainTownLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUnlockBuildKindID))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_UNLOCK_HERO_NUM; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awUnlockHeroID[i]))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_UNLOCK_DATA(void *pHost, CNetData* poNetData)
{
	DT_UNLOCK_DATA *pstOut = (DT_UNLOCK_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wUnlockMainTownLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUnlockBuildKindID))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_UNLOCK_HERO_NUM; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awUnlockHeroID[i]))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_UNLOCK_DATA(DT_UNLOCK_DATA &data)
{
	Json::Value root;
	root["UnlockMainTownLevel"]=data.wUnlockMainTownLevel;
	root["UnlockBuildKindID"]=data.byUnlockBuildKindID;
	for( UINT32 dwIndex=0; dwIndex<MAX_UNLOCK_HERO_NUM; ++dwIndex)
	{
	root["UnlockHeroID"].append( data.awUnlockHeroID[dwIndex]);
	}

	return root;
}
BOOL FromJsonDT_UNLOCK_DATA(Json::Value &root, DT_UNLOCK_DATA &data)
{
	data.wUnlockMainTownLevel=root["UnlockMainTownLevel"].asUInt();
	data.byUnlockBuildKindID=root["UnlockBuildKindID"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<MAX_UNLOCK_HERO_NUM; ++dwIndex)
	{
		data.awUnlockHeroID[dwIndex]=WORD(root["UnlockHeroID"][dwIndex].asUInt() );
	}

	return TRUE;
}
BOOL FromJsonDT_UNLOCK_DATA(const string &strData, DT_UNLOCK_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_UNLOCK_DATA(root, data);
}
INT32 EncodePKT_CLIGS_BATTLE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BATTLE_ACK *pstIn = (PKT_CLIGS_BATTLE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_BATTLE_DATA(&pstIn->stBattleInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_BATTLE_ENCOURAGE_DATA(&pstIn->stBattleEncourage, poNetData))
		return -1;

	if(-1 == EncodeDT_DATA_AFTER_BATTLE_ENCOURAGE(&pstIn->stAfterBattleEncourage, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPassFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byPassFlag)
			break;
		if(-1 == EncodeDT_PASS_ENCOURAGE_DATA(&pstIn->astPassEncourage[i], poNetData))
			return -1;
	}

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byPassFlag)
			break;
		if(-1 == EncodeDT_DATA_AFTER_PASS_ENCOURAGE(&pstIn->astAfterPassEncourage[i], poNetData))
			return -1;
	}

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byPassFlag)
			break;
		if(-1 == EncodeDT_PASS_ENCOURAGE_BOX_DATA(&pstIn->astPassEncourageBox[i], poNetData))
			return -1;
	}

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byPassFlag)
			break;
		if(-1 == EncodeDT_UNLOCK_DATA(&pstIn->astUnlockInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byHaveNextInstance))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveNextInstance)
			break;
		if(-1 == EncodeDT_NEXT_INSTANCE_DATA(&pstIn->astNextInstanceInfo[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_PHYSTRENGTH_DATA_CLI(&pstIn->stPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGuide))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_BATTLE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BATTLE_ACK *pstOut = (PKT_CLIGS_BATTLE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_BATTLE_DATA(&pstOut->stBattleInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_BATTLE_ENCOURAGE_DATA(&pstOut->stBattleEncourage, poNetData))
		return -1;

	if(-1 == DecodeDT_DATA_AFTER_BATTLE_ENCOURAGE(&pstOut->stAfterBattleEncourage, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPassFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byPassFlag)
			break;
		if(-1 == DecodeDT_PASS_ENCOURAGE_DATA(&pstOut->astPassEncourage[i], poNetData))
			return -1;
	}

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byPassFlag)
			break;
		if(-1 == DecodeDT_DATA_AFTER_PASS_ENCOURAGE(&pstOut->astAfterPassEncourage[i], poNetData))
			return -1;
	}

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byPassFlag)
			break;
		if(-1 == DecodeDT_PASS_ENCOURAGE_BOX_DATA(&pstOut->astPassEncourageBox[i], poNetData))
			return -1;
	}

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byPassFlag)
			break;
		if(-1 == DecodeDT_UNLOCK_DATA(&pstOut->astUnlockInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byHaveNextInstance))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveNextInstance)
			break;
		if(-1 == DecodeDT_NEXT_INSTANCE_DATA(&pstOut->astNextInstanceInfo[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_PHYSTRENGTH_DATA_CLI(&pstOut->stPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGuide))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_BATTLE_ACK(PKT_CLIGS_BATTLE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["BattleInfo"]=GetJsonDT_BATTLE_DATA(data.stBattleInfo);
	root["BattleEncourage"]=GetJsonDT_BATTLE_ENCOURAGE_DATA(data.stBattleEncourage);
	root["AfterBattleEncourage"]=GetJsonDT_DATA_AFTER_BATTLE_ENCOURAGE(data.stAfterBattleEncourage);
	root["PassFlag"]=data.byPassFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byPassFlag; ++dwIndex)
	{
	root["PassEncourage"].append( GetJsonDT_PASS_ENCOURAGE_DATA(data.astPassEncourage[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<data.byPassFlag; ++dwIndex)
	{
	root["AfterPassEncourage"].append( GetJsonDT_DATA_AFTER_PASS_ENCOURAGE(data.astAfterPassEncourage[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<data.byPassFlag; ++dwIndex)
	{
	root["PassEncourageBox"].append( GetJsonDT_PASS_ENCOURAGE_BOX_DATA(data.astPassEncourageBox[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<data.byPassFlag; ++dwIndex)
	{
	root["UnlockInfo"].append( GetJsonDT_UNLOCK_DATA(data.astUnlockInfo[dwIndex]) );
	}
	root["HaveNextInstance"]=data.byHaveNextInstance;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNextInstance; ++dwIndex)
	{
	root["NextInstanceInfo"].append( GetJsonDT_NEXT_INSTANCE_DATA(data.astNextInstanceInfo[dwIndex]) );
	}
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PhyStrengthInfo"]=GetJsonDT_PHYSTRENGTH_DATA_CLI(data.stPhyStrengthInfo);
	root["Guide"]=data.dwGuide;
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_BATTLE_ACK(Json::Value &root, PKT_CLIGS_BATTLE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_BATTLE_DATA(root["BattleInfo"] , data.stBattleInfo);
	FromJsonDT_BATTLE_ENCOURAGE_DATA(root["BattleEncourage"] , data.stBattleEncourage);
	FromJsonDT_DATA_AFTER_BATTLE_ENCOURAGE(root["AfterBattleEncourage"] , data.stAfterBattleEncourage);
	data.byPassFlag=root["PassFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byPassFlag; ++dwIndex)
	{
		FromJsonDT_PASS_ENCOURAGE_DATA(root["PassEncourage"][dwIndex] , data.astPassEncourage[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<data.byPassFlag; ++dwIndex)
	{
		FromJsonDT_DATA_AFTER_PASS_ENCOURAGE(root["AfterPassEncourage"][dwIndex] , data.astAfterPassEncourage[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<data.byPassFlag; ++dwIndex)
	{
		FromJsonDT_PASS_ENCOURAGE_BOX_DATA(root["PassEncourageBox"][dwIndex] , data.astPassEncourageBox[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<data.byPassFlag; ++dwIndex)
	{
		FromJsonDT_UNLOCK_DATA(root["UnlockInfo"][dwIndex] , data.astUnlockInfo[dwIndex] );
	}	data.byHaveNextInstance=root["HaveNextInstance"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNextInstance; ++dwIndex)
	{
		FromJsonDT_NEXT_INSTANCE_DATA(root["NextInstanceInfo"][dwIndex] , data.astNextInstanceInfo[dwIndex] );
	}	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_PHYSTRENGTH_DATA_CLI(root["PhyStrengthInfo"] , data.stPhyStrengthInfo);
	data.dwGuide=root["Guide"].asUInt();
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_BATTLE_ACK(const string &strData, PKT_CLIGS_BATTLE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_BATTLE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_EXIT_INSTANCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EXIT_INSTANCE_REQ *pstIn = (PKT_CLIGS_EXIT_INSTANCE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EXIT_INSTANCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EXIT_INSTANCE_REQ *pstOut = (PKT_CLIGS_EXIT_INSTANCE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EXIT_INSTANCE_REQ(PKT_CLIGS_EXIT_INSTANCE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_EXIT_INSTANCE_REQ(Json::Value &root, PKT_CLIGS_EXIT_INSTANCE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EXIT_INSTANCE_REQ(const string &strData, PKT_CLIGS_EXIT_INSTANCE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EXIT_INSTANCE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_EXIT_INSTANCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EXIT_INSTANCE_ACK *pstIn = (PKT_CLIGS_EXIT_INSTANCE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_PLAYER_BASE_DATA_CLI(&pstIn->stPlayerInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EXIT_INSTANCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EXIT_INSTANCE_ACK *pstOut = (PKT_CLIGS_EXIT_INSTANCE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_PLAYER_BASE_DATA_CLI(&pstOut->stPlayerInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EXIT_INSTANCE_ACK(PKT_CLIGS_EXIT_INSTANCE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["PlayerInfo"]=GetJsonDT_PLAYER_BASE_DATA_CLI(data.stPlayerInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_EXIT_INSTANCE_ACK(Json::Value &root, PKT_CLIGS_EXIT_INSTANCE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_PLAYER_BASE_DATA_CLI(root["PlayerInfo"] , data.stPlayerInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EXIT_INSTANCE_ACK(const string &strData, PKT_CLIGS_EXIT_INSTANCE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EXIT_INSTANCE_ACK(root, data);
}
INT32 EncodeDT_INSTANCE_RECORD_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_INSTANCE_RECORD_DATA_CLI *pstIn = (DT_INSTANCE_RECORD_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byIndex))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byScore))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEnterLevel))
		return -1;

	if(-1 == EncodeDT_BURST_ITEM_DATA(&pstIn->stBurstItemInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwBurstExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwMaxMonstorPower))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_INSTANCE_RECORD_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_INSTANCE_RECORD_DATA_CLI *pstOut = (DT_INSTANCE_RECORD_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byIndex))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byScore))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEnterLevel))
		return -1;

	if(-1 == DecodeDT_BURST_ITEM_DATA(&pstOut->stBurstItemInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwBurstExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwMaxMonstorPower))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_INSTANCE_RECORD_DATA_CLI(DT_INSTANCE_RECORD_DATA_CLI &data)
{
	Json::Value root;
	root["Index"]=data.byIndex;
	root["Score"]=data.byScore;
	root["EnterLevel"]=data.wEnterLevel;
	root["BurstItemInfo"]=GetJsonDT_BURST_ITEM_DATA(data.stBurstItemInfo);
	root["BurstExperience"]=data.dwBurstExperience;
	root["MaxMonstorPower"]=data.dwMaxMonstorPower;

	return root;
}
BOOL FromJsonDT_INSTANCE_RECORD_DATA_CLI(Json::Value &root, DT_INSTANCE_RECORD_DATA_CLI &data)
{
	data.byIndex=root["Index"].asUInt();
	data.byScore=root["Score"].asUInt();
	data.wEnterLevel=root["EnterLevel"].asUInt();
	FromJsonDT_BURST_ITEM_DATA(root["BurstItemInfo"] , data.stBurstItemInfo);
	data.dwBurstExperience=root["BurstExperience"].asUInt();
	data.dwMaxMonstorPower=root["MaxMonstorPower"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_INSTANCE_RECORD_DATA_CLI(const string &strData, DT_INSTANCE_RECORD_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_INSTANCE_RECORD_DATA_CLI(root, data);
}
INT32 EncodeDT_TOWN_INSTANCE_RECORD_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_TOWN_INSTANCE_RECORD_DATA_CLI *pstIn = (DT_TOWN_INSTANCE_RECORD_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byIndex))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wMainMonsterKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCanBattle))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byInstanceNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_INSTANCE_PER_TOWN_NUM; i++)
	{
		if(i >= (INT32)pstIn->byInstanceNum)
			break;
		if(-1 == EncodeDT_INSTANCE_RECORD_DATA_CLI(&pstIn->astInstanceInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_TOWN_INSTANCE_RECORD_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_TOWN_INSTANCE_RECORD_DATA_CLI *pstOut = (DT_TOWN_INSTANCE_RECORD_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byIndex))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wMainMonsterKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCanBattle))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byInstanceNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_INSTANCE_PER_TOWN_NUM; i++)
	{
		if(i >= (INT32)pstOut->byInstanceNum)
			break;
		if(-1 == DecodeDT_INSTANCE_RECORD_DATA_CLI(&pstOut->astInstanceInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_TOWN_INSTANCE_RECORD_DATA_CLI(DT_TOWN_INSTANCE_RECORD_DATA_CLI &data)
{
	Json::Value root;
	root["Index"]=data.byIndex;
	root["MainMonsterKindID"]=data.wMainMonsterKindID;
	root["CanBattle"]=data.byCanBattle;
	root["InstanceNum"]=data.byInstanceNum;
	for( UINT32 dwIndex=0; dwIndex<data.byInstanceNum; ++dwIndex)
	{
	root["InstanceInfo"].append( GetJsonDT_INSTANCE_RECORD_DATA_CLI(data.astInstanceInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_TOWN_INSTANCE_RECORD_DATA_CLI(Json::Value &root, DT_TOWN_INSTANCE_RECORD_DATA_CLI &data)
{
	data.byIndex=root["Index"].asUInt();
	data.wMainMonsterKindID=root["MainMonsterKindID"].asUInt();
	data.byCanBattle=root["CanBattle"].asUInt();
	data.byInstanceNum=root["InstanceNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byInstanceNum; ++dwIndex)
	{
		FromJsonDT_INSTANCE_RECORD_DATA_CLI(root["InstanceInfo"][dwIndex] , data.astInstanceInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_TOWN_INSTANCE_RECORD_DATA_CLI(const string &strData, DT_TOWN_INSTANCE_RECORD_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_TOWN_INSTANCE_RECORD_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_GET_SCENE_INSTANCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_SCENE_INSTANCE_REQ *pstIn = (PKT_CLIGS_GET_SCENE_INSTANCE_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wIndex))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_SCENE_INSTANCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_SCENE_INSTANCE_REQ *pstOut = (PKT_CLIGS_GET_SCENE_INSTANCE_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wIndex))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_SCENE_INSTANCE_REQ(PKT_CLIGS_GET_SCENE_INSTANCE_REQ &data)
{
	Json::Value root;
	root["Index"]=data.wIndex;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_SCENE_INSTANCE_REQ(Json::Value &root, PKT_CLIGS_GET_SCENE_INSTANCE_REQ &data)
{
	data.wIndex=root["Index"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_SCENE_INSTANCE_REQ(const string &strData, PKT_CLIGS_GET_SCENE_INSTANCE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_SCENE_INSTANCE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_GET_SCENE_INSTANCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_SCENE_INSTANCE_ACK *pstIn = (PKT_CLIGS_GET_SCENE_INSTANCE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wIndex))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEnterPhyStrength))
		return -1;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stMaxInstanceData, poNetData))
		return -1;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stMaxUnlockInstance, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTownNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_TOWN_PER_SCENE_NUM; i++)
	{
		if(i >= (INT32)pstIn->byTownNum)
			break;
		if(-1 == EncodeDT_TOWN_INSTANCE_RECORD_DATA_CLI(&pstIn->astTownInstanceInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_SCENE_INSTANCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_SCENE_INSTANCE_ACK *pstOut = (PKT_CLIGS_GET_SCENE_INSTANCE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wIndex))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEnterPhyStrength))
		return -1;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stMaxInstanceData, poNetData))
		return -1;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stMaxUnlockInstance, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTownNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_TOWN_PER_SCENE_NUM; i++)
	{
		if(i >= (INT32)pstOut->byTownNum)
			break;
		if(-1 == DecodeDT_TOWN_INSTANCE_RECORD_DATA_CLI(&pstOut->astTownInstanceInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_SCENE_INSTANCE_ACK(PKT_CLIGS_GET_SCENE_INSTANCE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["Index"]=data.wIndex;
	root["EnterPhyStrength"]=data.byEnterPhyStrength;
	root["MaxInstanceData"]=GetJsonDT_INSTANCE_ID(data.stMaxInstanceData);
	root["MaxUnlockInstance"]=GetJsonDT_INSTANCE_ID(data.stMaxUnlockInstance);
	root["TownNum"]=data.byTownNum;
	for( UINT32 dwIndex=0; dwIndex<data.byTownNum; ++dwIndex)
	{
	root["TownInstanceInfo"].append( GetJsonDT_TOWN_INSTANCE_RECORD_DATA_CLI(data.astTownInstanceInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_SCENE_INSTANCE_ACK(Json::Value &root, PKT_CLIGS_GET_SCENE_INSTANCE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wIndex=root["Index"].asUInt();
	data.byEnterPhyStrength=root["EnterPhyStrength"].asUInt();
	FromJsonDT_INSTANCE_ID(root["MaxInstanceData"] , data.stMaxInstanceData);
	FromJsonDT_INSTANCE_ID(root["MaxUnlockInstance"] , data.stMaxUnlockInstance);
	data.byTownNum=root["TownNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byTownNum; ++dwIndex)
	{
		FromJsonDT_TOWN_INSTANCE_RECORD_DATA_CLI(root["TownInstanceInfo"][dwIndex] , data.astTownInstanceInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_SCENE_INSTANCE_ACK(const string &strData, PKT_CLIGS_GET_SCENE_INSTANCE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_SCENE_INSTANCE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_EQUIP_STRENGTHEN_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EQUIP_STRENGTHEN_REQ *pstIn = (PKT_CLIGS_EQUIP_STRENGTHEN_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byStrengthenType))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EQUIP_STRENGTHEN_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EQUIP_STRENGTHEN_REQ *pstOut = (PKT_CLIGS_EQUIP_STRENGTHEN_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byStrengthenType))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EQUIP_STRENGTHEN_REQ(PKT_CLIGS_EQUIP_STRENGTHEN_REQ &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Idx"]=data.wIdx;
	root["StrengthenType"]=data.byStrengthenType;
	root["Level"]=data.wLevel;

	return root;
}
BOOL FromJsonPKT_CLIGS_EQUIP_STRENGTHEN_REQ(Json::Value &root, PKT_CLIGS_EQUIP_STRENGTHEN_REQ &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wIdx=root["Idx"].asUInt();
	data.byStrengthenType=root["StrengthenType"].asUInt();
	data.wLevel=root["Level"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EQUIP_STRENGTHEN_REQ(const string &strData, PKT_CLIGS_EQUIP_STRENGTHEN_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EQUIP_STRENGTHEN_REQ(root, data);
}
INT32 EncodePKT_CLIGS_EQUIP_STRENGTHEN_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EQUIP_STRENGTHEN_ACK *pstIn = (PKT_CLIGS_EQUIP_STRENGTHEN_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_EQUIP_DATA_STRENGTHEN_CLI(&pstIn->stEquipStrengthenInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_EQUIP_COMPOSE_DATA_CLI(&pstIn->stEquipComposeInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wStrengthenCountDown))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerMaxHP))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerCurHP))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EQUIP_STRENGTHEN_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EQUIP_STRENGTHEN_ACK *pstOut = (PKT_CLIGS_EQUIP_STRENGTHEN_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_EQUIP_DATA_STRENGTHEN_CLI(&pstOut->stEquipStrengthenInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_EQUIP_COMPOSE_DATA_CLI(&pstOut->stEquipComposeInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wStrengthenCountDown))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerMaxHP))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerCurHP))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EQUIP_STRENGTHEN_ACK(PKT_CLIGS_EQUIP_STRENGTHEN_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["EquipStrengthenInfo"]=GetJsonDT_EQUIP_DATA_STRENGTHEN_CLI(data.stEquipStrengthenInfo);
	root["EquipComposeInfo"]=GetJsonDT_EQUIP_COMPOSE_DATA_CLI(data.stEquipComposeInfo);
	root["StrengthenCountDown"]=data.wStrengthenCountDown;
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["PlayerMaxHP"]=data.dwPlayerMaxHP;
	root["PlayerCurHP"]=data.dwPlayerCurHP;
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_EQUIP_STRENGTHEN_ACK(Json::Value &root, PKT_CLIGS_EQUIP_STRENGTHEN_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_EQUIP_DATA_STRENGTHEN_CLI(root["EquipStrengthenInfo"] , data.stEquipStrengthenInfo);
	FromJsonDT_EQUIP_COMPOSE_DATA_CLI(root["EquipComposeInfo"] , data.stEquipComposeInfo);
	data.wStrengthenCountDown=root["StrengthenCountDown"].asUInt();
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	data.dwPlayerMaxHP=root["PlayerMaxHP"].asUInt();
	data.dwPlayerCurHP=root["PlayerCurHP"].asUInt();
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EQUIP_STRENGTHEN_ACK(const string &strData, PKT_CLIGS_EQUIP_STRENGTHEN_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EQUIP_STRENGTHEN_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SMITHY_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SMITHY_REQ *pstIn = (PKT_CLIGS_OPEN_SMITHY_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byBuildKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SMITHY_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SMITHY_REQ *pstOut = (PKT_CLIGS_OPEN_SMITHY_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byBuildKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SMITHY_REQ(PKT_CLIGS_OPEN_SMITHY_REQ &data)
{
	Json::Value root;
	root["BuildKindID"]=data.byBuildKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SMITHY_REQ(Json::Value &root, PKT_CLIGS_OPEN_SMITHY_REQ &data)
{
	data.byBuildKindID=root["BuildKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SMITHY_REQ(const string &strData, PKT_CLIGS_OPEN_SMITHY_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SMITHY_REQ(root, data);
}
INT32 EncodeDT_BUY_EQUIP_DATA(void *pHost, CNetData* poNetData)
{
	DT_BUY_EQUIP_DATA *pstIn = (DT_BUY_EQUIP_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wEquipID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwBuyCoin))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_BUY_EQUIP_DATA(void *pHost, CNetData* poNetData)
{
	DT_BUY_EQUIP_DATA *pstOut = (DT_BUY_EQUIP_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wEquipID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwBuyCoin))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_BUY_EQUIP_DATA(DT_BUY_EQUIP_DATA &data)
{
	Json::Value root;
	root["EquipID"]=data.wEquipID;
	root["BuyCoin"]=data.dwBuyCoin;

	return root;
}
BOOL FromJsonDT_BUY_EQUIP_DATA(Json::Value &root, DT_BUY_EQUIP_DATA &data)
{
	data.wEquipID=root["EquipID"].asUInt();
	data.dwBuyCoin=root["BuyCoin"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_BUY_EQUIP_DATA(const string &strData, DT_BUY_EQUIP_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_BUY_EQUIP_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SMITHY_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SMITHY_ACK *pstIn = (PKT_CLIGS_OPEN_SMITHY_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wStrengthenCountDown))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wStrengthenCD))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwClrCDGold))
		return -1;

	if(-1 == EncodeDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(&pstIn->stEquipList, poNetData))
		return -1;

	INT32 i;
	for(i = 0; i < EQUIP_POS_NUM; i++)
	{
		if(-1 == EncodeDT_BUY_EQUIP_DATA(&pstIn->astByEquipInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SMITHY_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SMITHY_ACK *pstOut = (PKT_CLIGS_OPEN_SMITHY_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wStrengthenCountDown))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wStrengthenCD))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwClrCDGold))
		return -1;

	if(-1 == DecodeDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(&pstOut->stEquipList, poNetData))
		return -1;

	INT32 i;
		for(i = 0; i < EQUIP_POS_NUM; i++)
		{
			if(-1 == DecodeDT_BUY_EQUIP_DATA(&pstOut->astByEquipInfo[i], poNetData))
				return -1;
		}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SMITHY_ACK(PKT_CLIGS_OPEN_SMITHY_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["StrengthenCountDown"]=data.wStrengthenCountDown;
	root["StrengthenCD"]=data.wStrengthenCD;
	root["ClrCDGold"]=data.dwClrCDGold;
	root["EquipList"]=GetJsonDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(data.stEquipList);
	for( UINT32 dwIndex=0; dwIndex<EQUIP_POS_NUM; ++dwIndex)
	{
	root["ByEquipInfo"].append( GetJsonDT_BUY_EQUIP_DATA(data.astByEquipInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SMITHY_ACK(Json::Value &root, PKT_CLIGS_OPEN_SMITHY_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wStrengthenCountDown=root["StrengthenCountDown"].asUInt();
	data.wStrengthenCD=root["StrengthenCD"].asUInt();
	data.dwClrCDGold=root["ClrCDGold"].asUInt();
	FromJsonDT_EQUIP_STRENGTHEN_COMPOSE_DATA_LST_CLI(root["EquipList"] , data.stEquipList);
	for( UINT32 dwIndex=0; dwIndex<EQUIP_POS_NUM; ++dwIndex)
	{
		FromJsonDT_BUY_EQUIP_DATA(root["ByEquipInfo"][dwIndex] , data.astByEquipInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SMITHY_ACK(const string &strData, PKT_CLIGS_OPEN_SMITHY_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SMITHY_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_RECRUIT_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_RECRUIT_REQ *pstIn = (PKT_CLIGS_OPEN_RECRUIT_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byBuildKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_RECRUIT_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_RECRUIT_REQ *pstOut = (PKT_CLIGS_OPEN_RECRUIT_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byBuildKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_RECRUIT_REQ(PKT_CLIGS_OPEN_RECRUIT_REQ &data)
{
	Json::Value root;
	root["BuildKindID"]=data.byBuildKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_RECRUIT_REQ(Json::Value &root, PKT_CLIGS_OPEN_RECRUIT_REQ &data)
{
	data.byBuildKindID=root["BuildKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_RECRUIT_REQ(const string &strData, PKT_CLIGS_OPEN_RECRUIT_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_RECRUIT_REQ(root, data);
}
INT32 EncodeDT_HERO_ATTR_ADD_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_ATTR_ADD_CLI *pstIn = (DT_HERO_ATTR_ADD_CLI*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwAddAttack))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwAddHP))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_ATTR_ADD_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_ATTR_ADD_CLI *pstOut = (DT_HERO_ATTR_ADD_CLI*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwAddAttack))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwAddHP))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_ATTR_ADD_CLI(DT_HERO_ATTR_ADD_CLI &data)
{
	Json::Value root;
	root["AddAttack"]=data.dwAddAttack;
	root["AddHP"]=data.dwAddHP;

	return root;
}
BOOL FromJsonDT_HERO_ATTR_ADD_CLI(Json::Value &root, DT_HERO_ATTR_ADD_CLI &data)
{
	data.dwAddAttack=root["AddAttack"].asUInt();
	data.dwAddHP=root["AddHP"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_HERO_ATTR_ADD_CLI(const string &strData, DT_HERO_ATTR_ADD_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_ATTR_ADD_CLI(root, data);
}
INT32 EncodeDT_RECRUIT_HERO_DATA(void *pHost, CNetData* poNetData)
{
	DT_RECRUIT_HERO_DATA *pstIn = (DT_RECRUIT_HERO_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byNeedVisitNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCurVisitNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwVisitCoin))
		return -1;

	if(-1 == EncodeDT_HERO_BASE_DATA_CLI(&pstIn->stHeroBaseInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_HERO_ATTR_ADD_CLI(&pstIn->stHeroAttrAddInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_SKILL_DATA_CLI(&pstIn->stSkillInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wVisitGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wRecuitLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byRecuitUnLock))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_RECRUIT_HERO_DATA(void *pHost, CNetData* poNetData)
{
	DT_RECRUIT_HERO_DATA *pstOut = (DT_RECRUIT_HERO_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byNeedVisitNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCurVisitNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwVisitCoin))
		return -1;

	if(-1 == DecodeDT_HERO_BASE_DATA_CLI(&pstOut->stHeroBaseInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_HERO_ATTR_ADD_CLI(&pstOut->stHeroAttrAddInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_SKILL_DATA_CLI(&pstOut->stSkillInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wVisitGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wRecuitLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byRecuitUnLock))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_RECRUIT_HERO_DATA(DT_RECRUIT_HERO_DATA &data)
{
	Json::Value root;
	root["NeedVisitNum"]=data.byNeedVisitNum;
	root["CurVisitNum"]=data.byCurVisitNum;
	root["VisitCoin"]=data.dwVisitCoin;
	root["HeroBaseInfo"]=GetJsonDT_HERO_BASE_DATA_CLI(data.stHeroBaseInfo);
	root["HeroAttrAddInfo"]=GetJsonDT_HERO_ATTR_ADD_CLI(data.stHeroAttrAddInfo);
	root["SkillInfo"]=GetJsonDT_SKILL_DATA_CLI(data.stSkillInfo);
	root["VisitGold"]=data.wVisitGold;
	root["RecuitLevel"]=data.wRecuitLevel;
	root["RecuitUnLock"]=data.byRecuitUnLock;

	return root;
}
BOOL FromJsonDT_RECRUIT_HERO_DATA(Json::Value &root, DT_RECRUIT_HERO_DATA &data)
{
	data.byNeedVisitNum=root["NeedVisitNum"].asUInt();
	data.byCurVisitNum=root["CurVisitNum"].asUInt();
	data.dwVisitCoin=root["VisitCoin"].asUInt();
	FromJsonDT_HERO_BASE_DATA_CLI(root["HeroBaseInfo"] , data.stHeroBaseInfo);
	FromJsonDT_HERO_ATTR_ADD_CLI(root["HeroAttrAddInfo"] , data.stHeroAttrAddInfo);
	FromJsonDT_SKILL_DATA_CLI(root["SkillInfo"] , data.stSkillInfo);
	data.wVisitGold=root["VisitGold"].asUInt();
	data.wRecuitLevel=root["RecuitLevel"].asUInt();
	data.byRecuitUnLock=root["RecuitUnLock"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_RECRUIT_HERO_DATA(const string &strData, DT_RECRUIT_HERO_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_RECRUIT_HERO_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_RECRUIT_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_RECRUIT_ACK *pstIn = (PKT_CLIGS_OPEN_RECRUIT_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->wHeroNum)
			break;
		if(-1 == EncodeDT_RECRUIT_HERO_DATA(&pstIn->astHeroInfoLst[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_RECRUIT_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_RECRUIT_ACK *pstOut = (PKT_CLIGS_OPEN_RECRUIT_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->wHeroNum)
			break;
		if(-1 == DecodeDT_RECRUIT_HERO_DATA(&pstOut->astHeroInfoLst[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_RECRUIT_ACK(PKT_CLIGS_OPEN_RECRUIT_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroNum"]=data.wHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
	root["HeroInfoLst"].append( GetJsonDT_RECRUIT_HERO_DATA(data.astHeroInfoLst[dwIndex]) );
	}
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_RECRUIT_ACK(Json::Value &root, PKT_CLIGS_OPEN_RECRUIT_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroNum=root["HeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
		FromJsonDT_RECRUIT_HERO_DATA(root["HeroInfoLst"][dwIndex] , data.astHeroInfoLst[dwIndex] );
	}	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_RECRUIT_ACK(const string &strData, PKT_CLIGS_OPEN_RECRUIT_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_RECRUIT_ACK(root, data);
}
INT32 EncodePKT_CLIGS_RECRUIT_HERO_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECRUIT_HERO_REQ *pstIn = (PKT_CLIGS_RECRUIT_HERO_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECRUIT_HERO_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECRUIT_HERO_REQ *pstOut = (PKT_CLIGS_RECRUIT_HERO_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECRUIT_HERO_REQ(PKT_CLIGS_RECRUIT_HERO_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_RECRUIT_HERO_REQ(Json::Value &root, PKT_CLIGS_RECRUIT_HERO_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECRUIT_HERO_REQ(const string &strData, PKT_CLIGS_RECRUIT_HERO_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECRUIT_HERO_REQ(root, data);
}
INT32 EncodePKT_CLIGS_RECRUIT_HERO_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECRUIT_HERO_ACK *pstIn = (PKT_CLIGS_RECRUIT_HERO_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_HERO_BASE_DATA_CLI(&pstIn->stHeroBaseInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGuide))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECRUIT_HERO_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECRUIT_HERO_ACK *pstOut = (PKT_CLIGS_RECRUIT_HERO_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_HERO_BASE_DATA_CLI(&pstOut->stHeroBaseInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGuide))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECRUIT_HERO_ACK(PKT_CLIGS_RECRUIT_HERO_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroBaseInfo"]=GetJsonDT_HERO_BASE_DATA_CLI(data.stHeroBaseInfo);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	ostringstream ssqwPlayerCoin;
	ssqwPlayerCoin<<data.qwPlayerCoin;
	root["PlayerCoin"]=ssqwPlayerCoin.str();
	root["Guide"]=data.dwGuide;
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_RECRUIT_HERO_ACK(Json::Value &root, PKT_CLIGS_RECRUIT_HERO_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_HERO_BASE_DATA_CLI(root["HeroBaseInfo"] , data.stHeroBaseInfo);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	data.qwPlayerCoin=SDAtou64( root["PlayerCoin"].asCString() );
	data.dwGuide=root["Guide"].asUInt();
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECRUIT_HERO_ACK(const string &strData, PKT_CLIGS_RECRUIT_HERO_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECRUIT_HERO_ACK(root, data);
}
INT32 EncodePKT_CLIGS_VISIT_HERO_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_VISIT_HERO_REQ *pstIn = (PKT_CLIGS_VISIT_HERO_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySizeFlag))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byGoldFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_VISIT_HERO_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_VISIT_HERO_REQ *pstOut = (PKT_CLIGS_VISIT_HERO_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySizeFlag))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byGoldFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_VISIT_HERO_REQ(PKT_CLIGS_VISIT_HERO_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["SizeFlag"]=data.bySizeFlag;
	root["GoldFlag"]=data.byGoldFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_VISIT_HERO_REQ(Json::Value &root, PKT_CLIGS_VISIT_HERO_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.bySizeFlag=root["SizeFlag"].asUInt();
	data.byGoldFlag=root["GoldFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_VISIT_HERO_REQ(const string &strData, PKT_CLIGS_VISIT_HERO_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_VISIT_HERO_REQ(root, data);
}
INT32 EncodePKT_CLIGS_VISIT_HERO_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_VISIT_HERO_ACK *pstIn = (PKT_CLIGS_VISIT_HERO_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byWinFlag))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byNeedVisitNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCurVisitNum))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUpgradeVisitNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwReturnCoin))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_VISIT_HERO_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_VISIT_HERO_ACK *pstOut = (PKT_CLIGS_VISIT_HERO_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byWinFlag))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byNeedVisitNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCurVisitNum))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUpgradeVisitNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwReturnCoin))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_VISIT_HERO_ACK(PKT_CLIGS_VISIT_HERO_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["WinFlag"]=data.byWinFlag;
	root["HeroKindID"]=data.wHeroKindID;
	root["NeedVisitNum"]=data.byNeedVisitNum;
	root["CurVisitNum"]=data.byCurVisitNum;
	ostringstream ssqwPlayerCoin;
	ssqwPlayerCoin<<data.qwPlayerCoin;
	root["PlayerCoin"]=ssqwPlayerCoin.str();
	ostringstream ssqwPlayerGold;
	ssqwPlayerGold<<data.qwPlayerGold;
	root["PlayerGold"]=ssqwPlayerGold.str();
	root["UpgradeVisitNum"]=data.wUpgradeVisitNum;
	root["ReturnCoin"]=data.dwReturnCoin;

	return root;
}
BOOL FromJsonPKT_CLIGS_VISIT_HERO_ACK(Json::Value &root, PKT_CLIGS_VISIT_HERO_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byWinFlag=root["WinFlag"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byNeedVisitNum=root["NeedVisitNum"].asUInt();
	data.byCurVisitNum=root["CurVisitNum"].asUInt();
	data.qwPlayerCoin=SDAtou64( root["PlayerCoin"].asCString() );
	data.qwPlayerGold=SDAtou64( root["PlayerGold"].asCString() );
	data.wUpgradeVisitNum=root["UpgradeVisitNum"].asUInt();
	data.dwReturnCoin=root["ReturnCoin"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_VISIT_HERO_ACK(const string &strData, PKT_CLIGS_VISIT_HERO_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_VISIT_HERO_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_BAG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_BAG_REQ *pstIn = (PKT_CLIGS_OPEN_BAG_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_BAG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_BAG_REQ *pstOut = (PKT_CLIGS_OPEN_BAG_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_BAG_REQ(PKT_CLIGS_OPEN_BAG_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_BAG_REQ(Json::Value &root, PKT_CLIGS_OPEN_BAG_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_BAG_REQ(const string &strData, PKT_CLIGS_OPEN_BAG_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_BAG_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_BAG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_BAG_ACK *pstIn = (PKT_CLIGS_OPEN_BAG_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_BAG_DATA_CLI(&pstIn->stBagInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_ITEM_DATA_LIST_CLI2(&pstIn->stBagItemInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_BAG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_BAG_ACK *pstOut = (PKT_CLIGS_OPEN_BAG_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_BAG_DATA_CLI(&pstOut->stBagInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_ITEM_DATA_LIST_CLI2(&pstOut->stBagItemInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_BAG_ACK(PKT_CLIGS_OPEN_BAG_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["BagInfo"]=GetJsonDT_BAG_DATA_CLI(data.stBagInfo);
	root["BagItemInfo"]=GetJsonDT_ITEM_DATA_LIST_CLI2(data.stBagItemInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_BAG_ACK(Json::Value &root, PKT_CLIGS_OPEN_BAG_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_BAG_DATA_CLI(root["BagInfo"] , data.stBagInfo);
	FromJsonDT_ITEM_DATA_LIST_CLI2(root["BagItemInfo"] , data.stBagItemInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_BAG_ACK(const string &strData, PKT_CLIGS_OPEN_BAG_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_BAG_ACK(root, data);
}
INT32 EncodePKT_CLIGS_ACCEPT_TASK_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ACCEPT_TASK_REQ *pstIn = (PKT_CLIGS_ACCEPT_TASK_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ACCEPT_TASK_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ACCEPT_TASK_REQ *pstOut = (PKT_CLIGS_ACCEPT_TASK_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ACCEPT_TASK_REQ(PKT_CLIGS_ACCEPT_TASK_REQ &data)
{
	Json::Value root;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_ACCEPT_TASK_REQ(Json::Value &root, PKT_CLIGS_ACCEPT_TASK_REQ &data)
{
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ACCEPT_TASK_REQ(const string &strData, PKT_CLIGS_ACCEPT_TASK_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ACCEPT_TASK_REQ(root, data);
}
INT32 EncodeDT_INSTANCE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_INSTANCE_DATA_CLI *pstIn = (DT_INSTANCE_DATA_CLI*)pHost;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stInstanceID, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEnterLevel))
		return -1;

	if(-1 == EncodeDT_BURST_ITEM_DATA(&pstIn->stBurstItemInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwBurstExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwMaxMonstorPower))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_INSTANCE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_INSTANCE_DATA_CLI *pstOut = (DT_INSTANCE_DATA_CLI*)pHost;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stInstanceID, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEnterLevel))
		return -1;

	if(-1 == DecodeDT_BURST_ITEM_DATA(&pstOut->stBurstItemInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwBurstExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwMaxMonstorPower))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_INSTANCE_DATA_CLI(DT_INSTANCE_DATA_CLI &data)
{
	Json::Value root;
	root["InstanceID"]=GetJsonDT_INSTANCE_ID(data.stInstanceID);
	root["EnterLevel"]=data.wEnterLevel;
	root["BurstItemInfo"]=GetJsonDT_BURST_ITEM_DATA(data.stBurstItemInfo);
	root["BurstExperience"]=data.dwBurstExperience;
	root["MaxMonstorPower"]=data.dwMaxMonstorPower;

	return root;
}
BOOL FromJsonDT_INSTANCE_DATA_CLI(Json::Value &root, DT_INSTANCE_DATA_CLI &data)
{
	FromJsonDT_INSTANCE_ID(root["InstanceID"] , data.stInstanceID);
	data.wEnterLevel=root["EnterLevel"].asUInt();
	FromJsonDT_BURST_ITEM_DATA(root["BurstItemInfo"] , data.stBurstItemInfo);
	data.dwBurstExperience=root["BurstExperience"].asUInt();
	data.dwMaxMonstorPower=root["MaxMonstorPower"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_INSTANCE_DATA_CLI(const string &strData, DT_INSTANCE_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_INSTANCE_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_ACCEPT_TASK_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ACCEPT_TASK_ACK *pstIn = (PKT_CLIGS_ACCEPT_TASK_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUnlockNewInstanceFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byUnlockNewInstanceFlag)
			break;
		if(-1 == EncodeDT_INSTANCE_ID(&pstIn->astUnlockCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byHaveNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveNewInstanceFlag)
			break;
		if(-1 == EncodeDT_INSTANCE_DATA_CLI(&pstIn->astNewCommonInstanceID[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ACCEPT_TASK_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ACCEPT_TASK_ACK *pstOut = (PKT_CLIGS_ACCEPT_TASK_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUnlockNewInstanceFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byUnlockNewInstanceFlag)
			break;
		if(-1 == DecodeDT_INSTANCE_ID(&pstOut->astUnlockCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byHaveNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveNewInstanceFlag)
			break;
		if(-1 == DecodeDT_INSTANCE_DATA_CLI(&pstOut->astNewCommonInstanceID[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ACCEPT_TASK_ACK(PKT_CLIGS_ACCEPT_TASK_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["UnlockNewInstanceFlag"]=data.byUnlockNewInstanceFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byUnlockNewInstanceFlag; ++dwIndex)
	{
	root["UnlockCommonInstanceID"].append( GetJsonDT_INSTANCE_ID(data.astUnlockCommonInstanceID[dwIndex]) );
	}
	root["HaveNewInstanceFlag"]=data.byHaveNewInstanceFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNewInstanceFlag; ++dwIndex)
	{
	root["NewCommonInstanceID"].append( GetJsonDT_INSTANCE_DATA_CLI(data.astNewCommonInstanceID[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_ACCEPT_TASK_ACK(Json::Value &root, PKT_CLIGS_ACCEPT_TASK_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	data.byUnlockNewInstanceFlag=root["UnlockNewInstanceFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byUnlockNewInstanceFlag; ++dwIndex)
	{
		FromJsonDT_INSTANCE_ID(root["UnlockCommonInstanceID"][dwIndex] , data.astUnlockCommonInstanceID[dwIndex] );
	}	data.byHaveNewInstanceFlag=root["HaveNewInstanceFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNewInstanceFlag; ++dwIndex)
	{
		FromJsonDT_INSTANCE_DATA_CLI(root["NewCommonInstanceID"][dwIndex] , data.astNewCommonInstanceID[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ACCEPT_TASK_ACK(const string &strData, PKT_CLIGS_ACCEPT_TASK_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ACCEPT_TASK_ACK(root, data);
}
INT32 EncodePKT_CLIGS_GIVEUP_TASK_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GIVEUP_TASK_REQ *pstIn = (PKT_CLIGS_GIVEUP_TASK_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GIVEUP_TASK_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GIVEUP_TASK_REQ *pstOut = (PKT_CLIGS_GIVEUP_TASK_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GIVEUP_TASK_REQ(PKT_CLIGS_GIVEUP_TASK_REQ &data)
{
	Json::Value root;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_GIVEUP_TASK_REQ(Json::Value &root, PKT_CLIGS_GIVEUP_TASK_REQ &data)
{
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GIVEUP_TASK_REQ(const string &strData, PKT_CLIGS_GIVEUP_TASK_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GIVEUP_TASK_REQ(root, data);
}
INT32 EncodePKT_CLIGS_GIVEUP_TASK_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GIVEUP_TASK_ACK *pstIn = (PKT_CLIGS_GIVEUP_TASK_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GIVEUP_TASK_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GIVEUP_TASK_ACK *pstOut = (PKT_CLIGS_GIVEUP_TASK_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GIVEUP_TASK_ACK(PKT_CLIGS_GIVEUP_TASK_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);

	return root;
}
BOOL FromJsonPKT_CLIGS_GIVEUP_TASK_ACK(Json::Value &root, PKT_CLIGS_GIVEUP_TASK_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GIVEUP_TASK_ACK(const string &strData, PKT_CLIGS_GIVEUP_TASK_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GIVEUP_TASK_ACK(root, data);
}
INT32 EncodePKT_CLIGS_RECV_TASK_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ *pstIn = (PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_TASK_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ *pstOut = (PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_TASK_ENCOURAGE_REQ(PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ &data)
{
	Json::Value root;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_TASK_ENCOURAGE_REQ(Json::Value &root, PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ &data)
{
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_TASK_ENCOURAGE_REQ(const string &strData, PKT_CLIGS_RECV_TASK_ENCOURAGE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_TASK_ENCOURAGE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_RECV_TASK_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK *pstIn = (PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTaskIdx))
		return -1;

	if(-1 == EncodeDT_HERO_UPGRADE_DATA(&pstIn->stMainHeroUpgradeInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == EncodeDT_PHYSTRENGTH_DATA_CLI(&pstIn->stPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUnlockEquipLevel))
		return -1;

	if(-1 == EncodeUnlockScienceInfo(&pstIn->stUnlockScienceList, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUnlockNewInstanceFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byUnlockNewInstanceFlag)
			break;
		if(-1 == EncodeDT_INSTANCE_ID(&pstIn->astUnlockCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byHaveNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveNewInstanceFlag)
			break;
		if(-1 == EncodeDT_INSTANCE_DATA_CLI(&pstIn->astNewCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddDword(pstIn->dwGuide))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStory))
		return -1;

	if(-1 == EncodeDT_NEW_EQUIP_PROMPT_DATA(&pstIn->stNewEquipPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_TASK_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK *pstOut = (PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTaskLineIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTaskIdx))
		return -1;

	if(-1 == DecodeDT_HERO_UPGRADE_DATA(&pstOut->stMainHeroUpgradeInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == DecodeDT_PHYSTRENGTH_DATA_CLI(&pstOut->stPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUnlockEquipLevel))
		return -1;

	if(-1 == DecodeUnlockScienceInfo(&pstOut->stUnlockScienceList, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUnlockNewInstanceFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byUnlockNewInstanceFlag)
			break;
		if(-1 == DecodeDT_INSTANCE_ID(&pstOut->astUnlockCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byHaveNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveNewInstanceFlag)
			break;
		if(-1 == DecodeDT_INSTANCE_DATA_CLI(&pstOut->astNewCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelDword(pstOut->dwGuide))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStory))
		return -1;

	if(-1 == DecodeDT_NEW_EQUIP_PROMPT_DATA(&pstOut->stNewEquipPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_TASK_ENCOURAGE_ACK(PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["TaskLineIdx"]=data.byTaskLineIdx;
	root["TaskIdx"]=data.dwTaskIdx;
	root["MainHeroUpgradeInfo"]=GetJsonDT_HERO_UPGRADE_DATA(data.stMainHeroUpgradeInfo);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["PhyStrengthInfo"]=GetJsonDT_PHYSTRENGTH_DATA_CLI(data.stPhyStrengthInfo);
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);
	root["UnlockEquipLevel"]=data.wUnlockEquipLevel;
	root["UnlockScienceList"]=GetJsonUnlockScienceInfo(data.stUnlockScienceList);
	root["UnlockNewInstanceFlag"]=data.byUnlockNewInstanceFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byUnlockNewInstanceFlag; ++dwIndex)
	{
	root["UnlockCommonInstanceID"].append( GetJsonDT_INSTANCE_ID(data.astUnlockCommonInstanceID[dwIndex]) );
	}
	root["HaveNewInstanceFlag"]=data.byHaveNewInstanceFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNewInstanceFlag; ++dwIndex)
	{
	root["NewCommonInstanceID"].append( GetJsonDT_INSTANCE_DATA_CLI(data.astNewCommonInstanceID[dwIndex]) );
	}
	root["Guide"]=data.dwGuide;
	ostringstream ssqwStory;
	ssqwStory<<data.qwStory;
	root["Story"]=ssqwStory.str();
	root["NewEquipPromptInfo"]=GetJsonDT_NEW_EQUIP_PROMPT_DATA(data.stNewEquipPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_TASK_ENCOURAGE_ACK(Json::Value &root, PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byTaskLineIdx=root["TaskLineIdx"].asUInt();
	data.dwTaskIdx=root["TaskIdx"].asUInt();
	FromJsonDT_HERO_UPGRADE_DATA(root["MainHeroUpgradeInfo"] , data.stMainHeroUpgradeInfo);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	FromJsonDT_PHYSTRENGTH_DATA_CLI(root["PhyStrengthInfo"] , data.stPhyStrengthInfo);
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);
	data.wUnlockEquipLevel=root["UnlockEquipLevel"].asUInt();
	FromJsonUnlockScienceInfo(root["UnlockScienceList"] , data.stUnlockScienceList);
	data.byUnlockNewInstanceFlag=root["UnlockNewInstanceFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byUnlockNewInstanceFlag; ++dwIndex)
	{
		FromJsonDT_INSTANCE_ID(root["UnlockCommonInstanceID"][dwIndex] , data.astUnlockCommonInstanceID[dwIndex] );
	}	data.byHaveNewInstanceFlag=root["HaveNewInstanceFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNewInstanceFlag; ++dwIndex)
	{
		FromJsonDT_INSTANCE_DATA_CLI(root["NewCommonInstanceID"][dwIndex] , data.astNewCommonInstanceID[dwIndex] );
	}	data.dwGuide=root["Guide"].asUInt();
	data.qwStory=SDAtou64( root["Story"].asCString() );
	FromJsonDT_NEW_EQUIP_PROMPT_DATA(root["NewEquipPromptInfo"] , data.stNewEquipPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_TASK_ENCOURAGE_ACK(const string &strData, PKT_CLIGS_RECV_TASK_ENCOURAGE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_TASK_ENCOURAGE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_RACE_BUILD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_RACE_BUILD_REQ *pstIn = (PKT_CLIGS_OPEN_RACE_BUILD_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byBuildKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_RACE_BUILD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_RACE_BUILD_REQ *pstOut = (PKT_CLIGS_OPEN_RACE_BUILD_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byBuildKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_RACE_BUILD_REQ(PKT_CLIGS_OPEN_RACE_BUILD_REQ &data)
{
	Json::Value root;
	root["BuildKindID"]=data.byBuildKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_RACE_BUILD_REQ(Json::Value &root, PKT_CLIGS_OPEN_RACE_BUILD_REQ &data)
{
	data.byBuildKindID=root["BuildKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_RACE_BUILD_REQ(const string &strData, PKT_CLIGS_OPEN_RACE_BUILD_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_RACE_BUILD_REQ(root, data);
}
INT32 EncodeDT_CHALLENGE_PLAYER_DATA(void *pHost, CNetData* poNetData)
{
	DT_CHALLENGE_PLAYER_DATA *pstIn = (DT_CHALLENGE_PLAYER_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszDispName, sizeof(pstIn->aszDispName)))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwRank))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwFirstAttack))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_CHALLENGE_PLAYER_DATA(void *pHost, CNetData* poNetData)
{
	DT_CHALLENGE_PLAYER_DATA *pstOut = (DT_CHALLENGE_PLAYER_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszDispName, sizeof(pstOut->aszDispName)))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwRank))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwFirstAttack))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_CHALLENGE_PLAYER_DATA(DT_CHALLENGE_PLAYER_DATA &data)
{
	Json::Value root;
	root["ID"]=data.dwID;
	root["HeroKindID"]=data.wHeroKindID;
	root["DispName"]=data.aszDispName;
	root["Level"]=data.wLevel;
	root["Rank"]=data.dwRank;
	root["Power"]=data.dwPower;
	root["FirstAttack"]=data.dwFirstAttack;

	return root;
}
BOOL FromJsonDT_CHALLENGE_PLAYER_DATA(Json::Value &root, DT_CHALLENGE_PLAYER_DATA &data)
{
	data.dwID=root["ID"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	strncpy( data.aszDispName,root["DispName"].asCString(),USERNAME_LEN);
	data.wLevel=root["Level"].asUInt();
	data.dwRank=root["Rank"].asUInt();
	data.dwPower=root["Power"].asUInt();
	data.dwFirstAttack=root["FirstAttack"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_CHALLENGE_PLAYER_DATA(const string &strData, DT_CHALLENGE_PLAYER_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_CHALLENGE_PLAYER_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_RACE_BUILD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_RACE_BUILD_ACK *pstIn = (PKT_CLIGS_OPEN_RACE_BUILD_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwRank))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wContiWin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwScience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwFirstAttack))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveRecvEncourageFlag))
		return -1;

	if(-1 == EncodeDT_RACE_RANK_ENCOURAGE_DATA(&pstIn->stTodayRankEncourage, poNetData))
		return -1;

	if(-1 == EncodeDT_RACE_RANK_ENCOURAGE_DATA(&pstIn->stTomorrowRankEncourage, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCanChallengeNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wFreeChallengeNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwChallengeNeedGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wChallengeCountDown))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwClrCDGold))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byChallengeNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CHALLENGE_NUM; i++)
	{
		if(i >= (INT32)pstIn->byChallengeNum)
			break;
		if(-1 == EncodeDT_CHALLENGE_PLAYER_DATA(&pstIn->astChallengePlayerList[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_RACE_BUILD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_RACE_BUILD_ACK *pstOut = (PKT_CLIGS_OPEN_RACE_BUILD_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwRank))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wContiWin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwScience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwFirstAttack))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveRecvEncourageFlag))
		return -1;

	if(-1 == DecodeDT_RACE_RANK_ENCOURAGE_DATA(&pstOut->stTodayRankEncourage, poNetData))
		return -1;

	if(-1 == DecodeDT_RACE_RANK_ENCOURAGE_DATA(&pstOut->stTomorrowRankEncourage, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCanChallengeNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wFreeChallengeNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwChallengeNeedGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wChallengeCountDown))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwClrCDGold))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byChallengeNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CHALLENGE_NUM; i++)
	{
		if(i >= (INT32)pstOut->byChallengeNum)
			break;
		if(-1 == DecodeDT_CHALLENGE_PLAYER_DATA(&pstOut->astChallengePlayerList[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_RACE_BUILD_ACK(PKT_CLIGS_OPEN_RACE_BUILD_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["Level"]=data.wLevel;
	root["Rank"]=data.dwRank;
	root["ContiWin"]=data.wContiWin;
	ostringstream ssqwScience;
	ssqwScience<<data.qwScience;
	root["Science"]=ssqwScience.str();
	root["Power"]=data.dwPower;
	root["FirstAttack"]=data.dwFirstAttack;
	root["HaveRecvEncourageFlag"]=data.byHaveRecvEncourageFlag;
	root["TodayRankEncourage"]=GetJsonDT_RACE_RANK_ENCOURAGE_DATA(data.stTodayRankEncourage);
	root["TomorrowRankEncourage"]=GetJsonDT_RACE_RANK_ENCOURAGE_DATA(data.stTomorrowRankEncourage);
	root["CanChallengeNum"]=data.wCanChallengeNum;
	root["FreeChallengeNum"]=data.wFreeChallengeNum;
	root["ChallengeNeedGold"]=data.dwChallengeNeedGold;
	root["ChallengeCountDown"]=data.wChallengeCountDown;
	root["ClrCDGold"]=data.dwClrCDGold;
	root["ChallengeNum"]=data.byChallengeNum;
	for( UINT32 dwIndex=0; dwIndex<data.byChallengeNum; ++dwIndex)
	{
	root["ChallengePlayerList"].append( GetJsonDT_CHALLENGE_PLAYER_DATA(data.astChallengePlayerList[dwIndex]) );
	}
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_RACE_BUILD_ACK(Json::Value &root, PKT_CLIGS_OPEN_RACE_BUILD_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.dwRank=root["Rank"].asUInt();
	data.wContiWin=root["ContiWin"].asUInt();
	data.qwScience=SDAtou64( root["Science"].asCString() );
	data.dwPower=root["Power"].asUInt();
	data.dwFirstAttack=root["FirstAttack"].asUInt();
	data.byHaveRecvEncourageFlag=root["HaveRecvEncourageFlag"].asUInt();
	FromJsonDT_RACE_RANK_ENCOURAGE_DATA(root["TodayRankEncourage"] , data.stTodayRankEncourage);
	FromJsonDT_RACE_RANK_ENCOURAGE_DATA(root["TomorrowRankEncourage"] , data.stTomorrowRankEncourage);
	data.wCanChallengeNum=root["CanChallengeNum"].asUInt();
	data.wFreeChallengeNum=root["FreeChallengeNum"].asUInt();
	data.dwChallengeNeedGold=root["ChallengeNeedGold"].asUInt();
	data.wChallengeCountDown=root["ChallengeCountDown"].asUInt();
	data.dwClrCDGold=root["ClrCDGold"].asUInt();
	data.byChallengeNum=root["ChallengeNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byChallengeNum; ++dwIndex)
	{
		FromJsonDT_CHALLENGE_PLAYER_DATA(root["ChallengePlayerList"][dwIndex] , data.astChallengePlayerList[dwIndex] );
	}	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_RACE_BUILD_ACK(const string &strData, PKT_CLIGS_OPEN_RACE_BUILD_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_RACE_BUILD_ACK(root, data);
}
INT32 EncodeDT_ENEMY_EQUIP_DATA(void *pHost, CNetData* poNetData)
{
	DT_ENEMY_EQUIP_DATA *pstIn = (DT_ENEMY_EQUIP_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stBattleAttribute, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ENEMY_EQUIP_DATA(void *pHost, CNetData* poNetData)
{
	DT_ENEMY_EQUIP_DATA *pstOut = (DT_ENEMY_EQUIP_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stBattleAttribute, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ENEMY_EQUIP_DATA(DT_ENEMY_EQUIP_DATA &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Level"]=data.wLevel;
	root["BattleAttribute"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stBattleAttribute);

	return root;
}
BOOL FromJsonDT_ENEMY_EQUIP_DATA(Json::Value &root, DT_ENEMY_EQUIP_DATA &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wLevel=root["Level"].asUInt();
	FromJsonDT_BATTLE_ATTRIBUTE(root["BattleAttribute"] , data.stBattleAttribute);

	return TRUE;
}
BOOL FromJsonDT_ENEMY_EQUIP_DATA(const string &strData, DT_ENEMY_EQUIP_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ENEMY_EQUIP_DATA(root, data);
}
INT32 EncodeDT_ENEMY_EQUIP_DATA_LST(void *pHost, CNetData* poNetData)
{
	DT_ENEMY_EQUIP_DATA_LST *pstIn = (DT_ENEMY_EQUIP_DATA_LST*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < EQUIP_POS_NUM; i++)
	{
		if(i >= (INT32)pstIn->wEquipNum)
			break;
		if(-1 == EncodeDT_ENEMY_EQUIP_DATA(&pstIn->astEquipList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ENEMY_EQUIP_DATA_LST(void *pHost, CNetData* poNetData)
{
	DT_ENEMY_EQUIP_DATA_LST *pstOut = (DT_ENEMY_EQUIP_DATA_LST*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < EQUIP_POS_NUM; i++)
	{
		if(i >= (INT32)pstOut->wEquipNum)
			break;
		if(-1 == DecodeDT_ENEMY_EQUIP_DATA(&pstOut->astEquipList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ENEMY_EQUIP_DATA_LST(DT_ENEMY_EQUIP_DATA_LST &data)
{
	Json::Value root;
	root["EquipNum"]=data.wEquipNum;
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
	root["EquipList"].append( GetJsonDT_ENEMY_EQUIP_DATA(data.astEquipList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_ENEMY_EQUIP_DATA_LST(Json::Value &root, DT_ENEMY_EQUIP_DATA_LST &data)
{
	data.wEquipNum=root["EquipNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
		FromJsonDT_ENEMY_EQUIP_DATA(root["EquipList"][dwIndex] , data.astEquipList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_ENEMY_EQUIP_DATA_LST(const string &strData, DT_ENEMY_EQUIP_DATA_LST &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ENEMY_EQUIP_DATA_LST(root, data);
}
INT32 EncodeDT_ENEMY_HERO_DATA(void *pHost, CNetData* poNetData)
{
	DT_ENEMY_HERO_DATA *pstIn = (DT_ENEMY_HERO_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCoach))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTalent))
		return -1;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stBattleAttribute, poNetData))
		return -1;

	if(-1 == EncodeDT_ENEMY_EQUIP_DATA_LST(&pstIn->stEquipList, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ENEMY_HERO_DATA(void *pHost, CNetData* poNetData)
{
	DT_ENEMY_HERO_DATA *pstOut = (DT_ENEMY_HERO_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCoach))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTalent))
		return -1;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stBattleAttribute, poNetData))
		return -1;

	if(-1 == DecodeDT_ENEMY_EQUIP_DATA_LST(&pstOut->stEquipList, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ENEMY_HERO_DATA(DT_ENEMY_HERO_DATA &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Coach"]=data.byCoach;
	root["Level"]=data.wLevel;
	root["Talent"]=data.wTalent;
	root["BattleAttribute"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stBattleAttribute);
	root["EquipList"]=GetJsonDT_ENEMY_EQUIP_DATA_LST(data.stEquipList);

	return root;
}
BOOL FromJsonDT_ENEMY_HERO_DATA(Json::Value &root, DT_ENEMY_HERO_DATA &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.byCoach=root["Coach"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.wTalent=root["Talent"].asUInt();
	FromJsonDT_BATTLE_ATTRIBUTE(root["BattleAttribute"] , data.stBattleAttribute);
	FromJsonDT_ENEMY_EQUIP_DATA_LST(root["EquipList"] , data.stEquipList);

	return TRUE;
}
BOOL FromJsonDT_ENEMY_HERO_DATA(const string &strData, DT_ENEMY_HERO_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ENEMY_HERO_DATA(root, data);
}
INT32 EncodePKT_CLIGS_CHALLENGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHALLENGE_REQ *pstIn = (PKT_CLIGS_CHALLENGE_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwRank))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CHALLENGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHALLENGE_REQ *pstOut = (PKT_CLIGS_CHALLENGE_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwRank))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CHALLENGE_REQ(PKT_CLIGS_CHALLENGE_REQ &data)
{
	Json::Value root;
	root["Rank"]=data.dwRank;

	return root;
}
BOOL FromJsonPKT_CLIGS_CHALLENGE_REQ(Json::Value &root, PKT_CLIGS_CHALLENGE_REQ &data)
{
	data.dwRank=root["Rank"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CHALLENGE_REQ(const string &strData, PKT_CLIGS_CHALLENGE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CHALLENGE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_CHALLENGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHALLENGE_ACK *pstIn = (PKT_CLIGS_CHALLENGE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_CHALLENGE_PLAYER_DATA(&pstIn->stEnemyPlayerData, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEnemyHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstIn->byEnemyHeroNum)
			break;
		if(-1 == EncodeDT_ENEMY_HERO_DATA(&pstIn->astEnemyInfoList[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_BATTLE_DATA(&pstIn->stBattleInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_RACE_CHALLENGE_ENCOURAGE_DATA(&pstIn->stChallengeEncourage, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CHALLENGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHALLENGE_ACK *pstOut = (PKT_CLIGS_CHALLENGE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_CHALLENGE_PLAYER_DATA(&pstOut->stEnemyPlayerData, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEnemyHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstOut->byEnemyHeroNum)
			break;
		if(-1 == DecodeDT_ENEMY_HERO_DATA(&pstOut->astEnemyInfoList[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_BATTLE_DATA(&pstOut->stBattleInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_RACE_CHALLENGE_ENCOURAGE_DATA(&pstOut->stChallengeEncourage, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CHALLENGE_ACK(PKT_CLIGS_CHALLENGE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["EnemyPlayerData"]=GetJsonDT_CHALLENGE_PLAYER_DATA(data.stEnemyPlayerData);
	root["EnemyHeroNum"]=data.byEnemyHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.byEnemyHeroNum; ++dwIndex)
	{
	root["EnemyInfoList"].append( GetJsonDT_ENEMY_HERO_DATA(data.astEnemyInfoList[dwIndex]) );
	}
	root["BattleInfo"]=GetJsonDT_BATTLE_DATA(data.stBattleInfo);
	root["ChallengeEncourage"]=GetJsonDT_RACE_CHALLENGE_ENCOURAGE_DATA(data.stChallengeEncourage);
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_CHALLENGE_ACK(Json::Value &root, PKT_CLIGS_CHALLENGE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_CHALLENGE_PLAYER_DATA(root["EnemyPlayerData"] , data.stEnemyPlayerData);
	data.byEnemyHeroNum=root["EnemyHeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byEnemyHeroNum; ++dwIndex)
	{
		FromJsonDT_ENEMY_HERO_DATA(root["EnemyInfoList"][dwIndex] , data.astEnemyInfoList[dwIndex] );
	}	FromJsonDT_BATTLE_DATA(root["BattleInfo"] , data.stBattleInfo);
	FromJsonDT_RACE_CHALLENGE_ENCOURAGE_DATA(root["ChallengeEncourage"] , data.stChallengeEncourage);
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CHALLENGE_ACK(const string &strData, PKT_CLIGS_CHALLENGE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CHALLENGE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_RECV_RANK_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ *pstIn = (PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_RANK_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ *pstOut = (PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_RANK_ENCOURAGE_REQ(PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_RANK_ENCOURAGE_REQ(Json::Value &root, PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_RANK_ENCOURAGE_REQ(const string &strData, PKT_CLIGS_RECV_RANK_ENCOURAGE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_RANK_ENCOURAGE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_RECV_RANK_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK *pstIn = (PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_RACE_RANK_ENCOURAGE_DATA(&pstIn->stRankEncourage, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_RANK_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK *pstOut = (PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_RACE_RANK_ENCOURAGE_DATA(&pstOut->stRankEncourage, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_RANK_ENCOURAGE_ACK(PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["RankEncourage"]=GetJsonDT_RACE_RANK_ENCOURAGE_DATA(data.stRankEncourage);
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_RANK_ENCOURAGE_ACK(Json::Value &root, PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_RACE_RANK_ENCOURAGE_DATA(root["RankEncourage"] , data.stRankEncourage);
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_RANK_ENCOURAGE_ACK(const string &strData, PKT_CLIGS_RECV_RANK_ENCOURAGE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_RANK_ENCOURAGE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_GET_RANK_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_RANK_REQ *pstIn = (PKT_CLIGS_GET_RANK_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_RANK_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_RANK_REQ *pstOut = (PKT_CLIGS_GET_RANK_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_RANK_REQ(PKT_CLIGS_GET_RANK_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_RANK_REQ(Json::Value &root, PKT_CLIGS_GET_RANK_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_RANK_REQ(const string &strData, PKT_CLIGS_GET_RANK_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_RANK_REQ(root, data);
}
INT32 EncodeDT_RANK_DATA(void *pHost, CNetData* poNetData)
{
	DT_RANK_DATA *pstIn = (DT_RANK_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwRank))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszDispName, sizeof(pstIn->aszDispName)))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == EncodeDT_RACE_RANK_ENCOURAGE_DATA(&pstIn->stRankEncourage, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPower))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_RANK_DATA(void *pHost, CNetData* poNetData)
{
	DT_RANK_DATA *pstOut = (DT_RANK_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwRank))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszDispName, sizeof(pstOut->aszDispName)))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == DecodeDT_RACE_RANK_ENCOURAGE_DATA(&pstOut->stRankEncourage, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPower))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_RANK_DATA(DT_RANK_DATA &data)
{
	Json::Value root;
	root["Rank"]=data.dwRank;
	root["PlayerID"]=data.dwPlayerID;
	root["DispName"]=data.aszDispName;
	root["HeroKindID"]=data.wHeroKindID;
	root["Level"]=data.wLevel;
	root["RankEncourage"]=GetJsonDT_RACE_RANK_ENCOURAGE_DATA(data.stRankEncourage);
	root["Power"]=data.dwPower;

	return root;
}
BOOL FromJsonDT_RANK_DATA(Json::Value &root, DT_RANK_DATA &data)
{
	data.dwRank=root["Rank"].asUInt();
	data.dwPlayerID=root["PlayerID"].asUInt();
	strncpy( data.aszDispName,root["DispName"].asCString(),USERNAME_LEN);
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.wLevel=root["Level"].asUInt();
	FromJsonDT_RACE_RANK_ENCOURAGE_DATA(root["RankEncourage"] , data.stRankEncourage);
	data.dwPower=root["Power"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_RANK_DATA(const string &strData, DT_RANK_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_RANK_DATA(root, data);
}
INT32 EncodePKT_CLIGS_GET_RANK_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_RANK_ACK *pstIn = (PKT_CLIGS_GET_RANK_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byShowNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_RANK_SHOW_NUM; i++)
	{
		if(i >= (INT32)pstIn->byShowNum)
			break;
		if(-1 == EncodeDT_RANK_DATA(&pstIn->astRankShowInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_RANK_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_RANK_ACK *pstOut = (PKT_CLIGS_GET_RANK_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byShowNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_RANK_SHOW_NUM; i++)
	{
		if(i >= (INT32)pstOut->byShowNum)
			break;
		if(-1 == DecodeDT_RANK_DATA(&pstOut->astRankShowInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_RANK_ACK(PKT_CLIGS_GET_RANK_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["ShowNum"]=data.byShowNum;
	for( UINT32 dwIndex=0; dwIndex<data.byShowNum; ++dwIndex)
	{
	root["RankShowInfo"].append( GetJsonDT_RANK_DATA(data.astRankShowInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_RANK_ACK(Json::Value &root, PKT_CLIGS_GET_RANK_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byShowNum=root["ShowNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byShowNum; ++dwIndex)
	{
		FromJsonDT_RANK_DATA(root["RankShowInfo"][dwIndex] , data.astRankShowInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_RANK_ACK(const string &strData, PKT_CLIGS_GET_RANK_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_RANK_ACK(root, data);
}
INT32 EncodePKT_CLIGS_GET_RACE_BATTLELOG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_RACE_BATTLELOG_REQ *pstIn = (PKT_CLIGS_GET_RACE_BATTLELOG_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_RACE_BATTLELOG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_RACE_BATTLELOG_REQ *pstOut = (PKT_CLIGS_GET_RACE_BATTLELOG_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_RACE_BATTLELOG_REQ(PKT_CLIGS_GET_RACE_BATTLELOG_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_RACE_BATTLELOG_REQ(Json::Value &root, PKT_CLIGS_GET_RACE_BATTLELOG_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_RACE_BATTLELOG_REQ(const string &strData, PKT_CLIGS_GET_RACE_BATTLELOG_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_RACE_BATTLELOG_REQ(root, data);
}
INT32 EncodeDT_RACE_BATTLELOG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_RACE_BATTLELOG_DATA_CLI *pstIn = (DT_RACE_BATTLELOG_DATA_CLI*)pHost;

	if(-1 == EncodeDT_RACE_BATTLELOG_DATA(&pstIn->stBattlelogInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszEnemyDispName, sizeof(pstIn->aszEnemyDispName)))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_RACE_BATTLELOG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_RACE_BATTLELOG_DATA_CLI *pstOut = (DT_RACE_BATTLELOG_DATA_CLI*)pHost;

	if(-1 == DecodeDT_RACE_BATTLELOG_DATA(&pstOut->stBattlelogInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszEnemyDispName, sizeof(pstOut->aszEnemyDispName)))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_RACE_BATTLELOG_DATA_CLI(DT_RACE_BATTLELOG_DATA_CLI &data)
{
	Json::Value root;
	root["BattlelogInfo"]=GetJsonDT_RACE_BATTLELOG_DATA(data.stBattlelogInfo);
	root["EnemyDispName"]=data.aszEnemyDispName;

	return root;
}
BOOL FromJsonDT_RACE_BATTLELOG_DATA_CLI(Json::Value &root, DT_RACE_BATTLELOG_DATA_CLI &data)
{
	FromJsonDT_RACE_BATTLELOG_DATA(root["BattlelogInfo"] , data.stBattlelogInfo);
	strncpy( data.aszEnemyDispName,root["EnemyDispName"].asCString(),USERNAME_LEN);

	return TRUE;
}
BOOL FromJsonDT_RACE_BATTLELOG_DATA_CLI(const string &strData, DT_RACE_BATTLELOG_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_RACE_BATTLELOG_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_GET_RACE_BATTLELOG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_RACE_BATTLELOG_ACK *pstIn = (PKT_CLIGS_GET_RACE_BATTLELOG_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byShowNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_RACE_BATTLELOG_NUM; i++)
	{
		if(i >= (INT32)pstIn->byShowNum)
			break;
		if(-1 == EncodeDT_RACE_BATTLELOG_DATA_CLI(&pstIn->astRankBattleLogInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_RACE_BATTLELOG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_RACE_BATTLELOG_ACK *pstOut = (PKT_CLIGS_GET_RACE_BATTLELOG_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byShowNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_RACE_BATTLELOG_NUM; i++)
	{
		if(i >= (INT32)pstOut->byShowNum)
			break;
		if(-1 == DecodeDT_RACE_BATTLELOG_DATA_CLI(&pstOut->astRankBattleLogInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_RACE_BATTLELOG_ACK(PKT_CLIGS_GET_RACE_BATTLELOG_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["ShowNum"]=data.byShowNum;
	for( UINT32 dwIndex=0; dwIndex<data.byShowNum; ++dwIndex)
	{
	root["RankBattleLogInfo"].append( GetJsonDT_RACE_BATTLELOG_DATA_CLI(data.astRankBattleLogInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_RACE_BATTLELOG_ACK(Json::Value &root, PKT_CLIGS_GET_RACE_BATTLELOG_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byShowNum=root["ShowNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byShowNum; ++dwIndex)
	{
		FromJsonDT_RACE_BATTLELOG_DATA_CLI(root["RankBattleLogInfo"][dwIndex] , data.astRankBattleLogInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_RACE_BATTLELOG_ACK(const string &strData, PKT_CLIGS_GET_RACE_BATTLELOG_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_RACE_BATTLELOG_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SHOP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SHOP_REQ *pstIn = (PKT_CLIGS_OPEN_SHOP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTabID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SHOP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SHOP_REQ *pstOut = (PKT_CLIGS_OPEN_SHOP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTabID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SHOP_REQ(PKT_CLIGS_OPEN_SHOP_REQ &data)
{
	Json::Value root;
	root["TabID"]=data.byTabID;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SHOP_REQ(Json::Value &root, PKT_CLIGS_OPEN_SHOP_REQ &data)
{
	data.byTabID=root["TabID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SHOP_REQ(const string &strData, PKT_CLIGS_OPEN_SHOP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SHOP_REQ(root, data);
}
INT32 EncodeDT_ITEM_DATA_SHOP(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_SHOP *pstIn = (DT_ITEM_DATA_SHOP*)pHost;

	if(-1 == EncodeDT_ITEM_DATA_CLI2(&pstIn->stItemInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwBuyCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwBuyGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ITEM_DATA_SHOP(void *pHost, CNetData* poNetData)
{
	DT_ITEM_DATA_SHOP *pstOut = (DT_ITEM_DATA_SHOP*)pHost;

	if(-1 == DecodeDT_ITEM_DATA_CLI2(&pstOut->stItemInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwBuyCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwBuyGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ITEM_DATA_SHOP(DT_ITEM_DATA_SHOP &data)
{
	Json::Value root;
	root["ItemInfo"]=GetJsonDT_ITEM_DATA_CLI2(data.stItemInfo);
	root["BuyCoin"]=data.dwBuyCoin;
	root["BuyGold"]=data.dwBuyGold;

	return root;
}
BOOL FromJsonDT_ITEM_DATA_SHOP(Json::Value &root, DT_ITEM_DATA_SHOP &data)
{
	FromJsonDT_ITEM_DATA_CLI2(root["ItemInfo"] , data.stItemInfo);
	data.dwBuyCoin=root["BuyCoin"].asUInt();
	data.dwBuyGold=root["BuyGold"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_ITEM_DATA_SHOP(const string &strData, DT_ITEM_DATA_SHOP &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ITEM_DATA_SHOP(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SHOP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SHOP_ACK *pstIn = (PKT_CLIGS_OPEN_SHOP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTabID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SHOP_ITEM_NUM; i++)
	{
		if(i >= (INT32)pstIn->byItemNum)
			break;
		if(-1 == EncodeDT_ITEM_DATA_SHOP(&pstIn->astItemDataList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SHOP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SHOP_ACK *pstOut = (PKT_CLIGS_OPEN_SHOP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTabID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SHOP_ITEM_NUM; i++)
	{
		if(i >= (INT32)pstOut->byItemNum)
			break;
		if(-1 == DecodeDT_ITEM_DATA_SHOP(&pstOut->astItemDataList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SHOP_ACK(PKT_CLIGS_OPEN_SHOP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["TabID"]=data.byTabID;
	root["ItemNum"]=data.byItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
	root["ItemDataList"].append( GetJsonDT_ITEM_DATA_SHOP(data.astItemDataList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SHOP_ACK(Json::Value &root, PKT_CLIGS_OPEN_SHOP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byTabID=root["TabID"].asUInt();
	data.byItemNum=root["ItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
		FromJsonDT_ITEM_DATA_SHOP(root["ItemDataList"][dwIndex] , data.astItemDataList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SHOP_ACK(const string &strData, PKT_CLIGS_OPEN_SHOP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SHOP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_BUY_ITEM_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BUY_ITEM_REQ *pstIn = (PKT_CLIGS_BUY_ITEM_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byTabID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPileCount))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_BUY_ITEM_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BUY_ITEM_REQ *pstOut = (PKT_CLIGS_BUY_ITEM_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byTabID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPileCount))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_BUY_ITEM_REQ(PKT_CLIGS_BUY_ITEM_REQ &data)
{
	Json::Value root;
	root["TabID"]=data.byTabID;
	root["KindID"]=data.wKindID;
	root["PileCount"]=data.wPileCount;

	return root;
}
BOOL FromJsonPKT_CLIGS_BUY_ITEM_REQ(Json::Value &root, PKT_CLIGS_BUY_ITEM_REQ &data)
{
	data.byTabID=root["TabID"].asUInt();
	data.wKindID=root["KindID"].asUInt();
	data.wPileCount=root["PileCount"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_BUY_ITEM_REQ(const string &strData, PKT_CLIGS_BUY_ITEM_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_BUY_ITEM_REQ(root, data);
}
INT32 EncodePKT_CLIGS_BUY_ITEM_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BUY_ITEM_ACK *pstIn = (PKT_CLIGS_BUY_ITEM_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTabID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPileCount))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_BUY_ITEM_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BUY_ITEM_ACK *pstOut = (PKT_CLIGS_BUY_ITEM_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTabID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPileCount))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_BUY_ITEM_ACK(PKT_CLIGS_BUY_ITEM_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["TabID"]=data.byTabID;
	root["KindID"]=data.wKindID;
	root["PileCount"]=data.wPileCount;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_BUY_ITEM_ACK(Json::Value &root, PKT_CLIGS_BUY_ITEM_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byTabID=root["TabID"].asUInt();
	data.wKindID=root["KindID"].asUInt();
	data.wPileCount=root["PileCount"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_BUY_ITEM_ACK(const string &strData, PKT_CLIGS_BUY_ITEM_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_BUY_ITEM_ACK(root, data);
}
INT32 EncodePKT_CLIGS_SELL_ITEM_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SELL_ITEM_REQ *pstIn = (PKT_CLIGS_SELL_ITEM_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SELL_ITEM_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SELL_ITEM_REQ *pstOut = (PKT_CLIGS_SELL_ITEM_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SELL_ITEM_REQ(PKT_CLIGS_SELL_ITEM_REQ &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Idx"]=data.wIdx;
	root["Num"]=data.wNum;

	return root;
}
BOOL FromJsonPKT_CLIGS_SELL_ITEM_REQ(Json::Value &root, PKT_CLIGS_SELL_ITEM_REQ &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wIdx=root["Idx"].asUInt();
	data.wNum=root["Num"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SELL_ITEM_REQ(const string &strData, PKT_CLIGS_SELL_ITEM_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SELL_ITEM_REQ(root, data);
}
INT32 EncodePKT_CLIGS_SELL_ITEM_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SELL_ITEM_ACK *pstIn = (PKT_CLIGS_SELL_ITEM_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wNum))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SELL_ITEM_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SELL_ITEM_ACK *pstOut = (PKT_CLIGS_SELL_ITEM_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wNum))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SELL_ITEM_ACK(PKT_CLIGS_SELL_ITEM_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["KindID"]=data.wKindID;
	root["Idx"]=data.wIdx;
	root["Num"]=data.wNum;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_SELL_ITEM_ACK(Json::Value &root, PKT_CLIGS_SELL_ITEM_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wKindID=root["KindID"].asUInt();
	data.wIdx=root["Idx"].asUInt();
	data.wNum=root["Num"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SELL_ITEM_ACK(const string &strData, PKT_CLIGS_SELL_ITEM_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SELL_ITEM_ACK(root, data);
}
INT32 EncodePKT_CLIGS_DISBAND_HERO_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DISBAND_HERO_REQ *pstIn = (PKT_CLIGS_DISBAND_HERO_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DISBAND_HERO_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DISBAND_HERO_REQ *pstOut = (PKT_CLIGS_DISBAND_HERO_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DISBAND_HERO_REQ(PKT_CLIGS_DISBAND_HERO_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_DISBAND_HERO_REQ(Json::Value &root, PKT_CLIGS_DISBAND_HERO_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DISBAND_HERO_REQ(const string &strData, PKT_CLIGS_DISBAND_HERO_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DISBAND_HERO_REQ(root, data);
}
INT32 EncodePKT_CLIGS_DISBAND_HERO_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DISBAND_HERO_ACK *pstIn = (PKT_CLIGS_DISBAND_HERO_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerHP))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DISBAND_HERO_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DISBAND_HERO_ACK *pstOut = (PKT_CLIGS_DISBAND_HERO_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerHP))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DISBAND_HERO_ACK(PKT_CLIGS_DISBAND_HERO_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroKindID"]=data.wHeroKindID;
	root["PlayerHP"]=data.dwPlayerHP;
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_DISBAND_HERO_ACK(Json::Value &root, PKT_CLIGS_DISBAND_HERO_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.dwPlayerHP=root["PlayerHP"].asUInt();
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DISBAND_HERO_ACK(const string &strData, PKT_CLIGS_DISBAND_HERO_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DISBAND_HERO_ACK(root, data);
}
INT32 EncodePKT_CLIGS_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EQUIP_REQ *pstIn = (PKT_CLIGS_EQUIP_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byDressType))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDressItemKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDressItemIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUndressItemKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUndressItemIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EQUIP_REQ *pstOut = (PKT_CLIGS_EQUIP_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byDressType))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDressItemKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDressItemIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUndressItemKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUndressItemIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EQUIP_REQ(PKT_CLIGS_EQUIP_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["DressType"]=data.byDressType;
	root["DressItemKindID"]=data.wDressItemKindID;
	root["DressItemIdx"]=data.wDressItemIdx;
	root["UndressItemKindID"]=data.wUndressItemKindID;
	root["UndressItemIdx"]=data.wUndressItemIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_EQUIP_REQ(Json::Value &root, PKT_CLIGS_EQUIP_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byDressType=root["DressType"].asUInt();
	data.wDressItemKindID=root["DressItemKindID"].asUInt();
	data.wDressItemIdx=root["DressItemIdx"].asUInt();
	data.wUndressItemKindID=root["UndressItemKindID"].asUInt();
	data.wUndressItemIdx=root["UndressItemIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EQUIP_REQ(const string &strData, PKT_CLIGS_EQUIP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EQUIP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EQUIP_ACK *pstIn = (PKT_CLIGS_EQUIP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byDressType))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDressItemKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDressItemIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUndressItemKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUndressItemIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerHP))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stHeroPowerInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EQUIP_ACK *pstOut = (PKT_CLIGS_EQUIP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byDressType))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDressItemKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDressItemIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUndressItemKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUndressItemIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerHP))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stHeroPowerInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EQUIP_ACK(PKT_CLIGS_EQUIP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroKindID"]=data.wHeroKindID;
	root["DressType"]=data.byDressType;
	root["DressItemKindID"]=data.wDressItemKindID;
	root["DressItemIdx"]=data.wDressItemIdx;
	root["UndressItemKindID"]=data.wUndressItemKindID;
	root["UndressItemIdx"]=data.wUndressItemIdx;
	root["PlayerHP"]=data.dwPlayerHP;
	root["HeroPowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stHeroPowerInfo);
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_EQUIP_ACK(Json::Value &root, PKT_CLIGS_EQUIP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byDressType=root["DressType"].asUInt();
	data.wDressItemKindID=root["DressItemKindID"].asUInt();
	data.wDressItemIdx=root["DressItemIdx"].asUInt();
	data.wUndressItemKindID=root["UndressItemKindID"].asUInt();
	data.wUndressItemIdx=root["UndressItemIdx"].asUInt();
	data.dwPlayerHP=root["PlayerHP"].asUInt();
	FromJsonDT_POWER_CHANGE_DATA(root["HeroPowerInfo"] , data.stHeroPowerInfo);
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EQUIP_ACK(const string &strData, PKT_CLIGS_EQUIP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EQUIP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_REGISTER_USERNAME_NTF(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REGISTER_USERNAME_NTF *pstIn = (PKT_CLIGS_REGISTER_USERNAME_NTF*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_REGISTER_USERNAME_NTF(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REGISTER_USERNAME_NTF *pstOut = (PKT_CLIGS_REGISTER_USERNAME_NTF*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_REGISTER_USERNAME_NTF(PKT_CLIGS_REGISTER_USERNAME_NTF &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_REGISTER_USERNAME_NTF(Json::Value &root, PKT_CLIGS_REGISTER_USERNAME_NTF &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_REGISTER_USERNAME_NTF(const string &strData, PKT_CLIGS_REGISTER_USERNAME_NTF &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_REGISTER_USERNAME_NTF(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_EMBATTLE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_EMBATTLE_REQ *pstIn = (PKT_CLIGS_OPEN_EMBATTLE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_EMBATTLE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_EMBATTLE_REQ *pstOut = (PKT_CLIGS_OPEN_EMBATTLE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_EMBATTLE_REQ(PKT_CLIGS_OPEN_EMBATTLE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_EMBATTLE_REQ(Json::Value &root, PKT_CLIGS_OPEN_EMBATTLE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_EMBATTLE_REQ(const string &strData, PKT_CLIGS_OPEN_EMBATTLE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_EMBATTLE_REQ(root, data);
}
INT32 EncodeDT_HERO_EMBATLE_DATA(void *pHost, CNetData* poNetData)
{
	DT_HERO_EMBATLE_DATA *pstIn = (DT_HERO_EMBATLE_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCareerID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTalent))
		return -1;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPower))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySkillNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SKILL_SLOT_NUM; i++)
	{
		if(i >= (INT32)pstIn->bySkillNum)
			break;
		if(-1 == EncodeDT_SKILL_DATA_CLI(&pstIn->astSkillInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_EMBATLE_DATA(void *pHost, CNetData* poNetData)
{
	DT_HERO_EMBATLE_DATA *pstOut = (DT_HERO_EMBATLE_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCareerID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTalent))
		return -1;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stBattleAttribute, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPower))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySkillNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SKILL_SLOT_NUM; i++)
	{
		if(i >= (INT32)pstOut->bySkillNum)
			break;
		if(-1 == DecodeDT_SKILL_DATA_CLI(&pstOut->astSkillInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_EMBATLE_DATA(DT_HERO_EMBATLE_DATA &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["CareerID"]=data.byCareerID;
	root["Level"]=data.wLevel;
	root["Talent"]=data.wTalent;
	root["BattleAttribute"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stBattleAttribute);
	root["Power"]=data.dwPower;
	root["SkillNum"]=data.bySkillNum;
	for( UINT32 dwIndex=0; dwIndex<data.bySkillNum; ++dwIndex)
	{
	root["SkillInfo"].append( GetJsonDT_SKILL_DATA_CLI(data.astSkillInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_HERO_EMBATLE_DATA(Json::Value &root, DT_HERO_EMBATLE_DATA &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.byCareerID=root["CareerID"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.wTalent=root["Talent"].asUInt();
	FromJsonDT_BATTLE_ATTRIBUTE(root["BattleAttribute"] , data.stBattleAttribute);
	data.dwPower=root["Power"].asUInt();
	data.bySkillNum=root["SkillNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.bySkillNum; ++dwIndex)
	{
		FromJsonDT_SKILL_DATA_CLI(root["SkillInfo"][dwIndex] , data.astSkillInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_HERO_EMBATLE_DATA(const string &strData, DT_HERO_EMBATLE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_EMBATLE_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_EMBATTLE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_EMBATTLE_ACK *pstIn = (PKT_CLIGS_OPEN_EMBATTLE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->wHeroNum)
			break;
		if(-1 == EncodeDT_HERO_EMBATLE_DATA(&pstIn->astHeroInfoLst[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_FORMATION_DATA(&pstIn->stFormationInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_EMBATTLE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_EMBATTLE_ACK *pstOut = (PKT_CLIGS_OPEN_EMBATTLE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->wHeroNum)
			break;
		if(-1 == DecodeDT_HERO_EMBATLE_DATA(&pstOut->astHeroInfoLst[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_FORMATION_DATA(&pstOut->stFormationInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_EMBATTLE_ACK(PKT_CLIGS_OPEN_EMBATTLE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroNum"]=data.wHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
	root["HeroInfoLst"].append( GetJsonDT_HERO_EMBATLE_DATA(data.astHeroInfoLst[dwIndex]) );
	}
	root["FormationInfo"]=GetJsonDT_FORMATION_DATA(data.stFormationInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_EMBATTLE_ACK(Json::Value &root, PKT_CLIGS_OPEN_EMBATTLE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroNum=root["HeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wHeroNum; ++dwIndex)
	{
		FromJsonDT_HERO_EMBATLE_DATA(root["HeroInfoLst"][dwIndex] , data.astHeroInfoLst[dwIndex] );
	}	FromJsonDT_FORMATION_DATA(root["FormationInfo"] , data.stFormationInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_EMBATTLE_ACK(const string &strData, PKT_CLIGS_OPEN_EMBATTLE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_EMBATTLE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_EMBATTLE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EMBATTLE_REQ *pstIn = (PKT_CLIGS_EMBATTLE_REQ*)pHost;

	if(-1 == EncodeDT_FORMATION_DATA(&pstIn->stFormationInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EMBATTLE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EMBATTLE_REQ *pstOut = (PKT_CLIGS_EMBATTLE_REQ*)pHost;

	if(-1 == DecodeDT_FORMATION_DATA(&pstOut->stFormationInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EMBATTLE_REQ(PKT_CLIGS_EMBATTLE_REQ &data)
{
	Json::Value root;
	root["FormationInfo"]=GetJsonDT_FORMATION_DATA(data.stFormationInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_EMBATTLE_REQ(Json::Value &root, PKT_CLIGS_EMBATTLE_REQ &data)
{
	FromJsonDT_FORMATION_DATA(root["FormationInfo"] , data.stFormationInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EMBATTLE_REQ(const string &strData, PKT_CLIGS_EMBATTLE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EMBATTLE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_EMBATTLE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EMBATTLE_ACK *pstIn = (PKT_CLIGS_EMBATTLE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EMBATTLE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EMBATTLE_ACK *pstOut = (PKT_CLIGS_EMBATTLE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EMBATTLE_ACK(PKT_CLIGS_EMBATTLE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_EMBATTLE_ACK(Json::Value &root, PKT_CLIGS_EMBATTLE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EMBATTLE_ACK(const string &strData, PKT_CLIGS_EMBATTLE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EMBATTLE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CLR_PLAYER_DATA_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_PLAYER_DATA_REQ *pstIn = (PKT_CLIGS_CLR_PLAYER_DATA_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_PLAYER_DATA_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_PLAYER_DATA_REQ *pstOut = (PKT_CLIGS_CLR_PLAYER_DATA_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_PLAYER_DATA_REQ(PKT_CLIGS_CLR_PLAYER_DATA_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_PLAYER_DATA_REQ(Json::Value &root, PKT_CLIGS_CLR_PLAYER_DATA_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_PLAYER_DATA_REQ(const string &strData, PKT_CLIGS_CLR_PLAYER_DATA_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_PLAYER_DATA_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_ITEM_MAKER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_ITEM_MAKER_REQ *pstIn = (PKT_CLIGS_OPEN_ITEM_MAKER_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wItemKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_ITEM_MAKER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_ITEM_MAKER_REQ *pstOut = (PKT_CLIGS_OPEN_ITEM_MAKER_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wItemKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_ITEM_MAKER_REQ(PKT_CLIGS_OPEN_ITEM_MAKER_REQ &data)
{
	Json::Value root;
	root["ItemKindID"]=data.wItemKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_ITEM_MAKER_REQ(Json::Value &root, PKT_CLIGS_OPEN_ITEM_MAKER_REQ &data)
{
	data.wItemKindID=root["ItemKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_ITEM_MAKER_REQ(const string &strData, PKT_CLIGS_OPEN_ITEM_MAKER_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_ITEM_MAKER_REQ(root, data);
}
INT32 EncodeDT_EQUIP_DATA_MAKER_NEED(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_DATA_MAKER_NEED *pstIn = (DT_EQUIP_DATA_MAKER_NEED*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stBurstInstance, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EQUIP_DATA_MAKER_NEED(void *pHost, CNetData* poNetData)
{
	DT_EQUIP_DATA_MAKER_NEED *pstOut = (DT_EQUIP_DATA_MAKER_NEED*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stBurstInstance, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EQUIP_DATA_MAKER_NEED(DT_EQUIP_DATA_MAKER_NEED &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Idx"]=data.wIdx;
	root["HeroKindID"]=data.wHeroKindID;
	root["Level"]=data.wLevel;
	root["BurstInstance"]=GetJsonDT_INSTANCE_ID(data.stBurstInstance);

	return root;
}
BOOL FromJsonDT_EQUIP_DATA_MAKER_NEED(Json::Value &root, DT_EQUIP_DATA_MAKER_NEED &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wIdx=root["Idx"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.wLevel=root["Level"].asUInt();
	FromJsonDT_INSTANCE_ID(root["BurstInstance"] , data.stBurstInstance);

	return TRUE;
}
BOOL FromJsonDT_EQUIP_DATA_MAKER_NEED(const string &strData, DT_EQUIP_DATA_MAKER_NEED &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EQUIP_DATA_MAKER_NEED(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_ITEM_MAKER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_ITEM_MAKER_ACK *pstIn = (PKT_CLIGS_OPEN_ITEM_MAKER_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->byEquipNum)
			break;
		if(-1 == EncodeDT_EQUIP_DATA_MAKER_NEED(&pstIn->astEquipList[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byItemNum))
		return -1;

	for(i = 0; i < MAX_ITEM_MAKER_NEED_NUM; i++)
	{
		if(i >= (INT32)pstIn->byItemNum)
			break;
		if(-1 == EncodeDT_NEED_ITEM_DATA(&pstIn->astItemInfoList[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byEstimateItemNum))
		return -1;

	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->byEstimateItemNum)
			break;
		if(-1 == EncodeDT_ESTIMATE_ITEM_DATA(&pstIn->astEstimateItemList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_ITEM_MAKER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_ITEM_MAKER_ACK *pstOut = (PKT_CLIGS_OPEN_ITEM_MAKER_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->byEquipNum)
			break;
		if(-1 == DecodeDT_EQUIP_DATA_MAKER_NEED(&pstOut->astEquipList[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byItemNum))
		return -1;

	for(i = 0; i < MAX_ITEM_MAKER_NEED_NUM; i++)
	{
		if(i >= (INT32)pstOut->byItemNum)
			break;
		if(-1 == DecodeDT_NEED_ITEM_DATA(&pstOut->astItemInfoList[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byEstimateItemNum))
		return -1;

	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->byEstimateItemNum)
			break;
		if(-1 == DecodeDT_ESTIMATE_ITEM_DATA(&pstOut->astEstimateItemList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_ITEM_MAKER_ACK(PKT_CLIGS_OPEN_ITEM_MAKER_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["EquipNum"]=data.byEquipNum;
	for( UINT32 dwIndex=0; dwIndex<data.byEquipNum; ++dwIndex)
	{
	root["EquipList"].append( GetJsonDT_EQUIP_DATA_MAKER_NEED(data.astEquipList[dwIndex]) );
	}
	root["ItemNum"]=data.byItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
	root["ItemInfoList"].append( GetJsonDT_NEED_ITEM_DATA(data.astItemInfoList[dwIndex]) );
	}
	root["EstimateItemNum"]=data.byEstimateItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.byEstimateItemNum; ++dwIndex)
	{
	root["EstimateItemList"].append( GetJsonDT_ESTIMATE_ITEM_DATA(data.astEstimateItemList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_ITEM_MAKER_ACK(Json::Value &root, PKT_CLIGS_OPEN_ITEM_MAKER_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byEquipNum=root["EquipNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byEquipNum; ++dwIndex)
	{
		FromJsonDT_EQUIP_DATA_MAKER_NEED(root["EquipList"][dwIndex] , data.astEquipList[dwIndex] );
	}	data.byItemNum=root["ItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byItemNum; ++dwIndex)
	{
		FromJsonDT_NEED_ITEM_DATA(root["ItemInfoList"][dwIndex] , data.astItemInfoList[dwIndex] );
	}	data.byEstimateItemNum=root["EstimateItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byEstimateItemNum; ++dwIndex)
	{
		FromJsonDT_ESTIMATE_ITEM_DATA(root["EstimateItemList"][dwIndex] , data.astEstimateItemList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_ITEM_MAKER_ACK(const string &strData, PKT_CLIGS_OPEN_ITEM_MAKER_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_ITEM_MAKER_ACK(root, data);
}
INT32 EncodePKT_CLIGS_MAKE_ITEM_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MAKE_ITEM_REQ *pstIn = (PKT_CLIGS_MAKE_ITEM_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wItemKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEquipKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEquipIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_MAKE_ITEM_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MAKE_ITEM_REQ *pstOut = (PKT_CLIGS_MAKE_ITEM_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wItemKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEquipKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEquipIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_MAKE_ITEM_REQ(PKT_CLIGS_MAKE_ITEM_REQ &data)
{
	Json::Value root;
	root["ItemKindID"]=data.wItemKindID;
	root["EquipKindID"]=data.wEquipKindID;
	root["EquipIdx"]=data.wEquipIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_MAKE_ITEM_REQ(Json::Value &root, PKT_CLIGS_MAKE_ITEM_REQ &data)
{
	data.wItemKindID=root["ItemKindID"].asUInt();
	data.wEquipKindID=root["EquipKindID"].asUInt();
	data.wEquipIdx=root["EquipIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_MAKE_ITEM_REQ(const string &strData, PKT_CLIGS_MAKE_ITEM_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_MAKE_ITEM_REQ(root, data);
}
INT32 EncodePKT_CLIGS_MAKE_ITEM_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MAKE_ITEM_ACK *pstIn = (PKT_CLIGS_MAKE_ITEM_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_ITEM_DATA_CLI2(&pstIn->stItemInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_ITEM_DATA_LIST_CLI2(&pstIn->stGoodsBagItemInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_MAKE_ITEM_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MAKE_ITEM_ACK *pstOut = (PKT_CLIGS_MAKE_ITEM_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_ITEM_DATA_CLI2(&pstOut->stItemInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_ITEM_DATA_LIST_CLI2(&pstOut->stGoodsBagItemInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_MAKE_ITEM_ACK(PKT_CLIGS_MAKE_ITEM_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["ItemInfo"]=GetJsonDT_ITEM_DATA_CLI2(data.stItemInfo);
	root["GoodsBagItemInfo"]=GetJsonDT_ITEM_DATA_LIST_CLI2(data.stGoodsBagItemInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_MAKE_ITEM_ACK(Json::Value &root, PKT_CLIGS_MAKE_ITEM_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_ITEM_DATA_CLI2(root["ItemInfo"] , data.stItemInfo);
	FromJsonDT_ITEM_DATA_LIST_CLI2(root["GoodsBagItemInfo"] , data.stGoodsBagItemInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_MAKE_ITEM_ACK(const string &strData, PKT_CLIGS_MAKE_ITEM_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_MAKE_ITEM_ACK(root, data);
}
INT32 EncodeDT_DRUG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_DRUG_DATA_CLI *pstIn = (DT_DRUG_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUsedNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byOddNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wBaseTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDecTalent))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DRUG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_DRUG_DATA_CLI *pstOut = (DT_DRUG_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUsedNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byOddNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wBaseTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDecTalent))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DRUG_DATA_CLI(DT_DRUG_DATA_CLI &data)
{
	Json::Value root;
	root["Level"]=data.byLevel;
	root["UsedNum"]=data.byUsedNum;
	root["OddNum"]=data.byOddNum;
	root["BaseTalent"]=data.wBaseTalent;
	root["DecTalent"]=data.wDecTalent;

	return root;
}
BOOL FromJsonDT_DRUG_DATA_CLI(Json::Value &root, DT_DRUG_DATA_CLI &data)
{
	data.byLevel=root["Level"].asUInt();
	data.byUsedNum=root["UsedNum"].asUInt();
	data.byOddNum=root["OddNum"].asUInt();
	data.wBaseTalent=root["BaseTalent"].asUInt();
	data.wDecTalent=root["DecTalent"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_DRUG_DATA_CLI(const string &strData, DT_DRUG_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DRUG_DATA_CLI(root, data);
}
INT32 EncodeDT_DRUG_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_DRUG_DATA_LST_CLI *pstIn = (DT_DRUG_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_DRUG_LEVEL; i++)
	{
		if(i >= (INT32)pstIn->byNum)
			break;
		if(-1 == EncodeDT_DRUG_DATA_CLI(&pstIn->astDrugList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DRUG_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_DRUG_DATA_LST_CLI *pstOut = (DT_DRUG_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_DRUG_LEVEL; i++)
	{
		if(i >= (INT32)pstOut->byNum)
			break;
		if(-1 == DecodeDT_DRUG_DATA_CLI(&pstOut->astDrugList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DRUG_DATA_LST_CLI(DT_DRUG_DATA_LST_CLI &data)
{
	Json::Value root;
	root["Num"]=data.byNum;
	for( UINT32 dwIndex=0; dwIndex<data.byNum; ++dwIndex)
	{
	root["DrugList"].append( GetJsonDT_DRUG_DATA_CLI(data.astDrugList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_DRUG_DATA_LST_CLI(Json::Value &root, DT_DRUG_DATA_LST_CLI &data)
{
	data.byNum=root["Num"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byNum; ++dwIndex)
	{
		FromJsonDT_DRUG_DATA_CLI(root["DrugList"][dwIndex] , data.astDrugList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_DRUG_DATA_LST_CLI(const string &strData, DT_DRUG_DATA_LST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DRUG_DATA_LST_CLI(root, data);
}
INT32 EncodePKT_CLIGS_GET_HERO_DRUG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_HERO_DRUG_REQ *pstIn = (PKT_CLIGS_GET_HERO_DRUG_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byNeedDrugItemFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_HERO_DRUG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_HERO_DRUG_REQ *pstOut = (PKT_CLIGS_GET_HERO_DRUG_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byNeedDrugItemFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_HERO_DRUG_REQ(PKT_CLIGS_GET_HERO_DRUG_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["NeedDrugItemFlag"]=data.byNeedDrugItemFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_HERO_DRUG_REQ(Json::Value &root, PKT_CLIGS_GET_HERO_DRUG_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byNeedDrugItemFlag=root["NeedDrugItemFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_HERO_DRUG_REQ(const string &strData, PKT_CLIGS_GET_HERO_DRUG_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_HERO_DRUG_REQ(root, data);
}
INT32 EncodeDT_DRUG_ITEM_DATA(void *pHost, CNetData* poNetData)
{
	DT_DRUG_ITEM_DATA *pstIn = (DT_DRUG_ITEM_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUseLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPileCount))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDrugLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wBaseTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wDecTalent))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DRUG_ITEM_DATA(void *pHost, CNetData* poNetData)
{
	DT_DRUG_ITEM_DATA *pstOut = (DT_DRUG_ITEM_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUseLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPileCount))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDrugLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wBaseTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wDecTalent))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DRUG_ITEM_DATA(DT_DRUG_ITEM_DATA &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["UseLevel"]=data.wUseLevel;
	root["PileCount"]=data.wPileCount;
	root["DrugLevel"]=data.wDrugLevel;
	root["BaseTalent"]=data.wBaseTalent;
	root["DecTalent"]=data.wDecTalent;

	return root;
}
BOOL FromJsonDT_DRUG_ITEM_DATA(Json::Value &root, DT_DRUG_ITEM_DATA &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wUseLevel=root["UseLevel"].asUInt();
	data.wPileCount=root["PileCount"].asUInt();
	data.wDrugLevel=root["DrugLevel"].asUInt();
	data.wBaseTalent=root["BaseTalent"].asUInt();
	data.wDecTalent=root["DecTalent"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_DRUG_ITEM_DATA(const string &strData, DT_DRUG_ITEM_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DRUG_ITEM_DATA(root, data);
}
INT32 EncodeDT_DRUG_ITEM_DATA_LST(void *pHost, CNetData* poNetData)
{
	DT_DRUG_ITEM_DATA_LST *pstIn = (DT_DRUG_ITEM_DATA_LST*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->wItemNum)
			break;
		if(-1 == EncodeDT_DRUG_ITEM_DATA(&pstIn->astDrugItemLst[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DRUG_ITEM_DATA_LST(void *pHost, CNetData* poNetData)
{
	DT_DRUG_ITEM_DATA_LST *pstOut = (DT_DRUG_ITEM_DATA_LST*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->wItemNum)
			break;
		if(-1 == DecodeDT_DRUG_ITEM_DATA(&pstOut->astDrugItemLst[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DRUG_ITEM_DATA_LST(DT_DRUG_ITEM_DATA_LST &data)
{
	Json::Value root;
	root["ItemNum"]=data.wItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.wItemNum; ++dwIndex)
	{
	root["DrugItemLst"].append( GetJsonDT_DRUG_ITEM_DATA(data.astDrugItemLst[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_DRUG_ITEM_DATA_LST(Json::Value &root, DT_DRUG_ITEM_DATA_LST &data)
{
	data.wItemNum=root["ItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wItemNum; ++dwIndex)
	{
		FromJsonDT_DRUG_ITEM_DATA(root["DrugItemLst"][dwIndex] , data.astDrugItemLst[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_DRUG_ITEM_DATA_LST(const string &strData, DT_DRUG_ITEM_DATA_LST &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DRUG_ITEM_DATA_LST(root, data);
}
INT32 EncodePKT_CLIGS_GET_HERO_DRUG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_HERO_DRUG_ACK *pstIn = (PKT_CLIGS_GET_HERO_DRUG_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == EncodeDT_DRUG_DATA_LST_CLI(&pstIn->stDrugInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveDrugItemFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveDrugItemFlag)
			break;
		if(-1 == EncodeDT_DRUG_ITEM_DATA_LST(&pstIn->astDrugItemInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_HERO_DRUG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_HERO_DRUG_ACK *pstOut = (PKT_CLIGS_GET_HERO_DRUG_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == DecodeDT_DRUG_DATA_LST_CLI(&pstOut->stDrugInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveDrugItemFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveDrugItemFlag)
			break;
		if(-1 == DecodeDT_DRUG_ITEM_DATA_LST(&pstOut->astDrugItemInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_HERO_DRUG_ACK(PKT_CLIGS_GET_HERO_DRUG_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroKindID"]=data.wHeroKindID;
	root["DrugInfo"]=GetJsonDT_DRUG_DATA_LST_CLI(data.stDrugInfo);
	root["HaveDrugItemFlag"]=data.byHaveDrugItemFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveDrugItemFlag; ++dwIndex)
	{
	root["DrugItemInfo"].append( GetJsonDT_DRUG_ITEM_DATA_LST(data.astDrugItemInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_HERO_DRUG_ACK(Json::Value &root, PKT_CLIGS_GET_HERO_DRUG_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	FromJsonDT_DRUG_DATA_LST_CLI(root["DrugInfo"] , data.stDrugInfo);
	data.byHaveDrugItemFlag=root["HaveDrugItemFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveDrugItemFlag; ++dwIndex)
	{
		FromJsonDT_DRUG_ITEM_DATA_LST(root["DrugItemInfo"][dwIndex] , data.astDrugItemInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_HERO_DRUG_ACK(const string &strData, PKT_CLIGS_GET_HERO_DRUG_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_HERO_DRUG_ACK(root, data);
}
INT32 EncodePKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ *pstIn = (PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ *pstOut = (PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ(PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ(Json::Value &root, PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ(const string &strData, PKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_ONLINE_ENCOURAGE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK *pstIn = (PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wRecvCountDown))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byNextOnlineEncourageFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byNextOnlineEncourageFlag)
			break;
		if(-1 == EncodeDT_ONLINE_ENCOURAGE_DATA(&pstIn->astNextOnlineEncourage[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_DATA_AFTER_ONLINE_ENCOURAGE(&pstIn->stCurPlayerInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK *pstOut = (PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wRecvCountDown))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byNextOnlineEncourageFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byNextOnlineEncourageFlag)
			break;
		if(-1 == DecodeDT_ONLINE_ENCOURAGE_DATA(&pstOut->astNextOnlineEncourage[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_DATA_AFTER_ONLINE_ENCOURAGE(&pstOut->stCurPlayerInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK(PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["RecvCountDown"]=data.wRecvCountDown;
	root["NextOnlineEncourageFlag"]=data.byNextOnlineEncourageFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byNextOnlineEncourageFlag; ++dwIndex)
	{
	root["NextOnlineEncourage"].append( GetJsonDT_ONLINE_ENCOURAGE_DATA(data.astNextOnlineEncourage[dwIndex]) );
	}
	root["CurPlayerInfo"]=GetJsonDT_DATA_AFTER_ONLINE_ENCOURAGE(data.stCurPlayerInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK(Json::Value &root, PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wRecvCountDown=root["RecvCountDown"].asUInt();
	data.byNextOnlineEncourageFlag=root["NextOnlineEncourageFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byNextOnlineEncourageFlag; ++dwIndex)
	{
		FromJsonDT_ONLINE_ENCOURAGE_DATA(root["NextOnlineEncourage"][dwIndex] , data.astNextOnlineEncourage[dwIndex] );
	}	FromJsonDT_DATA_AFTER_ONLINE_ENCOURAGE(root["CurPlayerInfo"] , data.stCurPlayerInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK(const string &strData, PKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_ONLINE_ENCOURAGE_ACK(root, data);
}
INT32 EncodeDT_DATA_AFTER_PASS_ENCOURAGE_BOX(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_PASS_ENCOURAGE_BOX *pstIn = (DT_DATA_AFTER_PASS_ENCOURAGE_BOX*)pHost;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DATA_AFTER_PASS_ENCOURAGE_BOX(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_PASS_ENCOURAGE_BOX *pstOut = (DT_DATA_AFTER_PASS_ENCOURAGE_BOX*)pHost;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DATA_AFTER_PASS_ENCOURAGE_BOX(DT_DATA_AFTER_PASS_ENCOURAGE_BOX &data)
{
	Json::Value root;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();

	return root;
}
BOOL FromJsonDT_DATA_AFTER_PASS_ENCOURAGE_BOX(Json::Value &root, DT_DATA_AFTER_PASS_ENCOURAGE_BOX &data)
{
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );

	return TRUE;
}
BOOL FromJsonDT_DATA_AFTER_PASS_ENCOURAGE_BOX(const string &strData, DT_DATA_AFTER_PASS_ENCOURAGE_BOX &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DATA_AFTER_PASS_ENCOURAGE_BOX(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ *pstIn = (PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ *pstOut = (PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ(PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ(Json::Value &root, PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ(const string &strData, PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK *pstIn = (PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_PASS_ENCOURAGE_BOX_DATA(&pstIn->stPassEncourage, poNetData))
		return -1;

	if(-1 == EncodeDT_DATA_AFTER_PASS_ENCOURAGE_BOX(&pstIn->stAfterPassEncourage, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGuide))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK *pstOut = (PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_PASS_ENCOURAGE_BOX_DATA(&pstOut->stPassEncourage, poNetData))
		return -1;

	if(-1 == DecodeDT_DATA_AFTER_PASS_ENCOURAGE_BOX(&pstOut->stAfterPassEncourage, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGuide))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK(PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["PassEncourage"]=GetJsonDT_PASS_ENCOURAGE_BOX_DATA(data.stPassEncourage);
	root["AfterPassEncourage"]=GetJsonDT_DATA_AFTER_PASS_ENCOURAGE_BOX(data.stAfterPassEncourage);
	root["Guide"]=data.dwGuide;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK(Json::Value &root, PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_PASS_ENCOURAGE_BOX_DATA(root["PassEncourage"] , data.stPassEncourage);
	FromJsonDT_DATA_AFTER_PASS_ENCOURAGE_BOX(root["AfterPassEncourage"] , data.stAfterPassEncourage);
	data.dwGuide=root["Guide"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK(const string &strData, PKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_INSTANCE_ENCOURAGE_BOX_ACK(root, data);
}
INT32 EncodePKT_CLIGS_INCREASE_BAG_SIZE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_INCREASE_BAG_SIZE_REQ *pstIn = (PKT_CLIGS_INCREASE_BAG_SIZE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byInc2Size))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byGoldFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_INCREASE_BAG_SIZE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_INCREASE_BAG_SIZE_REQ *pstOut = (PKT_CLIGS_INCREASE_BAG_SIZE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byInc2Size))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byGoldFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_INCREASE_BAG_SIZE_REQ(PKT_CLIGS_INCREASE_BAG_SIZE_REQ &data)
{
	Json::Value root;
	root["Inc2Size"]=data.byInc2Size;
	root["GoldFlag"]=data.byGoldFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_INCREASE_BAG_SIZE_REQ(Json::Value &root, PKT_CLIGS_INCREASE_BAG_SIZE_REQ &data)
{
	data.byInc2Size=root["Inc2Size"].asUInt();
	data.byGoldFlag=root["GoldFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_INCREASE_BAG_SIZE_REQ(const string &strData, PKT_CLIGS_INCREASE_BAG_SIZE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_INCREASE_BAG_SIZE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_INCREASE_BAG_SIZE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_INCREASE_BAG_SIZE_ACK *pstIn = (PKT_CLIGS_INCREASE_BAG_SIZE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_INCREASE_BAG_SIZE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_INCREASE_BAG_SIZE_ACK *pstOut = (PKT_CLIGS_INCREASE_BAG_SIZE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_INCREASE_BAG_SIZE_ACK(PKT_CLIGS_INCREASE_BAG_SIZE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_INCREASE_BAG_SIZE_ACK(Json::Value &root, PKT_CLIGS_INCREASE_BAG_SIZE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_INCREASE_BAG_SIZE_ACK(const string &strData, PKT_CLIGS_INCREASE_BAG_SIZE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_INCREASE_BAG_SIZE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_ONHOOK_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ONHOOK_REQ *pstIn = (PKT_CLIGS_ONHOOK_REQ*)pHost;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stInstanceID, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byRunTimes))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ONHOOK_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ONHOOK_REQ *pstOut = (PKT_CLIGS_ONHOOK_REQ*)pHost;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stInstanceID, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byRunTimes))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ONHOOK_REQ(PKT_CLIGS_ONHOOK_REQ &data)
{
	Json::Value root;
	root["InstanceID"]=GetJsonDT_INSTANCE_ID(data.stInstanceID);
	root["RunTimes"]=data.byRunTimes;

	return root;
}
BOOL FromJsonPKT_CLIGS_ONHOOK_REQ(Json::Value &root, PKT_CLIGS_ONHOOK_REQ &data)
{
	FromJsonDT_INSTANCE_ID(root["InstanceID"] , data.stInstanceID);
	data.byRunTimes=root["RunTimes"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ONHOOK_REQ(const string &strData, PKT_CLIGS_ONHOOK_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ONHOOK_REQ(root, data);
}
INT32 EncodeDT_HERO_UPGRADE_DATA2(void *pHost, CNetData* poNetData)
{
	DT_HERO_UPGRADE_DATA2 *pstIn = (DT_HERO_UPGRADE_DATA2*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUpgradeFlag))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wStartLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUpgradeExperience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_UPGRADE_DATA2(void *pHost, CNetData* poNetData)
{
	DT_HERO_UPGRADE_DATA2 *pstOut = (DT_HERO_UPGRADE_DATA2*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUpgradeFlag))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wStartLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUpgradeExperience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_UPGRADE_DATA2(DT_HERO_UPGRADE_DATA2 &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["UpgradeFlag"]=data.byUpgradeFlag;
	root["StartLevel"]=data.wStartLevel;
	root["CurLevel"]=data.wCurLevel;
	root["Experience"]=data.dwExperience;
	root["UpgradeExperience"]=data.dwUpgradeExperience;

	return root;
}
BOOL FromJsonDT_HERO_UPGRADE_DATA2(Json::Value &root, DT_HERO_UPGRADE_DATA2 &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byUpgradeFlag=root["UpgradeFlag"].asUInt();
	data.wStartLevel=root["StartLevel"].asUInt();
	data.wCurLevel=root["CurLevel"].asUInt();
	data.dwExperience=root["Experience"].asUInt();
	data.dwUpgradeExperience=root["UpgradeExperience"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_HERO_UPGRADE_DATA2(const string &strData, DT_HERO_UPGRADE_DATA2 &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_UPGRADE_DATA2(root, data);
}
INT32 EncodeDT_DATA_AFTER_ONHOOK(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_ONHOOK *pstIn = (DT_DATA_AFTER_ONHOOK*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byUpgradeHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstIn->byUpgradeHeroNum)
			break;
		if(-1 == EncodeDT_HERO_UPGRADE_DATA2(&pstIn->astHeroUpgradeInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurStory))
		return -1;

	if(-1 == EncodeDT_PHYSTRENGTH_DATA_CLI(&pstIn->stCurPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_EXPERIENCE_DATA(&pstIn->stExperienceInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUnlockEquipLevel))
		return -1;

	if(-1 == EncodeUnlockScienceInfo(&pstIn->stUnlockScienceList, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUnlockNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byUnlockNewInstanceFlag)
			break;
		if(-1 == EncodeDT_INSTANCE_ID(&pstIn->astUnlockCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byHaveNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveNewInstanceFlag)
			break;
		if(-1 == EncodeDT_INSTANCE_DATA_CLI(&pstIn->astNewCommonInstanceID[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_DATA_AFTER_ONHOOK(void *pHost, CNetData* poNetData)
{
	DT_DATA_AFTER_ONHOOK *pstOut = (DT_DATA_AFTER_ONHOOK*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byUpgradeHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstOut->byUpgradeHeroNum)
			break;
		if(-1 == DecodeDT_HERO_UPGRADE_DATA2(&pstOut->astHeroUpgradeInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurStory))
		return -1;

	if(-1 == DecodeDT_PHYSTRENGTH_DATA_CLI(&pstOut->stCurPhyStrengthInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_EXPERIENCE_DATA(&pstOut->stExperienceInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUnlockEquipLevel))
		return -1;

	if(-1 == DecodeUnlockScienceInfo(&pstOut->stUnlockScienceList, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUnlockNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byUnlockNewInstanceFlag)
			break;
		if(-1 == DecodeDT_INSTANCE_ID(&pstOut->astUnlockCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byHaveNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveNewInstanceFlag)
			break;
		if(-1 == DecodeDT_INSTANCE_DATA_CLI(&pstOut->astNewCommonInstanceID[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_DATA_AFTER_ONHOOK(DT_DATA_AFTER_ONHOOK &data)
{
	Json::Value root;
	root["UpgradeHeroNum"]=data.byUpgradeHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.byUpgradeHeroNum; ++dwIndex)
	{
	root["HeroUpgradeInfo"].append( GetJsonDT_HERO_UPGRADE_DATA2(data.astHeroUpgradeInfo[dwIndex]) );
	}
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	ostringstream ssqwCurStory;
	ssqwCurStory<<data.qwCurStory;
	root["CurStory"]=ssqwCurStory.str();
	root["CurPhyStrengthInfo"]=GetJsonDT_PHYSTRENGTH_DATA_CLI(data.stCurPhyStrengthInfo);
	root["ExperienceInfo"]=GetJsonDT_EXPERIENCE_DATA(data.stExperienceInfo);
	root["UnlockEquipLevel"]=data.wUnlockEquipLevel;
	root["UnlockScienceList"]=GetJsonUnlockScienceInfo(data.stUnlockScienceList);
	root["UnlockNewInstanceFlag"]=data.byUnlockNewInstanceFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byUnlockNewInstanceFlag; ++dwIndex)
	{
	root["UnlockCommonInstanceID"].append( GetJsonDT_INSTANCE_ID(data.astUnlockCommonInstanceID[dwIndex]) );
	}
	root["HaveNewInstanceFlag"]=data.byHaveNewInstanceFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNewInstanceFlag; ++dwIndex)
	{
	root["NewCommonInstanceID"].append( GetJsonDT_INSTANCE_DATA_CLI(data.astNewCommonInstanceID[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_DATA_AFTER_ONHOOK(Json::Value &root, DT_DATA_AFTER_ONHOOK &data)
{
	data.byUpgradeHeroNum=root["UpgradeHeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byUpgradeHeroNum; ++dwIndex)
	{
		FromJsonDT_HERO_UPGRADE_DATA2(root["HeroUpgradeInfo"][dwIndex] , data.astHeroUpgradeInfo[dwIndex] );
	}	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	data.qwCurStory=SDAtou64( root["CurStory"].asCString() );
	FromJsonDT_PHYSTRENGTH_DATA_CLI(root["CurPhyStrengthInfo"] , data.stCurPhyStrengthInfo);
	FromJsonDT_EXPERIENCE_DATA(root["ExperienceInfo"] , data.stExperienceInfo);
	data.wUnlockEquipLevel=root["UnlockEquipLevel"].asUInt();
	FromJsonUnlockScienceInfo(root["UnlockScienceList"] , data.stUnlockScienceList);
	data.byUnlockNewInstanceFlag=root["UnlockNewInstanceFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byUnlockNewInstanceFlag; ++dwIndex)
	{
		FromJsonDT_INSTANCE_ID(root["UnlockCommonInstanceID"][dwIndex] , data.astUnlockCommonInstanceID[dwIndex] );
	}	data.byHaveNewInstanceFlag=root["HaveNewInstanceFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNewInstanceFlag; ++dwIndex)
	{
		FromJsonDT_INSTANCE_DATA_CLI(root["NewCommonInstanceID"][dwIndex] , data.astNewCommonInstanceID[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_DATA_AFTER_ONHOOK(const string &strData, DT_DATA_AFTER_ONHOOK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_DATA_AFTER_ONHOOK(root, data);
}
INT32 EncodePKT_CLIGS_ONHOOK_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ONHOOK_ACK *pstIn = (PKT_CLIGS_ONHOOK_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_ONHOOK_RESULT(&pstIn->stOnhookResult, poNetData))
		return -1;

	if(-1 == EncodeDT_DATA_AFTER_ONHOOK(&pstIn->stAfterOnhookData, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUnlockNewInstanceFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byUnlockNewInstanceFlag)
			break;
		if(-1 == EncodeDT_INSTANCE_ID(&pstIn->astUnlockCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byHaveNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveNewInstanceFlag)
			break;
		if(-1 == EncodeDT_INSTANCE_DATA_CLI(&pstIn->astNewCommonInstanceID[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ONHOOK_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ONHOOK_ACK *pstOut = (PKT_CLIGS_ONHOOK_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_ONHOOK_RESULT(&pstOut->stOnhookResult, poNetData))
		return -1;

	if(-1 == DecodeDT_DATA_AFTER_ONHOOK(&pstOut->stAfterOnhookData, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUnlockNewInstanceFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byUnlockNewInstanceFlag)
			break;
		if(-1 == DecodeDT_INSTANCE_ID(&pstOut->astUnlockCommonInstanceID[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byHaveNewInstanceFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveNewInstanceFlag)
			break;
		if(-1 == DecodeDT_INSTANCE_DATA_CLI(&pstOut->astNewCommonInstanceID[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ONHOOK_ACK(PKT_CLIGS_ONHOOK_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["OnhookResult"]=GetJsonDT_ONHOOK_RESULT(data.stOnhookResult);
	root["AfterOnhookData"]=GetJsonDT_DATA_AFTER_ONHOOK(data.stAfterOnhookData);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);
	root["UnlockNewInstanceFlag"]=data.byUnlockNewInstanceFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byUnlockNewInstanceFlag; ++dwIndex)
	{
	root["UnlockCommonInstanceID"].append( GetJsonDT_INSTANCE_ID(data.astUnlockCommonInstanceID[dwIndex]) );
	}
	root["HaveNewInstanceFlag"]=data.byHaveNewInstanceFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNewInstanceFlag; ++dwIndex)
	{
	root["NewCommonInstanceID"].append( GetJsonDT_INSTANCE_DATA_CLI(data.astNewCommonInstanceID[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_ONHOOK_ACK(Json::Value &root, PKT_CLIGS_ONHOOK_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_ONHOOK_RESULT(root["OnhookResult"] , data.stOnhookResult);
	FromJsonDT_DATA_AFTER_ONHOOK(root["AfterOnhookData"] , data.stAfterOnhookData);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);
	data.byUnlockNewInstanceFlag=root["UnlockNewInstanceFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byUnlockNewInstanceFlag; ++dwIndex)
	{
		FromJsonDT_INSTANCE_ID(root["UnlockCommonInstanceID"][dwIndex] , data.astUnlockCommonInstanceID[dwIndex] );
	}	data.byHaveNewInstanceFlag=root["HaveNewInstanceFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveNewInstanceFlag; ++dwIndex)
	{
		FromJsonDT_INSTANCE_DATA_CLI(root["NewCommonInstanceID"][dwIndex] , data.astNewCommonInstanceID[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ONHOOK_ACK(const string &strData, PKT_CLIGS_ONHOOK_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ONHOOK_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CLR_CHALLENGE_CD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_CHALLENGE_CD_REQ *pstIn = (PKT_CLIGS_CLR_CHALLENGE_CD_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_CHALLENGE_CD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_CHALLENGE_CD_REQ *pstOut = (PKT_CLIGS_CLR_CHALLENGE_CD_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_CHALLENGE_CD_REQ(PKT_CLIGS_CLR_CHALLENGE_CD_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_CHALLENGE_CD_REQ(Json::Value &root, PKT_CLIGS_CLR_CHALLENGE_CD_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_CHALLENGE_CD_REQ(const string &strData, PKT_CLIGS_CLR_CHALLENGE_CD_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_CHALLENGE_CD_REQ(root, data);
}
INT32 EncodePKT_CLIGS_CLR_CHALLENGE_CD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_CHALLENGE_CD_ACK *pstIn = (PKT_CLIGS_CLR_CHALLENGE_CD_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_CHALLENGE_CD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_CHALLENGE_CD_ACK *pstOut = (PKT_CLIGS_CLR_CHALLENGE_CD_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_CHALLENGE_CD_ACK(PKT_CLIGS_CLR_CHALLENGE_CD_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_CHALLENGE_CD_ACK(Json::Value &root, PKT_CLIGS_CLR_CHALLENGE_CD_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_CHALLENGE_CD_ACK(const string &strData, PKT_CLIGS_CLR_CHALLENGE_CD_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_CHALLENGE_CD_ACK(root, data);
}
INT32 EncodePKT_CLIGS_SYNC_TIME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SYNC_TIME_REQ *pstIn = (PKT_CLIGS_SYNC_TIME_REQ*)pHost;

	if(-1 == poNetData->AddUint64(pstIn->qwCliTime))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SYNC_TIME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SYNC_TIME_REQ *pstOut = (PKT_CLIGS_SYNC_TIME_REQ*)pHost;

	if(-1 == poNetData->DelUint64(pstOut->qwCliTime))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SYNC_TIME_REQ(PKT_CLIGS_SYNC_TIME_REQ &data)
{
	Json::Value root;
	ostringstream ssqwCliTime;
	ssqwCliTime<<data.qwCliTime;
	root["CliTime"]=ssqwCliTime.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_SYNC_TIME_REQ(Json::Value &root, PKT_CLIGS_SYNC_TIME_REQ &data)
{
	data.qwCliTime=SDAtou64( root["CliTime"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SYNC_TIME_REQ(const string &strData, PKT_CLIGS_SYNC_TIME_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SYNC_TIME_REQ(root, data);
}
INT32 EncodePKT_CLIGS_SYNC_TIME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SYNC_TIME_ACK *pstIn = (PKT_CLIGS_SYNC_TIME_ACK*)pHost;

	if(-1 == poNetData->AddUint64(pstIn->qwCliTime))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwServTime))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SYNC_TIME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SYNC_TIME_ACK *pstOut = (PKT_CLIGS_SYNC_TIME_ACK*)pHost;

	if(-1 == poNetData->DelUint64(pstOut->qwCliTime))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwServTime))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SYNC_TIME_ACK(PKT_CLIGS_SYNC_TIME_ACK &data)
{
	Json::Value root;
	ostringstream ssqwCliTime;
	ssqwCliTime<<data.qwCliTime;
	root["CliTime"]=ssqwCliTime.str();
	ostringstream ssqwServTime;
	ssqwServTime<<data.qwServTime;
	root["ServTime"]=ssqwServTime.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_SYNC_TIME_ACK(Json::Value &root, PKT_CLIGS_SYNC_TIME_ACK &data)
{
	data.qwCliTime=SDAtou64( root["CliTime"].asCString() );
	data.qwServTime=SDAtou64( root["ServTime"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SYNC_TIME_ACK(const string &strData, PKT_CLIGS_SYNC_TIME_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SYNC_TIME_ACK(root, data);
}
INT32 EncodePKT_CLILS_REGISTER_DSPNAME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_REGISTER_DSPNAME_REQ *pstIn = (PKT_CLILS_REGISTER_DSPNAME_REQ*)pHost;

	if(-1 == poNetData->AddTString(pstIn->aszDspName, sizeof(pstIn->aszDspName)))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_REGISTER_DSPNAME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_REGISTER_DSPNAME_REQ *pstOut = (PKT_CLILS_REGISTER_DSPNAME_REQ*)pHost;

	if(-1 == poNetData->DelTString(pstOut->aszDspName, sizeof(pstOut->aszDspName)))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_REGISTER_DSPNAME_REQ(PKT_CLILS_REGISTER_DSPNAME_REQ &data)
{
	Json::Value root;
	root["DspName"]=data.aszDspName;

	return root;
}
BOOL FromJsonPKT_CLILS_REGISTER_DSPNAME_REQ(Json::Value &root, PKT_CLILS_REGISTER_DSPNAME_REQ &data)
{
	strncpy( data.aszDspName,root["DspName"].asCString(),USERNAME_LEN);

	return TRUE;
}
BOOL FromJsonPKT_CLILS_REGISTER_DSPNAME_REQ(const string &strData, PKT_CLILS_REGISTER_DSPNAME_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_REGISTER_DSPNAME_REQ(root, data);
}
INT32 EncodePKT_CLILS_REGISTER_DSPNAME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_REGISTER_DSPNAME_ACK *pstIn = (PKT_CLILS_REGISTER_DSPNAME_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszDspName, sizeof(pstIn->aszDspName)))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_REGISTER_DSPNAME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_REGISTER_DSPNAME_ACK *pstOut = (PKT_CLILS_REGISTER_DSPNAME_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszDspName, sizeof(pstOut->aszDspName)))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_REGISTER_DSPNAME_ACK(PKT_CLILS_REGISTER_DSPNAME_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["DspName"]=data.aszDspName;

	return root;
}
BOOL FromJsonPKT_CLILS_REGISTER_DSPNAME_ACK(Json::Value &root, PKT_CLILS_REGISTER_DSPNAME_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	strncpy( data.aszDspName,root["DspName"].asCString(),USERNAME_LEN);

	return TRUE;
}
BOOL FromJsonPKT_CLILS_REGISTER_DSPNAME_ACK(const string &strData, PKT_CLILS_REGISTER_DSPNAME_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_REGISTER_DSPNAME_ACK(root, data);
}
INT32 EncodePKT_CLILS_USE_GOODS_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_USE_GOODS_REQ *pstIn = (PKT_CLILS_USE_GOODS_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wGoodsKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_USE_GOODS_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_USE_GOODS_REQ *pstOut = (PKT_CLILS_USE_GOODS_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wGoodsKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_USE_GOODS_REQ(PKT_CLILS_USE_GOODS_REQ &data)
{
	Json::Value root;
	root["GoodsKindID"]=data.wGoodsKindID;

	return root;
}
BOOL FromJsonPKT_CLILS_USE_GOODS_REQ(Json::Value &root, PKT_CLILS_USE_GOODS_REQ &data)
{
	data.wGoodsKindID=root["GoodsKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLILS_USE_GOODS_REQ(const string &strData, PKT_CLILS_USE_GOODS_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_USE_GOODS_REQ(root, data);
}
INT32 EncodePKT_CLILS_USE_GOODS_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_USE_GOODS_ACK *pstIn = (PKT_CLILS_USE_GOODS_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPhyStrength))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwScience))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byMainHeroUpgradeFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byMainHeroUpgradeFlag)
			break;
		if(-1 == EncodeDT_HERO_UPGRADE_DATA(&pstIn->astMainHeroUpgradeInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byUseBoxFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byUseBoxFlag)
			break;
		if(-1 == EncodeDT_ITEM_DATA_LIST_CLI2(&pstIn->astBoxItemInfo[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_USE_GOODS_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_USE_GOODS_ACK *pstOut = (PKT_CLILS_USE_GOODS_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPhyStrength))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwScience))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byMainHeroUpgradeFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byMainHeroUpgradeFlag)
			break;
		if(-1 == DecodeDT_HERO_UPGRADE_DATA(&pstOut->astMainHeroUpgradeInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byUseBoxFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byUseBoxFlag)
			break;
		if(-1 == DecodeDT_ITEM_DATA_LIST_CLI2(&pstOut->astBoxItemInfo[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_USE_GOODS_ACK(PKT_CLILS_USE_GOODS_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCoin;
	ssqwCoin<<data.qwCoin;
	root["Coin"]=ssqwCoin.str();
	ostringstream ssqwGold;
	ssqwGold<<data.qwGold;
	root["Gold"]=ssqwGold.str();
	root["PhyStrength"]=data.wPhyStrength;
	ostringstream ssqwScience;
	ssqwScience<<data.qwScience;
	root["Science"]=ssqwScience.str();
	root["MainHeroUpgradeFlag"]=data.byMainHeroUpgradeFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byMainHeroUpgradeFlag; ++dwIndex)
	{
	root["MainHeroUpgradeInfo"].append( GetJsonDT_HERO_UPGRADE_DATA(data.astMainHeroUpgradeInfo[dwIndex]) );
	}
	root["UseBoxFlag"]=data.byUseBoxFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byUseBoxFlag; ++dwIndex)
	{
	root["BoxItemInfo"].append( GetJsonDT_ITEM_DATA_LIST_CLI2(data.astBoxItemInfo[dwIndex]) );
	}
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);

	return root;
}
BOOL FromJsonPKT_CLILS_USE_GOODS_ACK(Json::Value &root, PKT_CLILS_USE_GOODS_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCoin=SDAtou64( root["Coin"].asCString() );
	data.qwGold=SDAtou64( root["Gold"].asCString() );
	data.wPhyStrength=root["PhyStrength"].asUInt();
	data.qwScience=SDAtou64( root["Science"].asCString() );
	data.byMainHeroUpgradeFlag=root["MainHeroUpgradeFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byMainHeroUpgradeFlag; ++dwIndex)
	{
		FromJsonDT_HERO_UPGRADE_DATA(root["MainHeroUpgradeInfo"][dwIndex] , data.astMainHeroUpgradeInfo[dwIndex] );
	}	data.byUseBoxFlag=root["UseBoxFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byUseBoxFlag; ++dwIndex)
	{
		FromJsonDT_ITEM_DATA_LIST_CLI2(root["BoxItemInfo"][dwIndex] , data.astBoxItemInfo[dwIndex] );
	}	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLILS_USE_GOODS_ACK(const string &strData, PKT_CLILS_USE_GOODS_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_USE_GOODS_ACK(root, data);
}
INT32 EncodePKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ *pstIn = (PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ *pstOut = (PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ(PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ(Json::Value &root, PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ(const string &strData, PKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_OPEN_LOGIN_ENCOURAGE_REQ(root, data);
}
INT32 EncodeDT_LOGIN_ENCOURAG_DATA(void *pHost, CNetData* poNetData)
{
	DT_LOGIN_ENCOURAG_DATA *pstIn = (DT_LOGIN_ENCOURAG_DATA*)pHost;

	INT32 i;
	for(i = 0; i < MAX_LOGIN_ENCOURAGE_ITEM_NUM; i++)
	{
		if(-1 == EncodeDT_ITEM_DATA_CLI(&pstIn->astItemInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byHitIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveSelectFlag))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wKeepDays))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCanRecvNumToday))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_LOGIN_ENCOURAG_DATA(void *pHost, CNetData* poNetData)
{
	DT_LOGIN_ENCOURAG_DATA *pstOut = (DT_LOGIN_ENCOURAG_DATA*)pHost;

	INT32 i;
		for(i = 0; i < MAX_LOGIN_ENCOURAGE_ITEM_NUM; i++)
		{
			if(-1 == DecodeDT_ITEM_DATA_CLI(&pstOut->astItemInfo[i], poNetData))
				return -1;
		}

	if(-1 == poNetData->DelByte(pstOut->byHitIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveSelectFlag))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wKeepDays))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCanRecvNumToday))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_LOGIN_ENCOURAG_DATA(DT_LOGIN_ENCOURAG_DATA &data)
{
	Json::Value root;
	for( UINT32 dwIndex=0; dwIndex<MAX_LOGIN_ENCOURAGE_ITEM_NUM; ++dwIndex)
	{
	root["ItemInfo"].append( GetJsonDT_ITEM_DATA_CLI(data.astItemInfo[dwIndex]) );
	}
	root["HitIdx"]=data.byHitIdx;
	root["HaveSelectFlag"]=data.byHaveSelectFlag;
	root["KeepDays"]=data.wKeepDays;
	root["CanRecvNumToday"]=data.byCanRecvNumToday;

	return root;
}
BOOL FromJsonDT_LOGIN_ENCOURAG_DATA(Json::Value &root, DT_LOGIN_ENCOURAG_DATA &data)
{
	for( UINT32 dwIndex=0; dwIndex<MAX_LOGIN_ENCOURAGE_ITEM_NUM; ++dwIndex)
	{
		FromJsonDT_ITEM_DATA_CLI(root["ItemInfo"][dwIndex] , data.astItemInfo[dwIndex] );
	}	data.byHitIdx=root["HitIdx"].asUInt();
	data.byHaveSelectFlag=root["HaveSelectFlag"].asUInt();
	data.wKeepDays=root["KeepDays"].asUInt();
	data.byCanRecvNumToday=root["CanRecvNumToday"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_LOGIN_ENCOURAG_DATA(const string &strData, DT_LOGIN_ENCOURAG_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_LOGIN_ENCOURAG_DATA(root, data);
}
INT32 EncodePKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK *pstIn = (PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_LOGIN_ENCOURAG_DATA(&pstIn->stLoginEncourageInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK *pstOut = (PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_LOGIN_ENCOURAG_DATA(&pstOut->stLoginEncourageInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK(PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["LoginEncourageInfo"]=GetJsonDT_LOGIN_ENCOURAG_DATA(data.stLoginEncourageInfo);

	return root;
}
BOOL FromJsonPKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK(Json::Value &root, PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_LOGIN_ENCOURAG_DATA(root["LoginEncourageInfo"] , data.stLoginEncourageInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK(const string &strData, PKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_OPEN_LOGIN_ENCOURAGE_ACK(root, data);
}
INT32 EncodePKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ *pstIn = (PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ *pstOut = (PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ(PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ(Json::Value &root, PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ(const string &strData, PKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_RATE_LOGIN_ENCOURAGE_REQ(root, data);
}
INT32 EncodePKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK *pstIn = (PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK *pstOut = (PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK(PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK(Json::Value &root, PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK(const string &strData, PKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_RATE_LOGIN_ENCOURAGE_ACK(root, data);
}
INT32 EncodePKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ *pstIn = (PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ *pstOut = (PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ(PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ(Json::Value &root, PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ(const string &strData, PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_REQ(root, data);
}
INT32 EncodePKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK *pstIn = (PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveEncourageFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveEncourageFlag)
			break;
		if(-1 == EncodeDT_LOGIN_ENCOURAG_DATA(&pstIn->astLoginEncourageInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK *pstOut = (PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveEncourageFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveEncourageFlag)
			break;
		if(-1 == DecodeDT_LOGIN_ENCOURAG_DATA(&pstOut->astLoginEncourageInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK(PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HaveEncourageFlag"]=data.byHaveEncourageFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveEncourageFlag; ++dwIndex)
	{
	root["LoginEncourageInfo"].append( GetJsonDT_LOGIN_ENCOURAG_DATA(data.astLoginEncourageInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK(Json::Value &root, PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byHaveEncourageFlag=root["HaveEncourageFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveEncourageFlag; ++dwIndex)
	{
		FromJsonDT_LOGIN_ENCOURAG_DATA(root["LoginEncourageInfo"][dwIndex] , data.astLoginEncourageInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK(const string &strData, PKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLILS_PUT_LOGIN_ENCOURAGE_INTO_BAG_ACK(root, data);
}
INT32 EncodeDT_CAPTURE_WORK_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_CAPTURE_WORK_DATA_CLI *pstIn = (DT_CAPTURE_WORK_DATA_CLI*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwWorkCountdown))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byIncomeType))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCaptureWorkSecond))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCollectIncome))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUncollectIncome))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwAllCollectIncome))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_CAPTURE_WORK_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_CAPTURE_WORK_DATA_CLI *pstOut = (DT_CAPTURE_WORK_DATA_CLI*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwWorkCountdown))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byIncomeType))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCaptureWorkSecond))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCollectIncome))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUncollectIncome))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwAllCollectIncome))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_CAPTURE_WORK_DATA_CLI(DT_CAPTURE_WORK_DATA_CLI &data)
{
	Json::Value root;
	root["WorkCountdown"]=data.dwWorkCountdown;
	root["IncomeType"]=data.byIncomeType;
	root["CaptureWorkSecond"]=data.dwCaptureWorkSecond;
	root["CollectIncome"]=data.dwCollectIncome;
	root["UncollectIncome"]=data.dwUncollectIncome;
	root["AllCollectIncome"]=data.dwAllCollectIncome;

	return root;
}
BOOL FromJsonDT_CAPTURE_WORK_DATA_CLI(Json::Value &root, DT_CAPTURE_WORK_DATA_CLI &data)
{
	data.dwWorkCountdown=root["WorkCountdown"].asUInt();
	data.byIncomeType=root["IncomeType"].asUInt();
	data.dwCaptureWorkSecond=root["CaptureWorkSecond"].asUInt();
	data.dwCollectIncome=root["CollectIncome"].asUInt();
	data.dwUncollectIncome=root["UncollectIncome"].asUInt();
	data.dwAllCollectIncome=root["AllCollectIncome"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_CAPTURE_WORK_DATA_CLI(const string &strData, DT_CAPTURE_WORK_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_CAPTURE_WORK_DATA_CLI(root, data);
}
INT32 EncodeDT_CAPTURE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_CAPTURE_DATA_CLI *pstIn = (DT_CAPTURE_DATA_CLI*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszCaptureDispName, sizeof(pstIn->aszCaptureDispName)))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCaptureCareerID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCaptureLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCaptureGridIdx))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwReleaseCountdown))
		return -1;

	if(-1 == EncodeDT_CAPTURE_WORK_DATA_CLI(&pstIn->stWorkInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_CAPTURE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_CAPTURE_DATA_CLI *pstOut = (DT_CAPTURE_DATA_CLI*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszCaptureDispName, sizeof(pstOut->aszCaptureDispName)))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCaptureCareerID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCaptureLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCaptureGridIdx))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwReleaseCountdown))
		return -1;

	if(-1 == DecodeDT_CAPTURE_WORK_DATA_CLI(&pstOut->stWorkInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_CAPTURE_DATA_CLI(DT_CAPTURE_DATA_CLI &data)
{
	Json::Value root;
	root["CapturePlayerID"]=data.dwCapturePlayerID;
	root["CaptureDispName"]=data.aszCaptureDispName;
	root["CaptureCareerID"]=data.wCaptureCareerID;
	root["CaptureLevel"]=data.wCaptureLevel;
	root["CaptureGridIdx"]=data.byCaptureGridIdx;
	root["ReleaseCountdown"]=data.dwReleaseCountdown;
	root["WorkInfo"]=GetJsonDT_CAPTURE_WORK_DATA_CLI(data.stWorkInfo);

	return root;
}
BOOL FromJsonDT_CAPTURE_DATA_CLI(Json::Value &root, DT_CAPTURE_DATA_CLI &data)
{
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();
	strncpy( data.aszCaptureDispName,root["CaptureDispName"].asCString(),USERNAME_LEN);
	data.wCaptureCareerID=root["CaptureCareerID"].asUInt();
	data.wCaptureLevel=root["CaptureLevel"].asUInt();
	data.byCaptureGridIdx=root["CaptureGridIdx"].asUInt();
	data.dwReleaseCountdown=root["ReleaseCountdown"].asUInt();
	FromJsonDT_CAPTURE_WORK_DATA_CLI(root["WorkInfo"] , data.stWorkInfo);

	return TRUE;
}
BOOL FromJsonDT_CAPTURE_DATA_CLI(const string &strData, DT_CAPTURE_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_CAPTURE_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_PLUNDER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PLUNDER_REQ *pstIn = (PKT_CLIGS_PLUNDER_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwEnemyID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCaptureID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUseItemFlag))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byResistFlag))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCaptureGridIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_PLUNDER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PLUNDER_REQ *pstOut = (PKT_CLIGS_PLUNDER_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwEnemyID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCaptureID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUseItemFlag))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byResistFlag))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCaptureGridIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_PLUNDER_REQ(PKT_CLIGS_PLUNDER_REQ &data)
{
	Json::Value root;
	root["EnemyID"]=data.dwEnemyID;
	root["CaptureID"]=data.dwCaptureID;
	root["UseItemFlag"]=data.byUseItemFlag;
	root["ResistFlag"]=data.byResistFlag;
	root["CaptureGridIdx"]=data.byCaptureGridIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_PLUNDER_REQ(Json::Value &root, PKT_CLIGS_PLUNDER_REQ &data)
{
	data.dwEnemyID=root["EnemyID"].asUInt();
	data.dwCaptureID=root["CaptureID"].asUInt();
	data.byUseItemFlag=root["UseItemFlag"].asUInt();
	data.byResistFlag=root["ResistFlag"].asUInt();
	data.byCaptureGridIdx=root["CaptureGridIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_PLUNDER_REQ(const string &strData, PKT_CLIGS_PLUNDER_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_PLUNDER_REQ(root, data);
}
INT32 EncodeDT_PLUNDER_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_PLUNDER_ENCOURAGE_DATA *pstIn = (DT_PLUNDER_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwScience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PLUNDER_ENCOURAGE_DATA(void *pHost, CNetData* poNetData)
{
	DT_PLUNDER_ENCOURAGE_DATA *pstOut = (DT_PLUNDER_ENCOURAGE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwScience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PLUNDER_ENCOURAGE_DATA(DT_PLUNDER_ENCOURAGE_DATA &data)
{
	Json::Value root;
	root["Coin"]=data.dwCoin;
	root["Science"]=data.dwScience;

	return root;
}
BOOL FromJsonDT_PLUNDER_ENCOURAGE_DATA(Json::Value &root, DT_PLUNDER_ENCOURAGE_DATA &data)
{
	data.dwCoin=root["Coin"].asUInt();
	data.dwScience=root["Science"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_PLUNDER_ENCOURAGE_DATA(const string &strData, DT_PLUNDER_ENCOURAGE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PLUNDER_ENCOURAGE_DATA(root, data);
}
INT32 EncodeDT_BECAPTURE_DATA(void *pHost, CNetData* poNetData)
{
	DT_BECAPTURE_DATA *pstIn = (DT_BECAPTURE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwOwnerID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszOwnerDispName, sizeof(pstIn->aszOwnerDispName)))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wOwnerLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwOwnerPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwReleaseCountdown))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_BECAPTURE_DATA(void *pHost, CNetData* poNetData)
{
	DT_BECAPTURE_DATA *pstOut = (DT_BECAPTURE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwOwnerID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszOwnerDispName, sizeof(pstOut->aszOwnerDispName)))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wOwnerLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwOwnerPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwReleaseCountdown))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_BECAPTURE_DATA(DT_BECAPTURE_DATA &data)
{
	Json::Value root;
	root["OwnerID"]=data.dwOwnerID;
	root["OwnerDispName"]=data.aszOwnerDispName;
	root["OwnerLevel"]=data.wOwnerLevel;
	root["OwnerPower"]=data.dwOwnerPower;
	root["ReleaseCountdown"]=data.dwReleaseCountdown;

	return root;
}
BOOL FromJsonDT_BECAPTURE_DATA(Json::Value &root, DT_BECAPTURE_DATA &data)
{
	data.dwOwnerID=root["OwnerID"].asUInt();
	strncpy( data.aszOwnerDispName,root["OwnerDispName"].asCString(),USERNAME_LEN);
	data.wOwnerLevel=root["OwnerLevel"].asUInt();
	data.dwOwnerPower=root["OwnerPower"].asUInt();
	data.dwReleaseCountdown=root["ReleaseCountdown"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_BECAPTURE_DATA(const string &strData, DT_BECAPTURE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_BECAPTURE_DATA(root, data);
}
INT32 EncodePKT_CLIGS_PLUNDER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PLUNDER_ACK *pstIn = (PKT_CLIGS_PLUNDER_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwEnemyID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCaptureID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUseItemFlag))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byResistFlag))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCaptureGridIdx))
		return -1;

	if(-1 == EncodeDT_BECAPTURE_DATA(&pstIn->stBeCaptureInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_CHALLENGE_PLAYER_DATA(&pstIn->stEnemyPlayerData, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEnemyHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstIn->byEnemyHeroNum)
			break;
		if(-1 == EncodeDT_ENEMY_HERO_DATA(&pstIn->astEnemyInfoList[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_BATTLE_DATA(&pstIn->stBattleInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_PLUNDER_ENCOURAGE_DATA(&pstIn->stPlunderEncourage, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCanPlunderNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wFreePlunderNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlunderGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPlunderItemNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCaptureFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byCaptureFlag)
			break;
		if(-1 == EncodeDT_CAPTURE_DATA_CLI(&pstIn->astCaptureInfo[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_PLUNDER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PLUNDER_ACK *pstOut = (PKT_CLIGS_PLUNDER_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwEnemyID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCaptureID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUseItemFlag))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byResistFlag))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCaptureGridIdx))
		return -1;

	if(-1 == DecodeDT_BECAPTURE_DATA(&pstOut->stBeCaptureInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_CHALLENGE_PLAYER_DATA(&pstOut->stEnemyPlayerData, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEnemyHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstOut->byEnemyHeroNum)
			break;
		if(-1 == DecodeDT_ENEMY_HERO_DATA(&pstOut->astEnemyInfoList[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_BATTLE_DATA(&pstOut->stBattleInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_PLUNDER_ENCOURAGE_DATA(&pstOut->stPlunderEncourage, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCanPlunderNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wFreePlunderNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlunderGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPlunderItemNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCaptureFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byCaptureFlag)
			break;
		if(-1 == DecodeDT_CAPTURE_DATA_CLI(&pstOut->astCaptureInfo[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_PLUNDER_ACK(PKT_CLIGS_PLUNDER_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["EnemyID"]=data.dwEnemyID;
	root["CaptureID"]=data.dwCaptureID;
	root["UseItemFlag"]=data.byUseItemFlag;
	root["ResistFlag"]=data.byResistFlag;
	root["CaptureGridIdx"]=data.byCaptureGridIdx;
	root["BeCaptureInfo"]=GetJsonDT_BECAPTURE_DATA(data.stBeCaptureInfo);
	root["EnemyPlayerData"]=GetJsonDT_CHALLENGE_PLAYER_DATA(data.stEnemyPlayerData);
	root["EnemyHeroNum"]=data.byEnemyHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.byEnemyHeroNum; ++dwIndex)
	{
	root["EnemyInfoList"].append( GetJsonDT_ENEMY_HERO_DATA(data.astEnemyInfoList[dwIndex]) );
	}
	root["BattleInfo"]=GetJsonDT_BATTLE_DATA(data.stBattleInfo);
	root["PlunderEncourage"]=GetJsonDT_PLUNDER_ENCOURAGE_DATA(data.stPlunderEncourage);
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["CanPlunderNum"]=data.wCanPlunderNum;
	root["FreePlunderNum"]=data.wFreePlunderNum;
	root["PlunderGold"]=data.dwPlunderGold;
	root["PlunderItemNum"]=data.wPlunderItemNum;
	root["CaptureFlag"]=data.byCaptureFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byCaptureFlag; ++dwIndex)
	{
	root["CaptureInfo"].append( GetJsonDT_CAPTURE_DATA_CLI(data.astCaptureInfo[dwIndex]) );
	}
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_PLUNDER_ACK(Json::Value &root, PKT_CLIGS_PLUNDER_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.dwEnemyID=root["EnemyID"].asUInt();
	data.dwCaptureID=root["CaptureID"].asUInt();
	data.byUseItemFlag=root["UseItemFlag"].asUInt();
	data.byResistFlag=root["ResistFlag"].asUInt();
	data.byCaptureGridIdx=root["CaptureGridIdx"].asUInt();
	FromJsonDT_BECAPTURE_DATA(root["BeCaptureInfo"] , data.stBeCaptureInfo);
	FromJsonDT_CHALLENGE_PLAYER_DATA(root["EnemyPlayerData"] , data.stEnemyPlayerData);
	data.byEnemyHeroNum=root["EnemyHeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byEnemyHeroNum; ++dwIndex)
	{
		FromJsonDT_ENEMY_HERO_DATA(root["EnemyInfoList"][dwIndex] , data.astEnemyInfoList[dwIndex] );
	}	FromJsonDT_BATTLE_DATA(root["BattleInfo"] , data.stBattleInfo);
	FromJsonDT_PLUNDER_ENCOURAGE_DATA(root["PlunderEncourage"] , data.stPlunderEncourage);
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	data.wCanPlunderNum=root["CanPlunderNum"].asUInt();
	data.wFreePlunderNum=root["FreePlunderNum"].asUInt();
	data.dwPlunderGold=root["PlunderGold"].asUInt();
	data.wPlunderItemNum=root["PlunderItemNum"].asUInt();
	data.byCaptureFlag=root["CaptureFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byCaptureFlag; ++dwIndex)
	{
		FromJsonDT_CAPTURE_DATA_CLI(root["CaptureInfo"][dwIndex] , data.astCaptureInfo[dwIndex] );
	}	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_PLUNDER_ACK(const string &strData, PKT_CLIGS_PLUNDER_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_PLUNDER_ACK(root, data);
}
INT32 EncodeDT_PLUNDER_BATTLELOG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_PLUNDER_BATTLELOG_DATA_CLI *pstIn = (DT_PLUNDER_BATTLELOG_DATA_CLI*)pHost;

	if(-1 == EncodeDT_PLUNDER_BATTLELOG_DATA(&pstIn->stBattelogInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszActiveDispName, sizeof(pstIn->aszActiveDispName)))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszPassiveDispName, sizeof(pstIn->aszPassiveDispName)))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszCaptureDispName, sizeof(pstIn->aszCaptureDispName)))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PLUNDER_BATTLELOG_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_PLUNDER_BATTLELOG_DATA_CLI *pstOut = (DT_PLUNDER_BATTLELOG_DATA_CLI*)pHost;

	if(-1 == DecodeDT_PLUNDER_BATTLELOG_DATA(&pstOut->stBattelogInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszActiveDispName, sizeof(pstOut->aszActiveDispName)))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszPassiveDispName, sizeof(pstOut->aszPassiveDispName)))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszCaptureDispName, sizeof(pstOut->aszCaptureDispName)))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PLUNDER_BATTLELOG_DATA_CLI(DT_PLUNDER_BATTLELOG_DATA_CLI &data)
{
	Json::Value root;
	root["BattelogInfo"]=GetJsonDT_PLUNDER_BATTLELOG_DATA(data.stBattelogInfo);
	root["ActiveDispName"]=data.aszActiveDispName;
	root["PassiveDispName"]=data.aszPassiveDispName;
	root["CaptureDispName"]=data.aszCaptureDispName;

	return root;
}
BOOL FromJsonDT_PLUNDER_BATTLELOG_DATA_CLI(Json::Value &root, DT_PLUNDER_BATTLELOG_DATA_CLI &data)
{
	FromJsonDT_PLUNDER_BATTLELOG_DATA(root["BattelogInfo"] , data.stBattelogInfo);
	strncpy( data.aszActiveDispName,root["ActiveDispName"].asCString(),USERNAME_LEN);
	strncpy( data.aszPassiveDispName,root["PassiveDispName"].asCString(),USERNAME_LEN);
	strncpy( data.aszCaptureDispName,root["CaptureDispName"].asCString(),USERNAME_LEN);

	return TRUE;
}
BOOL FromJsonDT_PLUNDER_BATTLELOG_DATA_CLI(const string &strData, DT_PLUNDER_BATTLELOG_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PLUNDER_BATTLELOG_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_CAPTURE_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CAPTURE_TAB_REQ *pstIn = (PKT_CLIGS_OPEN_CAPTURE_TAB_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_CAPTURE_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CAPTURE_TAB_REQ *pstOut = (PKT_CLIGS_OPEN_CAPTURE_TAB_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_CAPTURE_TAB_REQ(PKT_CLIGS_OPEN_CAPTURE_TAB_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_CAPTURE_TAB_REQ(Json::Value &root, PKT_CLIGS_OPEN_CAPTURE_TAB_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_CAPTURE_TAB_REQ(const string &strData, PKT_CLIGS_OPEN_CAPTURE_TAB_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_CAPTURE_TAB_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_CAPTURE_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CAPTURE_TAB_ACK *pstIn = (PKT_CLIGS_OPEN_CAPTURE_TAB_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCurPower))
		return -1;

	if(-1 == EncodeDT_BECAPTURE_DATA(&pstIn->stOwner, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCanPlunderNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wFreeCanPlunderNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCaptureNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CAPTURE_NUM; i++)
	{
		if(i >= (INT32)pstIn->byCaptureNum)
			break;
		if(-1 == EncodeDT_CAPTURE_DATA_CLI(&pstIn->astCaptureInfo[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_CAPTURE_NUM; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awUnlockGridLevel[i]))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byUnreadPlunderBattleLogNum))
		return -1;

	if(-1 == EncodeDT_PLUNDER_BATTLELOG_DATA_CLI(&pstIn->stLastBattleLog, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byBleedPerGoldClrMin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwDriveAwayGold))
		return -1;

	for(i = 0; i < MAX_CAPTURE_NUM; i++)
	{
		if(-1 == EncodeDT_PLUNDER_GRID_DATA(&pstIn->astCaptureGridInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddDword(pstIn->dwPlunderGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_CAPTURE_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CAPTURE_TAB_ACK *pstOut = (PKT_CLIGS_OPEN_CAPTURE_TAB_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCurPower))
		return -1;

	if(-1 == DecodeDT_BECAPTURE_DATA(&pstOut->stOwner, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCanPlunderNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wFreeCanPlunderNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCaptureNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CAPTURE_NUM; i++)
	{
		if(i >= (INT32)pstOut->byCaptureNum)
			break;
		if(-1 == DecodeDT_CAPTURE_DATA_CLI(&pstOut->astCaptureInfo[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_CAPTURE_NUM; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awUnlockGridLevel[i]))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byUnreadPlunderBattleLogNum))
		return -1;

	if(-1 == DecodeDT_PLUNDER_BATTLELOG_DATA_CLI(&pstOut->stLastBattleLog, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byBleedPerGoldClrMin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwDriveAwayGold))
		return -1;

		for(i = 0; i < MAX_CAPTURE_NUM; i++)
		{
			if(-1 == DecodeDT_PLUNDER_GRID_DATA(&pstOut->astCaptureGridInfo[i], poNetData))
				return -1;
		}

	if(-1 == poNetData->DelDword(pstOut->dwPlunderGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_CAPTURE_TAB_ACK(PKT_CLIGS_OPEN_CAPTURE_TAB_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	root["CurPower"]=data.dwCurPower;
	root["Owner"]=GetJsonDT_BECAPTURE_DATA(data.stOwner);
	root["CanPlunderNum"]=data.wCanPlunderNum;
	root["FreeCanPlunderNum"]=data.wFreeCanPlunderNum;
	root["CaptureNum"]=data.byCaptureNum;
	for( UINT32 dwIndex=0; dwIndex<data.byCaptureNum; ++dwIndex)
	{
	root["CaptureInfo"].append( GetJsonDT_CAPTURE_DATA_CLI(data.astCaptureInfo[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<MAX_CAPTURE_NUM; ++dwIndex)
	{
	root["UnlockGridLevel"].append( data.awUnlockGridLevel[dwIndex]);
	}
	root["UnreadPlunderBattleLogNum"]=data.byUnreadPlunderBattleLogNum;
	root["LastBattleLog"]=GetJsonDT_PLUNDER_BATTLELOG_DATA_CLI(data.stLastBattleLog);
	root["BleedPerGoldClrMin"]=data.byBleedPerGoldClrMin;
	root["DriveAwayGold"]=data.dwDriveAwayGold;
	for( UINT32 dwIndex=0; dwIndex<MAX_CAPTURE_NUM; ++dwIndex)
	{
	root["CaptureGridInfo"].append( GetJsonDT_PLUNDER_GRID_DATA(data.astCaptureGridInfo[dwIndex]) );
	}
	root["PlunderGold"]=data.dwPlunderGold;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_CAPTURE_TAB_ACK(Json::Value &root, PKT_CLIGS_OPEN_CAPTURE_TAB_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	data.dwCurPower=root["CurPower"].asUInt();
	FromJsonDT_BECAPTURE_DATA(root["Owner"] , data.stOwner);
	data.wCanPlunderNum=root["CanPlunderNum"].asUInt();
	data.wFreeCanPlunderNum=root["FreeCanPlunderNum"].asUInt();
	data.byCaptureNum=root["CaptureNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byCaptureNum; ++dwIndex)
	{
		FromJsonDT_CAPTURE_DATA_CLI(root["CaptureInfo"][dwIndex] , data.astCaptureInfo[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<MAX_CAPTURE_NUM; ++dwIndex)
	{
		data.awUnlockGridLevel[dwIndex]=WORD(root["UnlockGridLevel"][dwIndex].asUInt() );
	}
	data.byUnreadPlunderBattleLogNum=root["UnreadPlunderBattleLogNum"].asUInt();
	FromJsonDT_PLUNDER_BATTLELOG_DATA_CLI(root["LastBattleLog"] , data.stLastBattleLog);
	data.byBleedPerGoldClrMin=root["BleedPerGoldClrMin"].asUInt();
	data.dwDriveAwayGold=root["DriveAwayGold"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<MAX_CAPTURE_NUM; ++dwIndex)
	{
		FromJsonDT_PLUNDER_GRID_DATA(root["CaptureGridInfo"][dwIndex] , data.astCaptureGridInfo[dwIndex] );
	}	data.dwPlunderGold=root["PlunderGold"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_CAPTURE_TAB_ACK(const string &strData, PKT_CLIGS_OPEN_CAPTURE_TAB_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_CAPTURE_TAB_ACK(root, data);
}
INT32 EncodeDT_ENEMY_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_ENEMY_DATA_CLI *pstIn = (DT_ENEMY_DATA_CLI*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwEnemyPlayerID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszEnemyDispName, sizeof(pstIn->aszEnemyDispName)))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCareerID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEnemyLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wBattleNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPower))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveOwnerFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveOwnerFlag)
			break;
		if(-1 == EncodeDT_BECAPTURE_DATA(&pstIn->astOwnerInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_ENEMY_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_ENEMY_DATA_CLI *pstOut = (DT_ENEMY_DATA_CLI*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwEnemyPlayerID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszEnemyDispName, sizeof(pstOut->aszEnemyDispName)))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCareerID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEnemyLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wBattleNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPower))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveOwnerFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveOwnerFlag)
			break;
		if(-1 == DecodeDT_BECAPTURE_DATA(&pstOut->astOwnerInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_ENEMY_DATA_CLI(DT_ENEMY_DATA_CLI &data)
{
	Json::Value root;
	root["EnemyPlayerID"]=data.dwEnemyPlayerID;
	root["EnemyDispName"]=data.aszEnemyDispName;
	root["CareerID"]=data.wCareerID;
	root["EnemyLevel"]=data.wEnemyLevel;
	root["BattleNum"]=data.wBattleNum;
	root["Power"]=data.dwPower;
	root["HaveOwnerFlag"]=data.byHaveOwnerFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveOwnerFlag; ++dwIndex)
	{
	root["OwnerInfo"].append( GetJsonDT_BECAPTURE_DATA(data.astOwnerInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_ENEMY_DATA_CLI(Json::Value &root, DT_ENEMY_DATA_CLI &data)
{
	data.dwEnemyPlayerID=root["EnemyPlayerID"].asUInt();
	strncpy( data.aszEnemyDispName,root["EnemyDispName"].asCString(),USERNAME_LEN);
	data.wCareerID=root["CareerID"].asUInt();
	data.wEnemyLevel=root["EnemyLevel"].asUInt();
	data.wBattleNum=root["BattleNum"].asUInt();
	data.dwPower=root["Power"].asUInt();
	data.byHaveOwnerFlag=root["HaveOwnerFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveOwnerFlag; ++dwIndex)
	{
		FromJsonDT_BECAPTURE_DATA(root["OwnerInfo"][dwIndex] , data.astOwnerInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_ENEMY_DATA_CLI(const string &strData, DT_ENEMY_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_ENEMY_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_ENEMY_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_ENEMY_TAB_REQ *pstIn = (PKT_CLIGS_OPEN_ENEMY_TAB_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wStartIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_ENEMY_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_ENEMY_TAB_REQ *pstOut = (PKT_CLIGS_OPEN_ENEMY_TAB_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wStartIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_ENEMY_TAB_REQ(PKT_CLIGS_OPEN_ENEMY_TAB_REQ &data)
{
	Json::Value root;
	root["StartIdx"]=data.wStartIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_ENEMY_TAB_REQ(Json::Value &root, PKT_CLIGS_OPEN_ENEMY_TAB_REQ &data)
{
	data.wStartIdx=root["StartIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_ENEMY_TAB_REQ(const string &strData, PKT_CLIGS_OPEN_ENEMY_TAB_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_ENEMY_TAB_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_ENEMY_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_ENEMY_TAB_ACK *pstIn = (PKT_CLIGS_OPEN_ENEMY_TAB_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wStartIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTotalNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GET_ENEMY_NUM; i++)
	{
		if(i >= (INT32)pstIn->wCurNum)
			break;
		if(-1 == EncodeDT_ENEMY_DATA_CLI(&pstIn->astEnemyInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_ENEMY_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_ENEMY_TAB_ACK *pstOut = (PKT_CLIGS_OPEN_ENEMY_TAB_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wStartIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTotalNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GET_ENEMY_NUM; i++)
	{
		if(i >= (INT32)pstOut->wCurNum)
			break;
		if(-1 == DecodeDT_ENEMY_DATA_CLI(&pstOut->astEnemyInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_ENEMY_TAB_ACK(PKT_CLIGS_OPEN_ENEMY_TAB_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["StartIdx"]=data.wStartIdx;
	root["TotalNum"]=data.wTotalNum;
	root["CurNum"]=data.wCurNum;
	for( UINT32 dwIndex=0; dwIndex<data.wCurNum; ++dwIndex)
	{
	root["EnemyInfo"].append( GetJsonDT_ENEMY_DATA_CLI(data.astEnemyInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_ENEMY_TAB_ACK(Json::Value &root, PKT_CLIGS_OPEN_ENEMY_TAB_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wStartIdx=root["StartIdx"].asUInt();
	data.wTotalNum=root["TotalNum"].asUInt();
	data.wCurNum=root["CurNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wCurNum; ++dwIndex)
	{
		FromJsonDT_ENEMY_DATA_CLI(root["EnemyInfo"][dwIndex] , data.astEnemyInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_ENEMY_TAB_ACK(const string &strData, PKT_CLIGS_OPEN_ENEMY_TAB_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_ENEMY_TAB_ACK(root, data);
}
INT32 EncodePKT_CLIGS_DEL_ENEMY_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DEL_ENEMY_REQ *pstIn = (PKT_CLIGS_DEL_ENEMY_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwEnemyID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wStartIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DEL_ENEMY_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DEL_ENEMY_REQ *pstOut = (PKT_CLIGS_DEL_ENEMY_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwEnemyID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wStartIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DEL_ENEMY_REQ(PKT_CLIGS_DEL_ENEMY_REQ &data)
{
	Json::Value root;
	root["EnemyID"]=data.dwEnemyID;
	root["StartIdx"]=data.wStartIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_DEL_ENEMY_REQ(Json::Value &root, PKT_CLIGS_DEL_ENEMY_REQ &data)
{
	data.dwEnemyID=root["EnemyID"].asUInt();
	data.wStartIdx=root["StartIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DEL_ENEMY_REQ(const string &strData, PKT_CLIGS_DEL_ENEMY_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DEL_ENEMY_REQ(root, data);
}
INT32 EncodePKT_CLIGS_DEL_ENEMY_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DEL_ENEMY_ACK *pstIn = (PKT_CLIGS_DEL_ENEMY_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwEnemyID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wStartIdx))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTotalNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GET_ENEMY_NUM; i++)
	{
		if(i >= (INT32)pstIn->wCurNum)
			break;
		if(-1 == EncodeDT_ENEMY_DATA_CLI(&pstIn->astEnemyInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DEL_ENEMY_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DEL_ENEMY_ACK *pstOut = (PKT_CLIGS_DEL_ENEMY_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwEnemyID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wStartIdx))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTotalNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GET_ENEMY_NUM; i++)
	{
		if(i >= (INT32)pstOut->wCurNum)
			break;
		if(-1 == DecodeDT_ENEMY_DATA_CLI(&pstOut->astEnemyInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DEL_ENEMY_ACK(PKT_CLIGS_DEL_ENEMY_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["EnemyID"]=data.dwEnemyID;
	root["StartIdx"]=data.wStartIdx;
	root["TotalNum"]=data.wTotalNum;
	root["CurNum"]=data.wCurNum;
	for( UINT32 dwIndex=0; dwIndex<data.wCurNum; ++dwIndex)
	{
	root["EnemyInfo"].append( GetJsonDT_ENEMY_DATA_CLI(data.astEnemyInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_DEL_ENEMY_ACK(Json::Value &root, PKT_CLIGS_DEL_ENEMY_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.dwEnemyID=root["EnemyID"].asUInt();
	data.wStartIdx=root["StartIdx"].asUInt();
	data.wTotalNum=root["TotalNum"].asUInt();
	data.wCurNum=root["CurNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wCurNum; ++dwIndex)
	{
		FromJsonDT_ENEMY_DATA_CLI(root["EnemyInfo"][dwIndex] , data.astEnemyInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DEL_ENEMY_ACK(const string &strData, PKT_CLIGS_DEL_ENEMY_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DEL_ENEMY_ACK(root, data);
}
INT32 EncodePKT_CLIGS_PLUNDER_BATTLELOG_NTF(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PLUNDER_BATTLELOG_NTF *pstIn = (PKT_CLIGS_PLUNDER_BATTLELOG_NTF*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byUnreadNum))
		return -1;

	if(-1 == EncodeDT_PLUNDER_BATTLELOG_DATA_CLI(&pstIn->stBattleLog, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerScience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_PLUNDER_BATTLELOG_NTF(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PLUNDER_BATTLELOG_NTF *pstOut = (PKT_CLIGS_PLUNDER_BATTLELOG_NTF*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byUnreadNum))
		return -1;

	if(-1 == DecodeDT_PLUNDER_BATTLELOG_DATA_CLI(&pstOut->stBattleLog, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerScience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_PLUNDER_BATTLELOG_NTF(PKT_CLIGS_PLUNDER_BATTLELOG_NTF &data)
{
	Json::Value root;
	root["UnreadNum"]=data.byUnreadNum;
	root["BattleLog"]=GetJsonDT_PLUNDER_BATTLELOG_DATA_CLI(data.stBattleLog);
	ostringstream ssqwPlayerCoin;
	ssqwPlayerCoin<<data.qwPlayerCoin;
	root["PlayerCoin"]=ssqwPlayerCoin.str();
	ostringstream ssqwPlayerScience;
	ssqwPlayerScience<<data.qwPlayerScience;
	root["PlayerScience"]=ssqwPlayerScience.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_PLUNDER_BATTLELOG_NTF(Json::Value &root, PKT_CLIGS_PLUNDER_BATTLELOG_NTF &data)
{
	data.byUnreadNum=root["UnreadNum"].asUInt();
	FromJsonDT_PLUNDER_BATTLELOG_DATA_CLI(root["BattleLog"] , data.stBattleLog);
	data.qwPlayerCoin=SDAtou64( root["PlayerCoin"].asCString() );
	data.qwPlayerScience=SDAtou64( root["PlayerScience"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_PLUNDER_BATTLELOG_NTF(const string &strData, PKT_CLIGS_PLUNDER_BATTLELOG_NTF &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_PLUNDER_BATTLELOG_NTF(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ *pstIn = (PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ *pstOut = (PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ(PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ(Json::Value &root, PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ(const string &strData, PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_REQ(root, data);
}
INT32 EncodeDT_PLUNDER_PLAYER_DATA(void *pHost, CNetData* poNetData)
{
	DT_PLUNDER_PLAYER_DATA *pstIn = (DT_PLUNDER_PLAYER_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszDispName, sizeof(pstIn->aszDispName)))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCareerID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byRobotFunc))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPower))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHaveOwnerFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHaveOwnerFlag)
			break;
		if(-1 == EncodeDT_BECAPTURE_DATA(&pstIn->astOwnerInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_PLUNDER_PLAYER_DATA(void *pHost, CNetData* poNetData)
{
	DT_PLUNDER_PLAYER_DATA *pstOut = (DT_PLUNDER_PLAYER_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszDispName, sizeof(pstOut->aszDispName)))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCareerID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byRobotFunc))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPower))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHaveOwnerFlag))
		return -1;

	INT32 i;
	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHaveOwnerFlag)
			break;
		if(-1 == DecodeDT_BECAPTURE_DATA(&pstOut->astOwnerInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_PLUNDER_PLAYER_DATA(DT_PLUNDER_PLAYER_DATA &data)
{
	Json::Value root;
	root["PlayerID"]=data.dwPlayerID;
	root["DispName"]=data.aszDispName;
	root["CareerID"]=data.wCareerID;
	root["RobotFunc"]=data.byRobotFunc;
	root["Level"]=data.wLevel;
	root["Power"]=data.dwPower;
	root["HaveOwnerFlag"]=data.byHaveOwnerFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHaveOwnerFlag; ++dwIndex)
	{
	root["OwnerInfo"].append( GetJsonDT_BECAPTURE_DATA(data.astOwnerInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_PLUNDER_PLAYER_DATA(Json::Value &root, DT_PLUNDER_PLAYER_DATA &data)
{
	data.dwPlayerID=root["PlayerID"].asUInt();
	strncpy( data.aszDispName,root["DispName"].asCString(),USERNAME_LEN);
	data.wCareerID=root["CareerID"].asUInt();
	data.byRobotFunc=root["RobotFunc"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.dwPower=root["Power"].asUInt();
	data.byHaveOwnerFlag=root["HaveOwnerFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHaveOwnerFlag; ++dwIndex)
	{
		FromJsonDT_BECAPTURE_DATA(root["OwnerInfo"][dwIndex] , data.astOwnerInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_PLUNDER_PLAYER_DATA(const string &strData, DT_PLUNDER_PLAYER_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_PLUNDER_PLAYER_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK *pstIn = (PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCanPlunderNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wFreePlunderNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlunderGold))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUseItemGapLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPlunderItemNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wPlunderItemID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwPlunderItemPrice))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwClrCDGold))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPlunderPlayerNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GET_PLUNDER_ENEMY_NUM; i++)
	{
		if(i >= (INT32)pstIn->byPlunderPlayerNum)
			break;
		if(-1 == EncodeDT_PLUNDER_PLAYER_DATA(&pstIn->astPlunderPlayerInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK *pstOut = (PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCanPlunderNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wFreePlunderNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlunderGold))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUseItemGapLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPlunderItemNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wPlunderItemID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwPlunderItemPrice))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwClrCDGold))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPlunderPlayerNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GET_PLUNDER_ENEMY_NUM; i++)
	{
		if(i >= (INT32)pstOut->byPlunderPlayerNum)
			break;
		if(-1 == DecodeDT_PLUNDER_PLAYER_DATA(&pstOut->astPlunderPlayerInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK(PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CanPlunderNum"]=data.wCanPlunderNum;
	root["FreePlunderNum"]=data.wFreePlunderNum;
	root["PlunderGold"]=data.dwPlunderGold;
	root["UseItemGapLevel"]=data.byUseItemGapLevel;
	root["PlunderItemNum"]=data.wPlunderItemNum;
	root["PlunderItemID"]=data.wPlunderItemID;
	root["PlunderItemPrice"]=data.dwPlunderItemPrice;
	root["ClrCDGold"]=data.dwClrCDGold;
	root["PlunderPlayerNum"]=data.byPlunderPlayerNum;
	for( UINT32 dwIndex=0; dwIndex<data.byPlunderPlayerNum; ++dwIndex)
	{
	root["PlunderPlayerInfo"].append( GetJsonDT_PLUNDER_PLAYER_DATA(data.astPlunderPlayerInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK(Json::Value &root, PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wCanPlunderNum=root["CanPlunderNum"].asUInt();
	data.wFreePlunderNum=root["FreePlunderNum"].asUInt();
	data.dwPlunderGold=root["PlunderGold"].asUInt();
	data.byUseItemGapLevel=root["UseItemGapLevel"].asUInt();
	data.wPlunderItemNum=root["PlunderItemNum"].asUInt();
	data.wPlunderItemID=root["PlunderItemID"].asUInt();
	data.dwPlunderItemPrice=root["PlunderItemPrice"].asUInt();
	data.dwClrCDGold=root["ClrCDGold"].asUInt();
	data.byPlunderPlayerNum=root["PlunderPlayerNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byPlunderPlayerNum; ++dwIndex)
	{
		FromJsonDT_PLUNDER_PLAYER_DATA(root["PlunderPlayerInfo"][dwIndex] , data.astPlunderPlayerInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK(const string &strData, PKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_PLUNDER_RECOMMEND_PLAYER_ACK(root, data);
}
INT32 EncodePKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ *pstIn = (PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ *pstOut = (PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ(PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ(Json::Value &root, PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ(const string &strData, PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_REQ(root, data);
}
INT32 EncodePKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK *pstIn = (PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPlunderPlayerNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GET_PLUNDER_ENEMY_NUM; i++)
	{
		if(i >= (INT32)pstIn->byPlunderPlayerNum)
			break;
		if(-1 == EncodeDT_PLUNDER_PLAYER_DATA(&pstIn->astPlunderPlayerInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK *pstOut = (PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPlunderPlayerNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GET_PLUNDER_ENEMY_NUM; i++)
	{
		if(i >= (INT32)pstOut->byPlunderPlayerNum)
			break;
		if(-1 == DecodeDT_PLUNDER_PLAYER_DATA(&pstOut->astPlunderPlayerInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK(PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["PlunderPlayerNum"]=data.byPlunderPlayerNum;
	for( UINT32 dwIndex=0; dwIndex<data.byPlunderPlayerNum; ++dwIndex)
	{
	root["PlunderPlayerInfo"].append( GetJsonDT_PLUNDER_PLAYER_DATA(data.astPlunderPlayerInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK(Json::Value &root, PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byPlunderPlayerNum=root["PlunderPlayerNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byPlunderPlayerNum; ++dwIndex)
	{
		FromJsonDT_PLUNDER_PLAYER_DATA(root["PlunderPlayerInfo"][dwIndex] , data.astPlunderPlayerInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK(const string &strData, PKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_REFRESH_PLUNDER_RECOMMEND_ACK(root, data);
}
INT32 EncodePKT_CLIGS_FREE_CAPTURE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_FREE_CAPTURE_REQ *pstIn = (PKT_CLIGS_FREE_CAPTURE_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_FREE_CAPTURE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_FREE_CAPTURE_REQ *pstOut = (PKT_CLIGS_FREE_CAPTURE_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_FREE_CAPTURE_REQ(PKT_CLIGS_FREE_CAPTURE_REQ &data)
{
	Json::Value root;
	root["CapturePlayerID"]=data.dwCapturePlayerID;

	return root;
}
BOOL FromJsonPKT_CLIGS_FREE_CAPTURE_REQ(Json::Value &root, PKT_CLIGS_FREE_CAPTURE_REQ &data)
{
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_FREE_CAPTURE_REQ(const string &strData, PKT_CLIGS_FREE_CAPTURE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_FREE_CAPTURE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_FREE_CAPTURE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_FREE_CAPTURE_ACK *pstIn = (PKT_CLIGS_FREE_CAPTURE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCoinIncome))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwScienceIncome))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_FREE_CAPTURE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_FREE_CAPTURE_ACK *pstOut = (PKT_CLIGS_FREE_CAPTURE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCoinIncome))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwScienceIncome))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_FREE_CAPTURE_ACK(PKT_CLIGS_FREE_CAPTURE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CapturePlayerID"]=data.dwCapturePlayerID;
	root["CoinIncome"]=data.dwCoinIncome;
	root["ScienceIncome"]=data.dwScienceIncome;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_FREE_CAPTURE_ACK(Json::Value &root, PKT_CLIGS_FREE_CAPTURE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();
	data.dwCoinIncome=root["CoinIncome"].asUInt();
	data.dwScienceIncome=root["ScienceIncome"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_FREE_CAPTURE_ACK(const string &strData, PKT_CLIGS_FREE_CAPTURE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_FREE_CAPTURE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_COLLECT_INCOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COLLECT_INCOME_REQ *pstIn = (PKT_CLIGS_COLLECT_INCOME_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwIncomeValue))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_COLLECT_INCOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COLLECT_INCOME_REQ *pstOut = (PKT_CLIGS_COLLECT_INCOME_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwIncomeValue))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_COLLECT_INCOME_REQ(PKT_CLIGS_COLLECT_INCOME_REQ &data)
{
	Json::Value root;
	root["CapturePlayerID"]=data.dwCapturePlayerID;
	root["IncomeValue"]=data.dwIncomeValue;

	return root;
}
BOOL FromJsonPKT_CLIGS_COLLECT_INCOME_REQ(Json::Value &root, PKT_CLIGS_COLLECT_INCOME_REQ &data)
{
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();
	data.dwIncomeValue=root["IncomeValue"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_COLLECT_INCOME_REQ(const string &strData, PKT_CLIGS_COLLECT_INCOME_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_COLLECT_INCOME_REQ(root, data);
}
INT32 EncodePKT_CLIGS_COLLECT_INCOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COLLECT_INCOME_ACK *pstIn = (PKT_CLIGS_COLLECT_INCOME_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwIncomeValue))
		return -1;

	if(-1 == EncodeDT_CAPTURE_WORK_DATA_CLI(&pstIn->stWorkInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHalved))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCaptureReleaseFlag))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_COLLECT_INCOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COLLECT_INCOME_ACK *pstOut = (PKT_CLIGS_COLLECT_INCOME_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwIncomeValue))
		return -1;

	if(-1 == DecodeDT_CAPTURE_WORK_DATA_CLI(&pstOut->stWorkInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHalved))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCaptureReleaseFlag))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_COLLECT_INCOME_ACK(PKT_CLIGS_COLLECT_INCOME_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CapturePlayerID"]=data.dwCapturePlayerID;
	root["IncomeValue"]=data.dwIncomeValue;
	root["WorkInfo"]=GetJsonDT_CAPTURE_WORK_DATA_CLI(data.stWorkInfo);
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	root["Halved"]=data.byHalved;
	root["CaptureReleaseFlag"]=data.byCaptureReleaseFlag;
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_COLLECT_INCOME_ACK(Json::Value &root, PKT_CLIGS_COLLECT_INCOME_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();
	data.dwIncomeValue=root["IncomeValue"].asUInt();
	FromJsonDT_CAPTURE_WORK_DATA_CLI(root["WorkInfo"] , data.stWorkInfo);
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	data.byHalved=root["Halved"].asUInt();
	data.byCaptureReleaseFlag=root["CaptureReleaseFlag"].asUInt();
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_COLLECT_INCOME_ACK(const string &strData, PKT_CLIGS_COLLECT_INCOME_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_COLLECT_INCOME_ACK(root, data);
}
INT32 EncodePKT_CLIGS_BLEED_CAPTURE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BLEED_CAPTURE_REQ *pstIn = (PKT_CLIGS_BLEED_CAPTURE_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_BLEED_CAPTURE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BLEED_CAPTURE_REQ *pstOut = (PKT_CLIGS_BLEED_CAPTURE_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_BLEED_CAPTURE_REQ(PKT_CLIGS_BLEED_CAPTURE_REQ &data)
{
	Json::Value root;
	root["CapturePlayerID"]=data.dwCapturePlayerID;

	return root;
}
BOOL FromJsonPKT_CLIGS_BLEED_CAPTURE_REQ(Json::Value &root, PKT_CLIGS_BLEED_CAPTURE_REQ &data)
{
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_BLEED_CAPTURE_REQ(const string &strData, PKT_CLIGS_BLEED_CAPTURE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_BLEED_CAPTURE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_BLEED_CAPTURE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BLEED_CAPTURE_ACK *pstIn = (PKT_CLIGS_BLEED_CAPTURE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byIncomeType))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwIncomeValue))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_BLEED_CAPTURE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BLEED_CAPTURE_ACK *pstOut = (PKT_CLIGS_BLEED_CAPTURE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byIncomeType))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwIncomeValue))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_BLEED_CAPTURE_ACK(PKT_CLIGS_BLEED_CAPTURE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CapturePlayerID"]=data.dwCapturePlayerID;
	root["IncomeType"]=data.byIncomeType;
	root["IncomeValue"]=data.dwIncomeValue;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_BLEED_CAPTURE_ACK(Json::Value &root, PKT_CLIGS_BLEED_CAPTURE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();
	data.byIncomeType=root["IncomeType"].asUInt();
	data.dwIncomeValue=root["IncomeValue"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_BLEED_CAPTURE_ACK(const string &strData, PKT_CLIGS_BLEED_CAPTURE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_BLEED_CAPTURE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_SET_WORK_TYPE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SET_WORK_TYPE_REQ *pstIn = (PKT_CLIGS_SET_WORK_TYPE_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byIncomeType))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SET_WORK_TYPE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SET_WORK_TYPE_REQ *pstOut = (PKT_CLIGS_SET_WORK_TYPE_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byIncomeType))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SET_WORK_TYPE_REQ(PKT_CLIGS_SET_WORK_TYPE_REQ &data)
{
	Json::Value root;
	root["CapturePlayerID"]=data.dwCapturePlayerID;
	root["IncomeType"]=data.byIncomeType;

	return root;
}
BOOL FromJsonPKT_CLIGS_SET_WORK_TYPE_REQ(Json::Value &root, PKT_CLIGS_SET_WORK_TYPE_REQ &data)
{
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();
	data.byIncomeType=root["IncomeType"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SET_WORK_TYPE_REQ(const string &strData, PKT_CLIGS_SET_WORK_TYPE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SET_WORK_TYPE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_SET_WORK_TYPE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SET_WORK_TYPE_ACK *pstIn = (PKT_CLIGS_SET_WORK_TYPE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byIncomeType))
		return -1;

	if(-1 == EncodeDT_CAPTURE_WORK_DATA_CLI(&pstIn->stWorkInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SET_WORK_TYPE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SET_WORK_TYPE_ACK *pstOut = (PKT_CLIGS_SET_WORK_TYPE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCapturePlayerID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byIncomeType))
		return -1;

	if(-1 == DecodeDT_CAPTURE_WORK_DATA_CLI(&pstOut->stWorkInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SET_WORK_TYPE_ACK(PKT_CLIGS_SET_WORK_TYPE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CapturePlayerID"]=data.dwCapturePlayerID;
	root["IncomeType"]=data.byIncomeType;
	root["WorkInfo"]=GetJsonDT_CAPTURE_WORK_DATA_CLI(data.stWorkInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_SET_WORK_TYPE_ACK(Json::Value &root, PKT_CLIGS_SET_WORK_TYPE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.dwCapturePlayerID=root["CapturePlayerID"].asUInt();
	data.byIncomeType=root["IncomeType"].asUInt();
	FromJsonDT_CAPTURE_WORK_DATA_CLI(root["WorkInfo"] , data.stWorkInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SET_WORK_TYPE_ACK(const string &strData, PKT_CLIGS_SET_WORK_TYPE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SET_WORK_TYPE_ACK(root, data);
}
INT32 EncodeDT_MONEY_TREE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_MONEY_TREE_DATA_CLI *pstIn = (DT_MONEY_TREE_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wCanRockNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTotalCanRockNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwRockNeedGold))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byMoodValue))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwRockBaseCoin))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byGetCoinRate))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wMoodKeepTime))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wMoodOverCountDown))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_MONEY_TREE_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_MONEY_TREE_DATA_CLI *pstOut = (DT_MONEY_TREE_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wCanRockNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTotalCanRockNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwRockNeedGold))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byMoodValue))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwRockBaseCoin))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byGetCoinRate))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wMoodKeepTime))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wMoodOverCountDown))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_MONEY_TREE_DATA_CLI(DT_MONEY_TREE_DATA_CLI &data)
{
	Json::Value root;
	root["CanRockNum"]=data.wCanRockNum;
	root["TotalCanRockNum"]=data.wTotalCanRockNum;
	root["RockNeedGold"]=data.dwRockNeedGold;
	root["MoodValue"]=data.byMoodValue;
	root["RockBaseCoin"]=data.dwRockBaseCoin;
	root["GetCoinRate"]=data.byGetCoinRate;
	root["MoodKeepTime"]=data.wMoodKeepTime;
	root["MoodOverCountDown"]=data.wMoodOverCountDown;

	return root;
}
BOOL FromJsonDT_MONEY_TREE_DATA_CLI(Json::Value &root, DT_MONEY_TREE_DATA_CLI &data)
{
	data.wCanRockNum=root["CanRockNum"].asUInt();
	data.wTotalCanRockNum=root["TotalCanRockNum"].asUInt();
	data.dwRockNeedGold=root["RockNeedGold"].asUInt();
	data.byMoodValue=root["MoodValue"].asUInt();
	data.dwRockBaseCoin=root["RockBaseCoin"].asUInt();
	data.byGetCoinRate=root["GetCoinRate"].asUInt();
	data.wMoodKeepTime=root["MoodKeepTime"].asUInt();
	data.wMoodOverCountDown=root["MoodOverCountDown"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_MONEY_TREE_DATA_CLI(const string &strData, DT_MONEY_TREE_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_MONEY_TREE_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_MONEY_TREE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MONEY_TREE_REQ *pstIn = (PKT_CLIGS_OPEN_MONEY_TREE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_MONEY_TREE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MONEY_TREE_REQ *pstOut = (PKT_CLIGS_OPEN_MONEY_TREE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_MONEY_TREE_REQ(PKT_CLIGS_OPEN_MONEY_TREE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_MONEY_TREE_REQ(Json::Value &root, PKT_CLIGS_OPEN_MONEY_TREE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_MONEY_TREE_REQ(const string &strData, PKT_CLIGS_OPEN_MONEY_TREE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_MONEY_TREE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_MONEY_TREE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MONEY_TREE_ACK *pstIn = (PKT_CLIGS_OPEN_MONEY_TREE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_MONEY_TREE_DATA_CLI(&pstIn->stMoneyTreeInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_MONEY_TREE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MONEY_TREE_ACK *pstOut = (PKT_CLIGS_OPEN_MONEY_TREE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_MONEY_TREE_DATA_CLI(&pstOut->stMoneyTreeInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_MONEY_TREE_ACK(PKT_CLIGS_OPEN_MONEY_TREE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["MoneyTreeInfo"]=GetJsonDT_MONEY_TREE_DATA_CLI(data.stMoneyTreeInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_MONEY_TREE_ACK(Json::Value &root, PKT_CLIGS_OPEN_MONEY_TREE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_MONEY_TREE_DATA_CLI(root["MoneyTreeInfo"] , data.stMoneyTreeInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_MONEY_TREE_ACK(const string &strData, PKT_CLIGS_OPEN_MONEY_TREE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_MONEY_TREE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_ROCK_MONEY_TREE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ROCK_MONEY_TREE_REQ *pstIn = (PKT_CLIGS_ROCK_MONEY_TREE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byGuideFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ROCK_MONEY_TREE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ROCK_MONEY_TREE_REQ *pstOut = (PKT_CLIGS_ROCK_MONEY_TREE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byGuideFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ROCK_MONEY_TREE_REQ(PKT_CLIGS_ROCK_MONEY_TREE_REQ &data)
{
	Json::Value root;
	root["GuideFlag"]=data.byGuideFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_ROCK_MONEY_TREE_REQ(Json::Value &root, PKT_CLIGS_ROCK_MONEY_TREE_REQ &data)
{
	data.byGuideFlag=root["GuideFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ROCK_MONEY_TREE_REQ(const string &strData, PKT_CLIGS_ROCK_MONEY_TREE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ROCK_MONEY_TREE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_ROCK_MONEY_TREE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ROCK_MONEY_TREE_ACK *pstIn = (PKT_CLIGS_ROCK_MONEY_TREE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byGuideFlag))
		return -1;

	if(-1 == EncodeDT_MONEY_TREE_DATA_CLI(&pstIn->stMoneyTreeInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGetCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerGold))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ROCK_MONEY_TREE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ROCK_MONEY_TREE_ACK *pstOut = (PKT_CLIGS_ROCK_MONEY_TREE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byGuideFlag))
		return -1;

	if(-1 == DecodeDT_MONEY_TREE_DATA_CLI(&pstOut->stMoneyTreeInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGetCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerGold))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ROCK_MONEY_TREE_ACK(PKT_CLIGS_ROCK_MONEY_TREE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["GuideFlag"]=data.byGuideFlag;
	root["MoneyTreeInfo"]=GetJsonDT_MONEY_TREE_DATA_CLI(data.stMoneyTreeInfo);
	root["GetCoin"]=data.dwGetCoin;
	ostringstream ssqwPlayerCoin;
	ssqwPlayerCoin<<data.qwPlayerCoin;
	root["PlayerCoin"]=ssqwPlayerCoin.str();
	ostringstream ssqwPlayerGold;
	ssqwPlayerGold<<data.qwPlayerGold;
	root["PlayerGold"]=ssqwPlayerGold.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_ROCK_MONEY_TREE_ACK(Json::Value &root, PKT_CLIGS_ROCK_MONEY_TREE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byGuideFlag=root["GuideFlag"].asUInt();
	FromJsonDT_MONEY_TREE_DATA_CLI(root["MoneyTreeInfo"] , data.stMoneyTreeInfo);
	data.dwGetCoin=root["GetCoin"].asUInt();
	data.qwPlayerCoin=SDAtou64( root["PlayerCoin"].asCString() );
	data.qwPlayerGold=SDAtou64( root["PlayerGold"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ROCK_MONEY_TREE_ACK(const string &strData, PKT_CLIGS_ROCK_MONEY_TREE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ROCK_MONEY_TREE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ *pstIn = (PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ *pstOut = (PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ(PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ(Json::Value &root, PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ(const string &strData, PKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_PLUNDER_BATTLELOG_REQ(root, data);
}
INT32 EncodePKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK *pstIn = (PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCaptureOwnerID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byShowNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_PLUNDER_BATTLELOG_NUM; i++)
	{
		if(i >= (INT32)pstIn->byShowNum)
			break;
		if(-1 == EncodeDT_PLUNDER_BATTLELOG_DATA_CLI(&pstIn->astBattleLogInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK *pstOut = (PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCaptureOwnerID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byShowNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_PLUNDER_BATTLELOG_NUM; i++)
	{
		if(i >= (INT32)pstOut->byShowNum)
			break;
		if(-1 == DecodeDT_PLUNDER_BATTLELOG_DATA_CLI(&pstOut->astBattleLogInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK(PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CaptureOwnerID"]=data.dwCaptureOwnerID;
	root["ShowNum"]=data.byShowNum;
	for( UINT32 dwIndex=0; dwIndex<data.byShowNum; ++dwIndex)
	{
	root["BattleLogInfo"].append( GetJsonDT_PLUNDER_BATTLELOG_DATA_CLI(data.astBattleLogInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK(Json::Value &root, PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.dwCaptureOwnerID=root["CaptureOwnerID"].asUInt();
	data.byShowNum=root["ShowNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byShowNum; ++dwIndex)
	{
		FromJsonDT_PLUNDER_BATTLELOG_DATA_CLI(root["BattleLogInfo"][dwIndex] , data.astBattleLogInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK(const string &strData, PKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_PLUNDER_BATTLELOG_ACK(root, data);
}
INT32 EncodeDT_GODWEAPON_ATTR_INC_DATA(void *pHost, CNetData* poNetData)
{
	DT_GODWEAPON_ATTR_INC_DATA *pstIn = (DT_GODWEAPON_ATTR_INC_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byAttrKind))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwAttrValue))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_GODWEAPON_ATTR_INC_DATA(void *pHost, CNetData* poNetData)
{
	DT_GODWEAPON_ATTR_INC_DATA *pstOut = (DT_GODWEAPON_ATTR_INC_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byAttrKind))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwAttrValue))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_GODWEAPON_ATTR_INC_DATA(DT_GODWEAPON_ATTR_INC_DATA &data)
{
	Json::Value root;
	root["AttrKind"]=data.byAttrKind;
	root["AttrValue"]=data.dwAttrValue;

	return root;
}
BOOL FromJsonDT_GODWEAPON_ATTR_INC_DATA(Json::Value &root, DT_GODWEAPON_ATTR_INC_DATA &data)
{
	data.byAttrKind=root["AttrKind"].asUInt();
	data.dwAttrValue=root["AttrValue"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_GODWEAPON_ATTR_INC_DATA(const string &strData, DT_GODWEAPON_ATTR_INC_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_GODWEAPON_ATTR_INC_DATA(root, data);
}
INT32 EncodeDT_GODWEAPON_ATTR_DATA(void *pHost, CNetData* poNetData)
{
	DT_GODWEAPON_ATTR_DATA *pstIn = (DT_GODWEAPON_ATTR_DATA*)pHost;

	if(-1 == EncodeDT_BATTLE_ATTRIBUTE(&pstIn->stBattleAttr, poNetData))
		return -1;

	if(-1 == EncodeDT_HIDE_BATTLE_ATTRIBUTE(&pstIn->stHideBattleAttr, poNetData))
		return -1;

	if(-1 == EncodeDT_EXT_BATTLE_ATTRIBUTE(&pstIn->stExtBattleAttr, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_GODWEAPON_ATTR_DATA(void *pHost, CNetData* poNetData)
{
	DT_GODWEAPON_ATTR_DATA *pstOut = (DT_GODWEAPON_ATTR_DATA*)pHost;

	if(-1 == DecodeDT_BATTLE_ATTRIBUTE(&pstOut->stBattleAttr, poNetData))
		return -1;

	if(-1 == DecodeDT_HIDE_BATTLE_ATTRIBUTE(&pstOut->stHideBattleAttr, poNetData))
		return -1;

	if(-1 == DecodeDT_EXT_BATTLE_ATTRIBUTE(&pstOut->stExtBattleAttr, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_GODWEAPON_ATTR_DATA(DT_GODWEAPON_ATTR_DATA &data)
{
	Json::Value root;
	root["BattleAttr"]=GetJsonDT_BATTLE_ATTRIBUTE(data.stBattleAttr);
	root["HideBattleAttr"]=GetJsonDT_HIDE_BATTLE_ATTRIBUTE(data.stHideBattleAttr);
	root["ExtBattleAttr"]=GetJsonDT_EXT_BATTLE_ATTRIBUTE(data.stExtBattleAttr);

	return root;
}
BOOL FromJsonDT_GODWEAPON_ATTR_DATA(Json::Value &root, DT_GODWEAPON_ATTR_DATA &data)
{
	FromJsonDT_BATTLE_ATTRIBUTE(root["BattleAttr"] , data.stBattleAttr);
	FromJsonDT_HIDE_BATTLE_ATTRIBUTE(root["HideBattleAttr"] , data.stHideBattleAttr);
	FromJsonDT_EXT_BATTLE_ATTRIBUTE(root["ExtBattleAttr"] , data.stExtBattleAttr);

	return TRUE;
}
BOOL FromJsonDT_GODWEAPON_ATTR_DATA(const string &strData, DT_GODWEAPON_ATTR_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_GODWEAPON_ATTR_DATA(root, data);
}
INT32 EncodeDT_GODWEAPON_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_GODWEAPON_DATA_CLI *pstIn = (DT_GODWEAPON_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wQuality))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == EncodeDT_GODWEAPON_ATTR_DATA(&pstIn->stIncAttr, poNetData))
		return -1;

	if(-1 == EncodeDT_GODWEAPON_ATTR_INC_DATA(&pstIn->stNextLevelIncAttr, poNetData))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wQualityRequireLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUpgrageScience))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwRecoverScience))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUpgradeQualityNeedItemNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byMaxLevelFlag))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GODWEAPON_QUALITY_NUM; i++)
	{
		if(-1 == EncodeDT_GODWEAPON_ATTR_INC_DATA(&pstIn->astQualityUpgradeEncAttr[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_GODWEAPON_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_GODWEAPON_DATA_CLI *pstOut = (DT_GODWEAPON_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wQuality))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == DecodeDT_GODWEAPON_ATTR_DATA(&pstOut->stIncAttr, poNetData))
		return -1;

	if(-1 == DecodeDT_GODWEAPON_ATTR_INC_DATA(&pstOut->stNextLevelIncAttr, poNetData))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wQualityRequireLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUpgrageScience))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwRecoverScience))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUpgradeQualityNeedItemNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byMaxLevelFlag))
		return -1;

	INT32 i;
		for(i = 0; i < MAX_GODWEAPON_QUALITY_NUM; i++)
		{
			if(-1 == DecodeDT_GODWEAPON_ATTR_INC_DATA(&pstOut->astQualityUpgradeEncAttr[i], poNetData))
				return -1;
		}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_GODWEAPON_DATA_CLI(DT_GODWEAPON_DATA_CLI &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["Quality"]=data.wQuality;
	root["Level"]=data.wLevel;
	root["IncAttr"]=GetJsonDT_GODWEAPON_ATTR_DATA(data.stIncAttr);
	root["NextLevelIncAttr"]=GetJsonDT_GODWEAPON_ATTR_INC_DATA(data.stNextLevelIncAttr);
	root["QualityRequireLevel"]=data.wQualityRequireLevel;
	root["UpgrageScience"]=data.dwUpgrageScience;
	ostringstream ssqwRecoverScience;
	ssqwRecoverScience<<data.qwRecoverScience;
	root["RecoverScience"]=ssqwRecoverScience.str();
	root["UpgradeQualityNeedItemNum"]=data.wUpgradeQualityNeedItemNum;
	root["MaxLevelFlag"]=data.byMaxLevelFlag;
	for( UINT32 dwIndex=0; dwIndex<MAX_GODWEAPON_QUALITY_NUM; ++dwIndex)
	{
	root["QualityUpgradeEncAttr"].append( GetJsonDT_GODWEAPON_ATTR_INC_DATA(data.astQualityUpgradeEncAttr[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_GODWEAPON_DATA_CLI(Json::Value &root, DT_GODWEAPON_DATA_CLI &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.wQuality=root["Quality"].asUInt();
	data.wLevel=root["Level"].asUInt();
	FromJsonDT_GODWEAPON_ATTR_DATA(root["IncAttr"] , data.stIncAttr);
	FromJsonDT_GODWEAPON_ATTR_INC_DATA(root["NextLevelIncAttr"] , data.stNextLevelIncAttr);
	data.wQualityRequireLevel=root["QualityRequireLevel"].asUInt();
	data.dwUpgrageScience=root["UpgrageScience"].asUInt();
	data.qwRecoverScience=SDAtou64( root["RecoverScience"].asCString() );
	data.wUpgradeQualityNeedItemNum=root["UpgradeQualityNeedItemNum"].asUInt();
	data.byMaxLevelFlag=root["MaxLevelFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<MAX_GODWEAPON_QUALITY_NUM; ++dwIndex)
	{
		FromJsonDT_GODWEAPON_ATTR_INC_DATA(root["QualityUpgradeEncAttr"][dwIndex] , data.astQualityUpgradeEncAttr[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_GODWEAPON_DATA_CLI(const string &strData, DT_GODWEAPON_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_GODWEAPON_DATA_CLI(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_GODWEAPON_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_GODWEAPON_REQ *pstIn = (PKT_CLIGS_OPEN_GODWEAPON_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_GODWEAPON_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_GODWEAPON_REQ *pstOut = (PKT_CLIGS_OPEN_GODWEAPON_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_GODWEAPON_REQ(PKT_CLIGS_OPEN_GODWEAPON_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_GODWEAPON_REQ(Json::Value &root, PKT_CLIGS_OPEN_GODWEAPON_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_GODWEAPON_REQ(const string &strData, PKT_CLIGS_OPEN_GODWEAPON_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_GODWEAPON_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_GODWEAPON_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_GODWEAPON_ACK *pstIn = (PKT_CLIGS_OPEN_GODWEAPON_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUpgradeQualityItemNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUpgradeQualityItemPrice))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUpgradeQualityItemID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwActiveCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerScience))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wGodweaponNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->wGodweaponNum)
			break;
		if(-1 == EncodeDT_GODWEAPON_DATA_CLI(&pstIn->astGodweaponLst[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_GODWEAPON_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_GODWEAPON_ACK *pstOut = (PKT_CLIGS_OPEN_GODWEAPON_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUpgradeQualityItemNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUpgradeQualityItemPrice))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUpgradeQualityItemID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwActiveCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerScience))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wGodweaponNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->wGodweaponNum)
			break;
		if(-1 == DecodeDT_GODWEAPON_DATA_CLI(&pstOut->astGodweaponLst[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_GODWEAPON_ACK(PKT_CLIGS_OPEN_GODWEAPON_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["UpgradeQualityItemNum"]=data.wUpgradeQualityItemNum;
	root["UpgradeQualityItemPrice"]=data.dwUpgradeQualityItemPrice;
	root["UpgradeQualityItemID"]=data.wUpgradeQualityItemID;
	root["ActiveCoin"]=data.dwActiveCoin;
	ostringstream ssqwPlayerScience;
	ssqwPlayerScience<<data.qwPlayerScience;
	root["PlayerScience"]=ssqwPlayerScience.str();
	root["GodweaponNum"]=data.wGodweaponNum;
	for( UINT32 dwIndex=0; dwIndex<data.wGodweaponNum; ++dwIndex)
	{
	root["GodweaponLst"].append( GetJsonDT_GODWEAPON_DATA_CLI(data.astGodweaponLst[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_GODWEAPON_ACK(Json::Value &root, PKT_CLIGS_OPEN_GODWEAPON_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wUpgradeQualityItemNum=root["UpgradeQualityItemNum"].asUInt();
	data.dwUpgradeQualityItemPrice=root["UpgradeQualityItemPrice"].asUInt();
	data.wUpgradeQualityItemID=root["UpgradeQualityItemID"].asUInt();
	data.dwActiveCoin=root["ActiveCoin"].asUInt();
	data.qwPlayerScience=SDAtou64( root["PlayerScience"].asCString() );
	data.wGodweaponNum=root["GodweaponNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wGodweaponNum; ++dwIndex)
	{
		FromJsonDT_GODWEAPON_DATA_CLI(root["GodweaponLst"][dwIndex] , data.astGodweaponLst[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_GODWEAPON_ACK(const string &strData, PKT_CLIGS_OPEN_GODWEAPON_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_GODWEAPON_ACK(root, data);
}
INT32 EncodePKT_CLIGS_UPGRADE_GODWEAPON_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_GODWEAPON_REQ *pstIn = (PKT_CLIGS_UPGRADE_GODWEAPON_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wQuality))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPGRADE_GODWEAPON_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_GODWEAPON_REQ *pstOut = (PKT_CLIGS_UPGRADE_GODWEAPON_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wQuality))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPGRADE_GODWEAPON_REQ(PKT_CLIGS_UPGRADE_GODWEAPON_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["Quality"]=data.wQuality;
	root["Level"]=data.wLevel;

	return root;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_GODWEAPON_REQ(Json::Value &root, PKT_CLIGS_UPGRADE_GODWEAPON_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.wQuality=root["Quality"].asUInt();
	data.wLevel=root["Level"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_GODWEAPON_REQ(const string &strData, PKT_CLIGS_UPGRADE_GODWEAPON_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPGRADE_GODWEAPON_REQ(root, data);
}
INT32 EncodePKT_CLIGS_UPGRADE_GODWEAPON_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_GODWEAPON_ACK *pstIn = (PKT_CLIGS_UPGRADE_GODWEAPON_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerScience))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUpgradeQualityItemNum))
		return -1;

	if(-1 == EncodeDT_GODWEAPON_DATA_CLI(&pstIn->stGodweaponInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPGRADE_GODWEAPON_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_GODWEAPON_ACK *pstOut = (PKT_CLIGS_UPGRADE_GODWEAPON_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerScience))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUpgradeQualityItemNum))
		return -1;

	if(-1 == DecodeDT_GODWEAPON_DATA_CLI(&pstOut->stGodweaponInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPGRADE_GODWEAPON_ACK(PKT_CLIGS_UPGRADE_GODWEAPON_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwPlayerScience;
	ssqwPlayerScience<<data.qwPlayerScience;
	root["PlayerScience"]=ssqwPlayerScience.str();
	root["UpgradeQualityItemNum"]=data.wUpgradeQualityItemNum;
	root["GodweaponInfo"]=GetJsonDT_GODWEAPON_DATA_CLI(data.stGodweaponInfo);
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_GODWEAPON_ACK(Json::Value &root, PKT_CLIGS_UPGRADE_GODWEAPON_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwPlayerScience=SDAtou64( root["PlayerScience"].asCString() );
	data.wUpgradeQualityItemNum=root["UpgradeQualityItemNum"].asUInt();
	FromJsonDT_GODWEAPON_DATA_CLI(root["GodweaponInfo"] , data.stGodweaponInfo);
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_GODWEAPON_ACK(const string &strData, PKT_CLIGS_UPGRADE_GODWEAPON_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPGRADE_GODWEAPON_ACK(root, data);
}
INT32 EncodePKT_CLIGS_FREE_GODWEAPON_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_FREE_GODWEAPON_REQ *pstIn = (PKT_CLIGS_FREE_GODWEAPON_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_FREE_GODWEAPON_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_FREE_GODWEAPON_REQ *pstOut = (PKT_CLIGS_FREE_GODWEAPON_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_FREE_GODWEAPON_REQ(PKT_CLIGS_FREE_GODWEAPON_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_FREE_GODWEAPON_REQ(Json::Value &root, PKT_CLIGS_FREE_GODWEAPON_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_FREE_GODWEAPON_REQ(const string &strData, PKT_CLIGS_FREE_GODWEAPON_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_FREE_GODWEAPON_REQ(root, data);
}
INT32 EncodePKT_CLIGS_FREE_GODWEAPON_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_FREE_GODWEAPON_ACK *pstIn = (PKT_CLIGS_FREE_GODWEAPON_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerScience))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_GODWEAPON_DATA_CLI(&pstIn->stGodweaponInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_FREE_GODWEAPON_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_FREE_GODWEAPON_ACK *pstOut = (PKT_CLIGS_FREE_GODWEAPON_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerScience))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_GODWEAPON_DATA_CLI(&pstOut->stGodweaponInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_FREE_GODWEAPON_ACK(PKT_CLIGS_FREE_GODWEAPON_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroKindID"]=data.wHeroKindID;
	ostringstream ssqwPlayerScience;
	ssqwPlayerScience<<data.qwPlayerScience;
	root["PlayerScience"]=ssqwPlayerScience.str();
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);
	root["GodweaponInfo"]=GetJsonDT_GODWEAPON_DATA_CLI(data.stGodweaponInfo);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_FREE_GODWEAPON_ACK(Json::Value &root, PKT_CLIGS_FREE_GODWEAPON_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.qwPlayerScience=SDAtou64( root["PlayerScience"].asCString() );
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);
	FromJsonDT_GODWEAPON_DATA_CLI(root["GodweaponInfo"] , data.stGodweaponInfo);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_FREE_GODWEAPON_ACK(const string &strData, PKT_CLIGS_FREE_GODWEAPON_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_FREE_GODWEAPON_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_AWAKEN_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_AWAKEN_REQ *pstIn = (PKT_CLIGS_OPEN_AWAKEN_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_AWAKEN_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_AWAKEN_REQ *pstOut = (PKT_CLIGS_OPEN_AWAKEN_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_AWAKEN_REQ(PKT_CLIGS_OPEN_AWAKEN_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_AWAKEN_REQ(Json::Value &root, PKT_CLIGS_OPEN_AWAKEN_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_AWAKEN_REQ(const string &strData, PKT_CLIGS_OPEN_AWAKEN_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_AWAKEN_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_AWAKEN_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_AWAKEN_ACK *pstIn = (PKT_CLIGS_OPEN_AWAKEN_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_AWAKEN_DATA(&pstIn->stAwakenInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwAwakenCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwStudyClipColorExp))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GRID_STUDY_CLIP_NUM; i++)
	{
		if(-1 == poNetData->AddByte(pstIn->abyGridStudyClipColor[i]))
			return -1;
	}

	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awPickupStudyClipNum[i]))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_AWAKEN_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_AWAKEN_ACK *pstOut = (PKT_CLIGS_OPEN_AWAKEN_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_AWAKEN_DATA(&pstOut->stAwakenInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwAwakenCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwStudyClipColorExp))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_GRID_STUDY_CLIP_NUM; i++)
	{
		if(-1 == poNetData->DelByte(pstOut->abyGridStudyClipColor[i]))
			return -1;
	}

	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awPickupStudyClipNum[i]))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_AWAKEN_ACK(PKT_CLIGS_OPEN_AWAKEN_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["AwakenInfo"]=GetJsonDT_AWAKEN_DATA(data.stAwakenInfo);
	root["AwakenCoin"]=data.dwAwakenCoin;
	root["StudyClipColorExp"]=data.dwStudyClipColorExp;
	for( UINT32 dwIndex=0; dwIndex<MAX_GRID_STUDY_CLIP_NUM; ++dwIndex)
	{
	root["GridStudyClipColor"].append( data.abyGridStudyClipColor[dwIndex]);
	}
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
	root["PickupStudyClipNum"].append( data.awPickupStudyClipNum[dwIndex]);
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_AWAKEN_ACK(Json::Value &root, PKT_CLIGS_OPEN_AWAKEN_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_AWAKEN_DATA(root["AwakenInfo"] , data.stAwakenInfo);
	data.dwAwakenCoin=root["AwakenCoin"].asUInt();
	data.dwStudyClipColorExp=root["StudyClipColorExp"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<MAX_GRID_STUDY_CLIP_NUM; ++dwIndex)
	{
		data.abyGridStudyClipColor[dwIndex]=BYTE(root["GridStudyClipColor"][dwIndex].asUInt() );
	}
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
		data.awPickupStudyClipNum[dwIndex]=WORD(root["PickupStudyClipNum"][dwIndex].asUInt() );
	}

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_AWAKEN_ACK(const string &strData, PKT_CLIGS_OPEN_AWAKEN_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_AWAKEN_ACK(root, data);
}
INT32 EncodePKT_CLIGS_AWAKEN_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_AWAKEN_REQ *pstIn = (PKT_CLIGS_AWAKEN_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_AWAKEN_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_AWAKEN_REQ *pstOut = (PKT_CLIGS_AWAKEN_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_AWAKEN_REQ(PKT_CLIGS_AWAKEN_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_AWAKEN_REQ(Json::Value &root, PKT_CLIGS_AWAKEN_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_AWAKEN_REQ(const string &strData, PKT_CLIGS_AWAKEN_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_AWAKEN_REQ(root, data);
}
INT32 EncodePKT_CLIGS_AWAKEN_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_AWAKEN_ACK *pstIn = (PKT_CLIGS_AWAKEN_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byAwakenLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byStudyColor))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwStudyExp))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwAwakenCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerCoin))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_AWAKEN_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_AWAKEN_ACK *pstOut = (PKT_CLIGS_AWAKEN_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byAwakenLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byStudyColor))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwStudyExp))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwAwakenCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerCoin))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_AWAKEN_ACK(PKT_CLIGS_AWAKEN_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["AwakenLevel"]=data.byAwakenLevel;
	root["StudyColor"]=data.byStudyColor;
	root["StudyExp"]=data.dwStudyExp;
	root["AwakenCoin"]=data.dwAwakenCoin;
	ostringstream ssqwPlayerCoin;
	ssqwPlayerCoin<<data.qwPlayerCoin;
	root["PlayerCoin"]=ssqwPlayerCoin.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_AWAKEN_ACK(Json::Value &root, PKT_CLIGS_AWAKEN_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byAwakenLevel=root["AwakenLevel"].asUInt();
	data.byStudyColor=root["StudyColor"].asUInt();
	data.dwStudyExp=root["StudyExp"].asUInt();
	data.dwAwakenCoin=root["AwakenCoin"].asUInt();
	data.qwPlayerCoin=SDAtou64( root["PlayerCoin"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_AWAKEN_ACK(const string &strData, PKT_CLIGS_AWAKEN_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_AWAKEN_ACK(root, data);
}
INT32 EncodePKT_CLIGS_PICKUP_STUDY_CLIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PICKUP_STUDY_CLIP_REQ *pstIn = (PKT_CLIGS_PICKUP_STUDY_CLIP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_PICKUP_STUDY_CLIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PICKUP_STUDY_CLIP_REQ *pstOut = (PKT_CLIGS_PICKUP_STUDY_CLIP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_PICKUP_STUDY_CLIP_REQ(PKT_CLIGS_PICKUP_STUDY_CLIP_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_PICKUP_STUDY_CLIP_REQ(Json::Value &root, PKT_CLIGS_PICKUP_STUDY_CLIP_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_PICKUP_STUDY_CLIP_REQ(const string &strData, PKT_CLIGS_PICKUP_STUDY_CLIP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_PICKUP_STUDY_CLIP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_PICKUP_STUDY_CLIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PICKUP_STUDY_CLIP_ACK *pstIn = (PKT_CLIGS_PICKUP_STUDY_CLIP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStudyExp))
		return -1;

	INT32 i;
	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awPickupStudyClipNum[i]))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_PICKUP_STUDY_CLIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_PICKUP_STUDY_CLIP_ACK *pstOut = (PKT_CLIGS_PICKUP_STUDY_CLIP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStudyExp))
		return -1;

	INT32 i;
	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awPickupStudyClipNum[i]))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_PICKUP_STUDY_CLIP_ACK(PKT_CLIGS_PICKUP_STUDY_CLIP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwStudyExp;
	ssqwStudyExp<<data.qwStudyExp;
	root["StudyExp"]=ssqwStudyExp.str();
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
	root["PickupStudyClipNum"].append( data.awPickupStudyClipNum[dwIndex]);
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_PICKUP_STUDY_CLIP_ACK(Json::Value &root, PKT_CLIGS_PICKUP_STUDY_CLIP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwStudyExp=SDAtou64( root["StudyExp"].asCString() );
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
		data.awPickupStudyClipNum[dwIndex]=WORD(root["PickupStudyClipNum"][dwIndex].asUInt() );
	}

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_PICKUP_STUDY_CLIP_ACK(const string &strData, PKT_CLIGS_PICKUP_STUDY_CLIP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_PICKUP_STUDY_CLIP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_STUDY_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_STUDY_REQ *pstIn = (PKT_CLIGS_OPEN_STUDY_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_STUDY_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_STUDY_REQ *pstOut = (PKT_CLIGS_OPEN_STUDY_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_STUDY_REQ(PKT_CLIGS_OPEN_STUDY_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_STUDY_REQ(Json::Value &root, PKT_CLIGS_OPEN_STUDY_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_STUDY_REQ(const string &strData, PKT_CLIGS_OPEN_STUDY_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_STUDY_REQ(root, data);
}
INT32 EncodeDT_STUDY_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_STUDY_DATA_CLI *pstIn = (DT_STUDY_DATA_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byKind))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byColor))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPos))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byAttrKind))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwAttrValue))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_STUDY_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_STUDY_DATA_CLI *pstOut = (DT_STUDY_DATA_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byKind))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byColor))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPos))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byAttrKind))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwAttrValue))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_STUDY_DATA_CLI(DT_STUDY_DATA_CLI &data)
{
	Json::Value root;
	root["Kind"]=data.byKind;
	root["Color"]=data.byColor;
	root["Level"]=data.byLevel;
	root["Pos"]=data.byPos;
	root["AttrKind"]=data.byAttrKind;
	root["AttrValue"]=data.dwAttrValue;

	return root;
}
BOOL FromJsonDT_STUDY_DATA_CLI(Json::Value &root, DT_STUDY_DATA_CLI &data)
{
	data.byKind=root["Kind"].asUInt();
	data.byColor=root["Color"].asUInt();
	data.byLevel=root["Level"].asUInt();
	data.byPos=root["Pos"].asUInt();
	data.byAttrKind=root["AttrKind"].asUInt();
	data.dwAttrValue=root["AttrValue"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_STUDY_DATA_CLI(const string &strData, DT_STUDY_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_STUDY_DATA_CLI(root, data);
}
INT32 EncodeDT_STUDY_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_STUDY_DATA_LST_CLI *pstIn = (DT_STUDY_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_STUDY_STORE_NUM; i++)
	{
		if(i >= (INT32)pstIn->byNum)
			break;
		if(-1 == EncodeDT_STUDY_DATA_CLI(&pstIn->astStudyLst[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_STUDY_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_STUDY_DATA_LST_CLI *pstOut = (DT_STUDY_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_STUDY_STORE_NUM; i++)
	{
		if(i >= (INT32)pstOut->byNum)
			break;
		if(-1 == DecodeDT_STUDY_DATA_CLI(&pstOut->astStudyLst[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_STUDY_DATA_LST_CLI(DT_STUDY_DATA_LST_CLI &data)
{
	Json::Value root;
	root["Num"]=data.byNum;
	for( UINT32 dwIndex=0; dwIndex<data.byNum; ++dwIndex)
	{
	root["StudyLst"].append( GetJsonDT_STUDY_DATA_CLI(data.astStudyLst[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_STUDY_DATA_LST_CLI(Json::Value &root, DT_STUDY_DATA_LST_CLI &data)
{
	data.byNum=root["Num"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byNum; ++dwIndex)
	{
		FromJsonDT_STUDY_DATA_CLI(root["StudyLst"][dwIndex] , data.astStudyLst[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_STUDY_DATA_LST_CLI(const string &strData, DT_STUDY_DATA_LST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_STUDY_DATA_LST_CLI(root, data);
}
INT32 EncodeDT_HERO_STUDY_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_STUDY_DATA_CLI *pstIn = (DT_HERO_STUDY_DATA_CLI*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroID))
		return -1;

	if(-1 == EncodeDT_STUDY_DATA_LST_CLI(&pstIn->stStudyInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_STUDY_DATA_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_STUDY_DATA_CLI *pstOut = (DT_HERO_STUDY_DATA_CLI*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroID))
		return -1;

	if(-1 == DecodeDT_STUDY_DATA_LST_CLI(&pstOut->stStudyInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_STUDY_DATA_CLI(DT_HERO_STUDY_DATA_CLI &data)
{
	Json::Value root;
	root["HeroID"]=data.wHeroID;
	root["StudyInfo"]=GetJsonDT_STUDY_DATA_LST_CLI(data.stStudyInfo);

	return root;
}
BOOL FromJsonDT_HERO_STUDY_DATA_CLI(Json::Value &root, DT_HERO_STUDY_DATA_CLI &data)
{
	data.wHeroID=root["HeroID"].asUInt();
	FromJsonDT_STUDY_DATA_LST_CLI(root["StudyInfo"] , data.stStudyInfo);

	return TRUE;
}
BOOL FromJsonDT_HERO_STUDY_DATA_CLI(const string &strData, DT_HERO_STUDY_DATA_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_STUDY_DATA_CLI(root, data);
}
INT32 EncodeDT_HERO_STUDY_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_STUDY_DATA_LST_CLI *pstIn = (DT_HERO_STUDY_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstIn->byNum)
			break;
		if(-1 == EncodeDT_HERO_STUDY_DATA_CLI(&pstIn->astHeroStudyLst[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeDT_HERO_STUDY_DATA_LST_CLI(void *pHost, CNetData* poNetData)
{
	DT_HERO_STUDY_DATA_LST_CLI *pstOut = (DT_HERO_STUDY_DATA_LST_CLI*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_FORMATION_IDX_NUM; i++)
	{
		if(i >= (INT32)pstOut->byNum)
			break;
		if(-1 == DecodeDT_HERO_STUDY_DATA_CLI(&pstOut->astHeroStudyLst[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_HERO_STUDY_DATA_LST_CLI(DT_HERO_STUDY_DATA_LST_CLI &data)
{
	Json::Value root;
	root["Num"]=data.byNum;
	for( UINT32 dwIndex=0; dwIndex<data.byNum; ++dwIndex)
	{
	root["HeroStudyLst"].append( GetJsonDT_HERO_STUDY_DATA_CLI(data.astHeroStudyLst[dwIndex]) );
	}

	return root;
}
BOOL FromJsonDT_HERO_STUDY_DATA_LST_CLI(Json::Value &root, DT_HERO_STUDY_DATA_LST_CLI &data)
{
	data.byNum=root["Num"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byNum; ++dwIndex)
	{
		FromJsonDT_HERO_STUDY_DATA_CLI(root["HeroStudyLst"][dwIndex] , data.astHeroStudyLst[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonDT_HERO_STUDY_DATA_LST_CLI(const string &strData, DT_HERO_STUDY_DATA_LST_CLI &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_HERO_STUDY_DATA_LST_CLI(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_STUDY_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_STUDY_ACK *pstIn = (PKT_CLIGS_OPEN_STUDY_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStudyExp))
		return -1;

	INT32 i;
	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awPickupStudyClipNum[i]))
			return -1;
	}

	if(-1 == EncodeDT_STUDY_DATA_LST_CLI(&pstIn->stStoreStudyInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_HERO_STUDY_DATA_LST_CLI(&pstIn->stHeroStudyInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_STUDY_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_STUDY_ACK *pstOut = (PKT_CLIGS_OPEN_STUDY_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStudyExp))
		return -1;

	INT32 i;
	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awPickupStudyClipNum[i]))
			return -1;
	}

	if(-1 == DecodeDT_STUDY_DATA_LST_CLI(&pstOut->stStoreStudyInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_HERO_STUDY_DATA_LST_CLI(&pstOut->stHeroStudyInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_STUDY_ACK(PKT_CLIGS_OPEN_STUDY_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwStudyExp;
	ssqwStudyExp<<data.qwStudyExp;
	root["StudyExp"]=ssqwStudyExp.str();
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
	root["PickupStudyClipNum"].append( data.awPickupStudyClipNum[dwIndex]);
	}
	root["StoreStudyInfo"]=GetJsonDT_STUDY_DATA_LST_CLI(data.stStoreStudyInfo);
	root["HeroStudyInfo"]=GetJsonDT_HERO_STUDY_DATA_LST_CLI(data.stHeroStudyInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_STUDY_ACK(Json::Value &root, PKT_CLIGS_OPEN_STUDY_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwStudyExp=SDAtou64( root["StudyExp"].asCString() );
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
		data.awPickupStudyClipNum[dwIndex]=WORD(root["PickupStudyClipNum"][dwIndex].asUInt() );
	}
	FromJsonDT_STUDY_DATA_LST_CLI(root["StoreStudyInfo"] , data.stStoreStudyInfo);
	FromJsonDT_HERO_STUDY_DATA_LST_CLI(root["HeroStudyInfo"] , data.stHeroStudyInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_STUDY_ACK(const string &strData, PKT_CLIGS_OPEN_STUDY_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_STUDY_ACK(root, data);
}
INT32 EncodePKT_CLIGS_DRESS_STUDY_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRESS_STUDY_REQ *pstIn = (PKT_CLIGS_DRESS_STUDY_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byOpPos))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byDressType))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySrcPos))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byDstPos))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DRESS_STUDY_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRESS_STUDY_REQ *pstOut = (PKT_CLIGS_DRESS_STUDY_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byOpPos))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byDressType))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySrcPos))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byDstPos))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DRESS_STUDY_REQ(PKT_CLIGS_DRESS_STUDY_REQ &data)
{
	Json::Value root;
	root["OpPos"]=data.byOpPos;
	root["HeroKindID"]=data.wHeroKindID;
	root["DressType"]=data.byDressType;
	root["SrcPos"]=data.bySrcPos;
	root["DstPos"]=data.byDstPos;

	return root;
}
BOOL FromJsonPKT_CLIGS_DRESS_STUDY_REQ(Json::Value &root, PKT_CLIGS_DRESS_STUDY_REQ &data)
{
	data.byOpPos=root["OpPos"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byDressType=root["DressType"].asUInt();
	data.bySrcPos=root["SrcPos"].asUInt();
	data.byDstPos=root["DstPos"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DRESS_STUDY_REQ(const string &strData, PKT_CLIGS_DRESS_STUDY_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DRESS_STUDY_REQ(root, data);
}
INT32 EncodePKT_CLIGS_DRESS_STUDY_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRESS_STUDY_ACK *pstIn = (PKT_CLIGS_DRESS_STUDY_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byDressType))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySrcPos))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byDstPos))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DRESS_STUDY_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRESS_STUDY_ACK *pstOut = (PKT_CLIGS_DRESS_STUDY_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byDressType))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySrcPos))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byDstPos))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DRESS_STUDY_ACK(PKT_CLIGS_DRESS_STUDY_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroKindID"]=data.wHeroKindID;
	root["DressType"]=data.byDressType;
	root["SrcPos"]=data.bySrcPos;
	root["DstPos"]=data.byDstPos;

	return root;
}
BOOL FromJsonPKT_CLIGS_DRESS_STUDY_ACK(Json::Value &root, PKT_CLIGS_DRESS_STUDY_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byDressType=root["DressType"].asUInt();
	data.bySrcPos=root["SrcPos"].asUInt();
	data.byDstPos=root["DstPos"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DRESS_STUDY_ACK(const string &strData, PKT_CLIGS_DRESS_STUDY_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DRESS_STUDY_ACK(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_CLIP_TO_EXP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ *pstIn = (PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byColor))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_CLIP_TO_EXP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ *pstOut = (PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byColor))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_CLIP_TO_EXP_REQ(PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ &data)
{
	Json::Value root;
	root["Color"]=data.byColor;
	root["Num"]=data.wNum;

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_CLIP_TO_EXP_REQ(Json::Value &root, PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ &data)
{
	data.byColor=root["Color"].asUInt();
	data.wNum=root["Num"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_CLIP_TO_EXP_REQ(const string &strData, PKT_CLIGS_STUDY_CLIP_TO_EXP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_CLIP_TO_EXP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_CLIP_TO_EXP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK *pstIn = (PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStudyExp))
		return -1;

	INT32 i;
	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awPickupStudyClipNum[i]))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_CLIP_TO_EXP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK *pstOut = (PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStudyExp))
		return -1;

	INT32 i;
	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awPickupStudyClipNum[i]))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_CLIP_TO_EXP_ACK(PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwStudyExp;
	ssqwStudyExp<<data.qwStudyExp;
	root["StudyExp"]=ssqwStudyExp.str();
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
	root["PickupStudyClipNum"].append( data.awPickupStudyClipNum[dwIndex]);
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_CLIP_TO_EXP_ACK(Json::Value &root, PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwStudyExp=SDAtou64( root["StudyExp"].asCString() );
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
		data.awPickupStudyClipNum[dwIndex]=WORD(root["PickupStudyClipNum"][dwIndex].asUInt() );
	}

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_CLIP_TO_EXP_ACK(const string &strData, PKT_CLIGS_STUDY_CLIP_TO_EXP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_CLIP_TO_EXP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_TO_EXP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_TO_EXP_REQ *pstIn = (PKT_CLIGS_STUDY_TO_EXP_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPosIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_TO_EXP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_TO_EXP_REQ *pstOut = (PKT_CLIGS_STUDY_TO_EXP_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPosIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_TO_EXP_REQ(PKT_CLIGS_STUDY_TO_EXP_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["PosIdx"]=data.byPosIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_TO_EXP_REQ(Json::Value &root, PKT_CLIGS_STUDY_TO_EXP_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byPosIdx=root["PosIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_TO_EXP_REQ(const string &strData, PKT_CLIGS_STUDY_TO_EXP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_TO_EXP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_TO_EXP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_TO_EXP_ACK *pstIn = (PKT_CLIGS_STUDY_TO_EXP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPosIdx))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStudyExp))
		return -1;

	INT32 i;
	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awPickupStudyClipNum[i]))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byHeroStudyFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstIn->byHeroStudyFlag)
			break;
		if(-1 == EncodeDT_STUDY_DATA_LST_CLI(&pstIn->astHeroStudyInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_TO_EXP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_TO_EXP_ACK *pstOut = (PKT_CLIGS_STUDY_TO_EXP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPosIdx))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStudyExp))
		return -1;

	INT32 i;
	for(i = 0; i < STUDY_COLOR_NUM; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awPickupStudyClipNum[i]))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byHeroStudyFlag))
		return -1;

	for(i = 0; i < 1; i++)
	{
		if(i >= (INT32)pstOut->byHeroStudyFlag)
			break;
		if(-1 == DecodeDT_STUDY_DATA_LST_CLI(&pstOut->astHeroStudyInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_TO_EXP_ACK(PKT_CLIGS_STUDY_TO_EXP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroKindID"]=data.wHeroKindID;
	root["PosIdx"]=data.byPosIdx;
	ostringstream ssqwStudyExp;
	ssqwStudyExp<<data.qwStudyExp;
	root["StudyExp"]=ssqwStudyExp.str();
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
	root["PickupStudyClipNum"].append( data.awPickupStudyClipNum[dwIndex]);
	}
	root["HeroStudyFlag"]=data.byHeroStudyFlag;
	for( UINT32 dwIndex=0; dwIndex<data.byHeroStudyFlag; ++dwIndex)
	{
	root["HeroStudyInfo"].append( GetJsonDT_STUDY_DATA_LST_CLI(data.astHeroStudyInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_TO_EXP_ACK(Json::Value &root, PKT_CLIGS_STUDY_TO_EXP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byPosIdx=root["PosIdx"].asUInt();
	data.qwStudyExp=SDAtou64( root["StudyExp"].asCString() );
	for( UINT32 dwIndex=0; dwIndex<STUDY_COLOR_NUM; ++dwIndex)
	{
		data.awPickupStudyClipNum[dwIndex]=WORD(root["PickupStudyClipNum"][dwIndex].asUInt() );
	}
	data.byHeroStudyFlag=root["HeroStudyFlag"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHeroStudyFlag; ++dwIndex)
	{
		FromJsonDT_STUDY_DATA_LST_CLI(root["HeroStudyInfo"][dwIndex] , data.astHeroStudyInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_TO_EXP_ACK(const string &strData, PKT_CLIGS_STUDY_TO_EXP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_TO_EXP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_STUDY_CONVERT_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_STUDY_CONVERT_REQ *pstIn = (PKT_CLIGS_OPEN_STUDY_CONVERT_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_STUDY_CONVERT_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_STUDY_CONVERT_REQ *pstOut = (PKT_CLIGS_OPEN_STUDY_CONVERT_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_STUDY_CONVERT_REQ(PKT_CLIGS_OPEN_STUDY_CONVERT_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_STUDY_CONVERT_REQ(Json::Value &root, PKT_CLIGS_OPEN_STUDY_CONVERT_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_STUDY_CONVERT_REQ(const string &strData, PKT_CLIGS_OPEN_STUDY_CONVERT_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_STUDY_CONVERT_REQ(root, data);
}
INT32 EncodeDT_STUDY_CFG_DATA(void *pHost, CNetData* poNetData)
{
	DT_STUDY_CFG_DATA *pstIn = (DT_STUDY_CFG_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byKind))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byColor))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byAttrKind))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwAttrValue))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwIncAttrValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wNeedClipNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_STUDY_CFG_DATA(void *pHost, CNetData* poNetData)
{
	DT_STUDY_CFG_DATA *pstOut = (DT_STUDY_CFG_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byKind))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byColor))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byAttrKind))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwAttrValue))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwIncAttrValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wNeedClipNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_STUDY_CFG_DATA(DT_STUDY_CFG_DATA &data)
{
	Json::Value root;
	root["Kind"]=data.byKind;
	root["Color"]=data.byColor;
	root["AttrKind"]=data.byAttrKind;
	root["AttrValue"]=data.dwAttrValue;
	root["IncAttrValue"]=data.dwIncAttrValue;
	root["NeedClipNum"]=data.wNeedClipNum;

	return root;
}
BOOL FromJsonDT_STUDY_CFG_DATA(Json::Value &root, DT_STUDY_CFG_DATA &data)
{
	data.byKind=root["Kind"].asUInt();
	data.byColor=root["Color"].asUInt();
	data.byAttrKind=root["AttrKind"].asUInt();
	data.dwAttrValue=root["AttrValue"].asUInt();
	data.dwIncAttrValue=root["IncAttrValue"].asUInt();
	data.wNeedClipNum=root["NeedClipNum"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_STUDY_CFG_DATA(const string &strData, DT_STUDY_CFG_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_STUDY_CFG_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_STUDY_CONVERT_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_STUDY_CONVERT_ACK *pstIn = (PKT_CLIGS_OPEN_STUDY_CONVERT_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_STUDY_KIND_NUM; i++)
	{
		if(-1 == EncodeDT_STUDY_CFG_DATA(&pstIn->astStudyCfgInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_STUDY_CONVERT_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_STUDY_CONVERT_ACK *pstOut = (PKT_CLIGS_OPEN_STUDY_CONVERT_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	INT32 i;
		for(i = 0; i < MAX_STUDY_KIND_NUM; i++)
		{
			if(-1 == DecodeDT_STUDY_CFG_DATA(&pstOut->astStudyCfgInfo[i], poNetData))
				return -1;
		}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_STUDY_CONVERT_ACK(PKT_CLIGS_OPEN_STUDY_CONVERT_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	for( UINT32 dwIndex=0; dwIndex<MAX_STUDY_KIND_NUM; ++dwIndex)
	{
	root["StudyCfgInfo"].append( GetJsonDT_STUDY_CFG_DATA(data.astStudyCfgInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_STUDY_CONVERT_ACK(Json::Value &root, PKT_CLIGS_OPEN_STUDY_CONVERT_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<MAX_STUDY_KIND_NUM; ++dwIndex)
	{
		FromJsonDT_STUDY_CFG_DATA(root["StudyCfgInfo"][dwIndex] , data.astStudyCfgInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_STUDY_CONVERT_ACK(const string &strData, PKT_CLIGS_OPEN_STUDY_CONVERT_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_STUDY_CONVERT_ACK(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_CONVERT_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CONVERT_REQ *pstIn = (PKT_CLIGS_STUDY_CONVERT_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byKind))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byColor))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_CONVERT_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CONVERT_REQ *pstOut = (PKT_CLIGS_STUDY_CONVERT_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byKind))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byColor))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_CONVERT_REQ(PKT_CLIGS_STUDY_CONVERT_REQ &data)
{
	Json::Value root;
	root["Kind"]=data.byKind;
	root["Color"]=data.byColor;

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_CONVERT_REQ(Json::Value &root, PKT_CLIGS_STUDY_CONVERT_REQ &data)
{
	data.byKind=root["Kind"].asUInt();
	data.byColor=root["Color"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_CONVERT_REQ(const string &strData, PKT_CLIGS_STUDY_CONVERT_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_CONVERT_REQ(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_CONVERT_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CONVERT_ACK *pstIn = (PKT_CLIGS_STUDY_CONVERT_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_CONVERT_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CONVERT_ACK *pstOut = (PKT_CLIGS_STUDY_CONVERT_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_CONVERT_ACK(PKT_CLIGS_STUDY_CONVERT_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_CONVERT_ACK(Json::Value &root, PKT_CLIGS_STUDY_CONVERT_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_CONVERT_ACK(const string &strData, PKT_CLIGS_STUDY_CONVERT_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_CONVERT_ACK(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ *pstIn = (PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->bySellectFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ *pstOut = (PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->bySellectFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ(PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ &data)
{
	Json::Value root;
	root["SellectFlag"]=data.bySellectFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ(Json::Value &root, PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ &data)
{
	data.bySellectFlag=root["SellectFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ(const string &strData, PKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_CLIP_AUTO2EXP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK *pstIn = (PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySellectFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK *pstOut = (PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySellectFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK(PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["SellectFlag"]=data.bySellectFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK(Json::Value &root, PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.bySellectFlag=root["SellectFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK(const string &strData, PKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_CLIP_AUTO2EXP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_UPGRADE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_UPGRADE_REQ *pstIn = (PKT_CLIGS_STUDY_UPGRADE_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPos))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byLevel))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_UPGRADE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_UPGRADE_REQ *pstOut = (PKT_CLIGS_STUDY_UPGRADE_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPos))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byLevel))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_UPGRADE_REQ(PKT_CLIGS_STUDY_UPGRADE_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["Pos"]=data.byPos;
	root["Level"]=data.byLevel;

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_UPGRADE_REQ(Json::Value &root, PKT_CLIGS_STUDY_UPGRADE_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byPos=root["Pos"].asUInt();
	data.byLevel=root["Level"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_UPGRADE_REQ(const string &strData, PKT_CLIGS_STUDY_UPGRADE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_UPGRADE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_STUDY_UPGRADE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_UPGRADE_ACK *pstIn = (PKT_CLIGS_STUDY_UPGRADE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byPos))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byLevel))
		return -1;

	if(-1 == EncodeDT_HERO_STUDY_DATA_CLI(&pstIn->stHeroStudyInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_STUDY_UPGRADE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_STUDY_UPGRADE_ACK *pstOut = (PKT_CLIGS_STUDY_UPGRADE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byPos))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byLevel))
		return -1;

	if(-1 == DecodeDT_HERO_STUDY_DATA_CLI(&pstOut->stHeroStudyInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_STUDY_UPGRADE_ACK(PKT_CLIGS_STUDY_UPGRADE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroKindID"]=data.wHeroKindID;
	root["Pos"]=data.byPos;
	root["Level"]=data.byLevel;
	root["HeroStudyInfo"]=GetJsonDT_HERO_STUDY_DATA_CLI(data.stHeroStudyInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_STUDY_UPGRADE_ACK(Json::Value &root, PKT_CLIGS_STUDY_UPGRADE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byPos=root["Pos"].asUInt();
	data.byLevel=root["Level"].asUInt();
	FromJsonDT_HERO_STUDY_DATA_CLI(root["HeroStudyInfo"] , data.stHeroStudyInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_STUDY_UPGRADE_ACK(const string &strData, PKT_CLIGS_STUDY_UPGRADE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_STUDY_UPGRADE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_RACE_BATTLELOG_NTF(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RACE_BATTLELOG_NTF *pstIn = (PKT_CLIGS_RACE_BATTLELOG_NTF*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byUnreadNum))
		return -1;

	if(-1 == EncodeDT_RACE_BATTLELOG_DATA_CLI(&pstIn->stBattleLog, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwPlayerScience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RACE_BATTLELOG_NTF(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RACE_BATTLELOG_NTF *pstOut = (PKT_CLIGS_RACE_BATTLELOG_NTF*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byUnreadNum))
		return -1;

	if(-1 == DecodeDT_RACE_BATTLELOG_DATA_CLI(&pstOut->stBattleLog, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwPlayerScience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RACE_BATTLELOG_NTF(PKT_CLIGS_RACE_BATTLELOG_NTF &data)
{
	Json::Value root;
	root["UnreadNum"]=data.byUnreadNum;
	root["BattleLog"]=GetJsonDT_RACE_BATTLELOG_DATA_CLI(data.stBattleLog);
	ostringstream ssqwPlayerCoin;
	ssqwPlayerCoin<<data.qwPlayerCoin;
	root["PlayerCoin"]=ssqwPlayerCoin.str();
	ostringstream ssqwPlayerScience;
	ssqwPlayerScience<<data.qwPlayerScience;
	root["PlayerScience"]=ssqwPlayerScience.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_RACE_BATTLELOG_NTF(Json::Value &root, PKT_CLIGS_RACE_BATTLELOG_NTF &data)
{
	data.byUnreadNum=root["UnreadNum"].asUInt();
	FromJsonDT_RACE_BATTLELOG_DATA_CLI(root["BattleLog"] , data.stBattleLog);
	data.qwPlayerCoin=SDAtou64( root["PlayerCoin"].asCString() );
	data.qwPlayerScience=SDAtou64( root["PlayerScience"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RACE_BATTLELOG_NTF(const string &strData, PKT_CLIGS_RACE_BATTLELOG_NTF &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RACE_BATTLELOG_NTF(root, data);
}
INT32 EncodeDT_LOCK_SKILL_DATA(void *pHost, CNetData* poNetData)
{
	DT_LOCK_SKILL_DATA *pstIn = (DT_LOCK_SKILL_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wSkillID))
		return -1;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stUnlockInstanceID, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_LOCK_SKILL_DATA(void *pHost, CNetData* poNetData)
{
	DT_LOCK_SKILL_DATA *pstOut = (DT_LOCK_SKILL_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wSkillID))
		return -1;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stUnlockInstanceID, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_LOCK_SKILL_DATA(DT_LOCK_SKILL_DATA &data)
{
	Json::Value root;
	root["SkillID"]=data.wSkillID;
	root["UnlockInstanceID"]=GetJsonDT_INSTANCE_ID(data.stUnlockInstanceID);

	return root;
}
BOOL FromJsonDT_LOCK_SKILL_DATA(Json::Value &root, DT_LOCK_SKILL_DATA &data)
{
	data.wSkillID=root["SkillID"].asUInt();
	FromJsonDT_INSTANCE_ID(root["UnlockInstanceID"] , data.stUnlockInstanceID);

	return TRUE;
}
BOOL FromJsonDT_LOCK_SKILL_DATA(const string &strData, DT_LOCK_SKILL_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_LOCK_SKILL_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SKILL_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SKILL_TAB_REQ *pstIn = (PKT_CLIGS_OPEN_SKILL_TAB_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SKILL_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SKILL_TAB_REQ *pstOut = (PKT_CLIGS_OPEN_SKILL_TAB_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SKILL_TAB_REQ(PKT_CLIGS_OPEN_SKILL_TAB_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SKILL_TAB_REQ(Json::Value &root, PKT_CLIGS_OPEN_SKILL_TAB_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SKILL_TAB_REQ(const string &strData, PKT_CLIGS_OPEN_SKILL_TAB_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SKILL_TAB_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SKILL_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SKILL_TAB_ACK *pstIn = (PKT_CLIGS_OPEN_SKILL_TAB_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCoachTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCoachSkillTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTrainNormalTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTrainRareTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurNormalCardNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurRareCardNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySkillNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SKILL_NUM; i++)
	{
		if(i >= (INT32)pstIn->bySkillNum)
			break;
		if(-1 == EncodeDT_SKILL_DATA_CLI(&pstIn->astSkillInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byLockSkillNum))
		return -1;

	for(i = 0; i < MAX_SKILL_NUM; i++)
	{
		if(i >= (INT32)pstIn->byLockSkillNum)
			break;
		if(-1 == EncodeDT_LOCK_SKILL_DATA(&pstIn->astLockSkillInfo[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SKILL_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SKILL_TAB_ACK *pstOut = (PKT_CLIGS_OPEN_SKILL_TAB_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCoachTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCoachSkillTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTrainNormalTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTrainRareTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurNormalCardNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurRareCardNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySkillNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SKILL_NUM; i++)
	{
		if(i >= (INT32)pstOut->bySkillNum)
			break;
		if(-1 == DecodeDT_SKILL_DATA_CLI(&pstOut->astSkillInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byLockSkillNum))
		return -1;

	for(i = 0; i < MAX_SKILL_NUM; i++)
	{
		if(i >= (INT32)pstOut->byLockSkillNum)
			break;
		if(-1 == DecodeDT_LOCK_SKILL_DATA(&pstOut->astLockSkillInfo[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SKILL_TAB_ACK(PKT_CLIGS_OPEN_SKILL_TAB_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CoachTalent"]=data.wCoachTalent;
	root["CoachSkillTalent"]=data.wCoachSkillTalent;
	root["TrainNormalTalent"]=data.wTrainNormalTalent;
	root["TrainRareTalent"]=data.wTrainRareTalent;
	root["CurNormalCardNum"]=data.wCurNormalCardNum;
	root["CurRareCardNum"]=data.wCurRareCardNum;
	root["SkillNum"]=data.bySkillNum;
	for( UINT32 dwIndex=0; dwIndex<data.bySkillNum; ++dwIndex)
	{
	root["SkillInfo"].append( GetJsonDT_SKILL_DATA_CLI(data.astSkillInfo[dwIndex]) );
	}
	root["LockSkillNum"]=data.byLockSkillNum;
	for( UINT32 dwIndex=0; dwIndex<data.byLockSkillNum; ++dwIndex)
	{
	root["LockSkillInfo"].append( GetJsonDT_LOCK_SKILL_DATA(data.astLockSkillInfo[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SKILL_TAB_ACK(Json::Value &root, PKT_CLIGS_OPEN_SKILL_TAB_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wCoachTalent=root["CoachTalent"].asUInt();
	data.wCoachSkillTalent=root["CoachSkillTalent"].asUInt();
	data.wTrainNormalTalent=root["TrainNormalTalent"].asUInt();
	data.wTrainRareTalent=root["TrainRareTalent"].asUInt();
	data.wCurNormalCardNum=root["CurNormalCardNum"].asUInt();
	data.wCurRareCardNum=root["CurRareCardNum"].asUInt();
	data.bySkillNum=root["SkillNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.bySkillNum; ++dwIndex)
	{
		FromJsonDT_SKILL_DATA_CLI(root["SkillInfo"][dwIndex] , data.astSkillInfo[dwIndex] );
	}	data.byLockSkillNum=root["LockSkillNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byLockSkillNum; ++dwIndex)
	{
		FromJsonDT_LOCK_SKILL_DATA(root["LockSkillInfo"][dwIndex] , data.astLockSkillInfo[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SKILL_TAB_ACK(const string &strData, PKT_CLIGS_OPEN_SKILL_TAB_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SKILL_TAB_ACK(root, data);
}
INT32 EncodePKT_CLIGS_UPGRADE_SKILL_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_SKILL_REQ *pstIn = (PKT_CLIGS_UPGRADE_SKILL_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wSkillID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPGRADE_SKILL_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_SKILL_REQ *pstOut = (PKT_CLIGS_UPGRADE_SKILL_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wSkillID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPGRADE_SKILL_REQ(PKT_CLIGS_UPGRADE_SKILL_REQ &data)
{
	Json::Value root;
	root["SkillID"]=data.wSkillID;

	return root;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_SKILL_REQ(Json::Value &root, PKT_CLIGS_UPGRADE_SKILL_REQ &data)
{
	data.wSkillID=root["SkillID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_SKILL_REQ(const string &strData, PKT_CLIGS_UPGRADE_SKILL_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPGRADE_SKILL_REQ(root, data);
}
INT32 EncodePKT_CLIGS_UPGRADE_SKILL_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_SKILL_ACK *pstIn = (PKT_CLIGS_UPGRADE_SKILL_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCoachTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCoachSkillTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurNormalCardNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurRareCardNum))
		return -1;

	if(-1 == EncodeDT_SKILL_DATA_CLI(&pstIn->stSkillInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPGRADE_SKILL_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_SKILL_ACK *pstOut = (PKT_CLIGS_UPGRADE_SKILL_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCoachTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCoachSkillTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurNormalCardNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurRareCardNum))
		return -1;

	if(-1 == DecodeDT_SKILL_DATA_CLI(&pstOut->stSkillInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPGRADE_SKILL_ACK(PKT_CLIGS_UPGRADE_SKILL_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CoachTalent"]=data.wCoachTalent;
	root["CoachSkillTalent"]=data.wCoachSkillTalent;
	root["CurNormalCardNum"]=data.wCurNormalCardNum;
	root["CurRareCardNum"]=data.wCurRareCardNum;
	root["SkillInfo"]=GetJsonDT_SKILL_DATA_CLI(data.stSkillInfo);
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_SKILL_ACK(Json::Value &root, PKT_CLIGS_UPGRADE_SKILL_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wCoachTalent=root["CoachTalent"].asUInt();
	data.wCoachSkillTalent=root["CoachSkillTalent"].asUInt();
	data.wCurNormalCardNum=root["CurNormalCardNum"].asUInt();
	data.wCurRareCardNum=root["CurRareCardNum"].asUInt();
	FromJsonDT_SKILL_DATA_CLI(root["SkillInfo"] , data.stSkillInfo);
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_SKILL_ACK(const string &strData, PKT_CLIGS_UPGRADE_SKILL_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPGRADE_SKILL_ACK(root, data);
}
INT32 EncodePKT_CLIGS_DRESS_SKILL_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRESS_SKILL_REQ *pstIn = (PKT_CLIGS_DRESS_SKILL_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wSkillID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wSkillLevel))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DRESS_SKILL_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRESS_SKILL_REQ *pstOut = (PKT_CLIGS_DRESS_SKILL_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wSkillID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wSkillLevel))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DRESS_SKILL_REQ(PKT_CLIGS_DRESS_SKILL_REQ &data)
{
	Json::Value root;
	root["HeroID"]=data.wHeroID;
	root["SkillID"]=data.wSkillID;
	root["SkillLevel"]=data.wSkillLevel;

	return root;
}
BOOL FromJsonPKT_CLIGS_DRESS_SKILL_REQ(Json::Value &root, PKT_CLIGS_DRESS_SKILL_REQ &data)
{
	data.wHeroID=root["HeroID"].asUInt();
	data.wSkillID=root["SkillID"].asUInt();
	data.wSkillLevel=root["SkillLevel"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DRESS_SKILL_REQ(const string &strData, PKT_CLIGS_DRESS_SKILL_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DRESS_SKILL_REQ(root, data);
}
INT32 EncodePKT_CLIGS_DRESS_SKILL_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRESS_SKILL_ACK *pstIn = (PKT_CLIGS_DRESS_SKILL_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DRESS_SKILL_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRESS_SKILL_ACK *pstOut = (PKT_CLIGS_DRESS_SKILL_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DRESS_SKILL_ACK(PKT_CLIGS_DRESS_SKILL_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;

	return root;
}
BOOL FromJsonPKT_CLIGS_DRESS_SKILL_ACK(Json::Value &root, PKT_CLIGS_DRESS_SKILL_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DRESS_SKILL_ACK(const string &strData, PKT_CLIGS_DRESS_SKILL_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DRESS_SKILL_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ *pstIn = (PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ *pstOut = (PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ(PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ(Json::Value &root, PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ(const string &strData, PKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SKILL_CARD_MAKER_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK *pstIn = (PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurNormalCardNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurRareCardMakerNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wNeedNormalCardNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byMakerRate))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK *pstOut = (PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurNormalCardNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurRareCardMakerNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wNeedNormalCardNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byMakerRate))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK(PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CurNormalCardNum"]=data.wCurNormalCardNum;
	root["CurRareCardMakerNum"]=data.wCurRareCardMakerNum;
	root["NeedNormalCardNum"]=data.wNeedNormalCardNum;
	root["MakerRate"]=data.byMakerRate;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK(Json::Value &root, PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wCurNormalCardNum=root["CurNormalCardNum"].asUInt();
	data.wCurRareCardMakerNum=root["CurRareCardMakerNum"].asUInt();
	data.wNeedNormalCardNum=root["NeedNormalCardNum"].asUInt();
	data.byMakerRate=root["MakerRate"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK(const string &strData, PKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SKILL_CARD_MAKER_ACK(root, data);
}
INT32 EncodePKT_CLIGS_MAKER_SKILL_CARD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MAKER_SKILL_CARD_REQ *pstIn = (PKT_CLIGS_MAKER_SKILL_CARD_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_MAKER_SKILL_CARD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MAKER_SKILL_CARD_REQ *pstOut = (PKT_CLIGS_MAKER_SKILL_CARD_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_MAKER_SKILL_CARD_REQ(PKT_CLIGS_MAKER_SKILL_CARD_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_MAKER_SKILL_CARD_REQ(Json::Value &root, PKT_CLIGS_MAKER_SKILL_CARD_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_MAKER_SKILL_CARD_REQ(const string &strData, PKT_CLIGS_MAKER_SKILL_CARD_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_MAKER_SKILL_CARD_REQ(root, data);
}
INT32 EncodePKT_CLIGS_MAKER_SKILL_CARD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MAKER_SKILL_CARD_ACK *pstIn = (PKT_CLIGS_MAKER_SKILL_CARD_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurNormalCardNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurRareCardNum))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurRareCardMakerNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_MAKER_SKILL_CARD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MAKER_SKILL_CARD_ACK *pstOut = (PKT_CLIGS_MAKER_SKILL_CARD_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurNormalCardNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurRareCardNum))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurRareCardMakerNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_MAKER_SKILL_CARD_ACK(PKT_CLIGS_MAKER_SKILL_CARD_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CurNormalCardNum"]=data.wCurNormalCardNum;
	root["CurRareCardNum"]=data.wCurRareCardNum;
	root["CurRareCardMakerNum"]=data.wCurRareCardMakerNum;

	return root;
}
BOOL FromJsonPKT_CLIGS_MAKER_SKILL_CARD_ACK(Json::Value &root, PKT_CLIGS_MAKER_SKILL_CARD_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wCurNormalCardNum=root["CurNormalCardNum"].asUInt();
	data.wCurRareCardNum=root["CurRareCardNum"].asUInt();
	data.wCurRareCardMakerNum=root["CurRareCardMakerNum"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_MAKER_SKILL_CARD_ACK(const string &strData, PKT_CLIGS_MAKER_SKILL_CARD_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_MAKER_SKILL_CARD_ACK(root, data);
}
INT32 EncodePKT_CLIGS_BUY_PHYSTRENGTH_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BUY_PHYSTRENGTH_REQ *pstIn = (PKT_CLIGS_BUY_PHYSTRENGTH_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_BUY_PHYSTRENGTH_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BUY_PHYSTRENGTH_REQ *pstOut = (PKT_CLIGS_BUY_PHYSTRENGTH_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_BUY_PHYSTRENGTH_REQ(PKT_CLIGS_BUY_PHYSTRENGTH_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_BUY_PHYSTRENGTH_REQ(Json::Value &root, PKT_CLIGS_BUY_PHYSTRENGTH_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_BUY_PHYSTRENGTH_REQ(const string &strData, PKT_CLIGS_BUY_PHYSTRENGTH_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_BUY_PHYSTRENGTH_REQ(root, data);
}
INT32 EncodePKT_CLIGS_BUY_PHYSTRENGTH_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BUY_PHYSTRENGTH_ACK *pstIn = (PKT_CLIGS_BUY_PHYSTRENGTH_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurPhyStrength))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCanBuyNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwNextBuyGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_BUY_PHYSTRENGTH_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_BUY_PHYSTRENGTH_ACK *pstOut = (PKT_CLIGS_BUY_PHYSTRENGTH_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurPhyStrength))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCanBuyNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwNextBuyGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_BUY_PHYSTRENGTH_ACK(PKT_CLIGS_BUY_PHYSTRENGTH_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CurPhyStrength"]=data.wCurPhyStrength;
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["CanBuyNum"]=data.byCanBuyNum;
	root["NextBuyGold"]=data.dwNextBuyGold;

	return root;
}
BOOL FromJsonPKT_CLIGS_BUY_PHYSTRENGTH_ACK(Json::Value &root, PKT_CLIGS_BUY_PHYSTRENGTH_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wCurPhyStrength=root["CurPhyStrength"].asUInt();
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	data.byCanBuyNum=root["CanBuyNum"].asUInt();
	data.dwNextBuyGold=root["NextBuyGold"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_BUY_PHYSTRENGTH_ACK(const string &strData, PKT_CLIGS_BUY_PHYSTRENGTH_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_BUY_PHYSTRENGTH_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CLR_PLUNDER_CD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_PLUNDER_CD_REQ *pstIn = (PKT_CLIGS_CLR_PLUNDER_CD_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_PLUNDER_CD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_PLUNDER_CD_REQ *pstOut = (PKT_CLIGS_CLR_PLUNDER_CD_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_PLUNDER_CD_REQ(PKT_CLIGS_CLR_PLUNDER_CD_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_PLUNDER_CD_REQ(Json::Value &root, PKT_CLIGS_CLR_PLUNDER_CD_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_PLUNDER_CD_REQ(const string &strData, PKT_CLIGS_CLR_PLUNDER_CD_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_PLUNDER_CD_REQ(root, data);
}
INT32 EncodePKT_CLIGS_CLR_PLUNDER_CD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_PLUNDER_CD_ACK *pstIn = (PKT_CLIGS_CLR_PLUNDER_CD_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_PLUNDER_CD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_PLUNDER_CD_ACK *pstOut = (PKT_CLIGS_CLR_PLUNDER_CD_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_PLUNDER_CD_ACK(PKT_CLIGS_CLR_PLUNDER_CD_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_PLUNDER_CD_ACK(Json::Value &root, PKT_CLIGS_CLR_PLUNDER_CD_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_PLUNDER_CD_ACK(const string &strData, PKT_CLIGS_CLR_PLUNDER_CD_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_PLUNDER_CD_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_MAINTOWN_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MAINTOWN_REQ *pstIn = (PKT_CLIGS_OPEN_MAINTOWN_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_MAINTOWN_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MAINTOWN_REQ *pstOut = (PKT_CLIGS_OPEN_MAINTOWN_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_MAINTOWN_REQ(PKT_CLIGS_OPEN_MAINTOWN_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_MAINTOWN_REQ(Json::Value &root, PKT_CLIGS_OPEN_MAINTOWN_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_MAINTOWN_REQ(const string &strData, PKT_CLIGS_OPEN_MAINTOWN_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_MAINTOWN_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_MAINTOWN_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MAINTOWN_ACK *pstIn = (PKT_CLIGS_OPEN_MAINTOWN_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCanCrowFlag))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCrownCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCrownGold))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwLevyCountDown))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwLevyCoin))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byLevyNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTotalLevyNum))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_MAINTOWN_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MAINTOWN_ACK *pstOut = (PKT_CLIGS_OPEN_MAINTOWN_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCanCrowFlag))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCrownCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCrownGold))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwLevyCountDown))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwLevyCoin))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byLevyNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTotalLevyNum))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_MAINTOWN_ACK(PKT_CLIGS_OPEN_MAINTOWN_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CurLevel"]=data.wCurLevel;
	root["CanCrowFlag"]=data.byCanCrowFlag;
	root["CrownCoin"]=data.dwCrownCoin;
	root["CrownGold"]=data.dwCrownGold;
	root["LevyCountDown"]=data.dwLevyCountDown;
	root["LevyCoin"]=data.dwLevyCoin;
	root["LevyNum"]=data.byLevyNum;
	root["TotalLevyNum"]=data.byTotalLevyNum;
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_MAINTOWN_ACK(Json::Value &root, PKT_CLIGS_OPEN_MAINTOWN_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wCurLevel=root["CurLevel"].asUInt();
	data.byCanCrowFlag=root["CanCrowFlag"].asUInt();
	data.dwCrownCoin=root["CrownCoin"].asUInt();
	data.dwCrownGold=root["CrownGold"].asUInt();
	data.dwLevyCountDown=root["LevyCountDown"].asUInt();
	data.dwLevyCoin=root["LevyCoin"].asUInt();
	data.byLevyNum=root["LevyNum"].asUInt();
	data.byTotalLevyNum=root["TotalLevyNum"].asUInt();
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_MAINTOWN_ACK(const string &strData, PKT_CLIGS_OPEN_MAINTOWN_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_MAINTOWN_ACK(root, data);
}
INT32 EncodePKT_CLIGS_RECV_MAINTOWN_INCOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ *pstIn = (PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_MAINTOWN_INCOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ *pstOut = (PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_MAINTOWN_INCOME_REQ(PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_MAINTOWN_INCOME_REQ(Json::Value &root, PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_MAINTOWN_INCOME_REQ(const string &strData, PKT_CLIGS_RECV_MAINTOWN_INCOME_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_MAINTOWN_INCOME_REQ(root, data);
}
INT32 EncodePKT_CLIGS_RECV_MAINTOWN_INCOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK *pstIn = (PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCanCrowFlag))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_MAINTOWN_INCOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK *pstOut = (PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCanCrowFlag))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_MAINTOWN_INCOME_ACK(PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CanCrowFlag"]=data.byCanCrowFlag;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_MAINTOWN_INCOME_ACK(Json::Value &root, PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byCanCrowFlag=root["CanCrowFlag"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_MAINTOWN_INCOME_ACK(const string &strData, PKT_CLIGS_RECV_MAINTOWN_INCOME_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_MAINTOWN_INCOME_ACK(root, data);
}
INT32 EncodePKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ *pstIn = (PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ *pstOut = (PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ(PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ(Json::Value &root, PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ(const string &strData, PKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_LEVY_MAINTOWN_INCOME_REQ(root, data);
}
INT32 EncodePKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK *pstIn = (PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwLevyCountDown))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byLevyNum))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK *pstOut = (PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwLevyCountDown))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byLevyNum))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK(PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["LevyCountDown"]=data.dwLevyCountDown;
	root["LevyNum"]=data.byLevyNum;
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK(Json::Value &root, PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	data.dwLevyCountDown=root["LevyCountDown"].asUInt();
	data.byLevyNum=root["LevyNum"].asUInt();
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK(const string &strData, PKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_LEVY_MAINTOWN_INCOME_ACK(root, data);
}
INT32 EncodePKT_CLIGS_DRIVE_AWAY_OWNER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRIVE_AWAY_OWNER_REQ *pstIn = (PKT_CLIGS_DRIVE_AWAY_OWNER_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DRIVE_AWAY_OWNER_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRIVE_AWAY_OWNER_REQ *pstOut = (PKT_CLIGS_DRIVE_AWAY_OWNER_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DRIVE_AWAY_OWNER_REQ(PKT_CLIGS_DRIVE_AWAY_OWNER_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_DRIVE_AWAY_OWNER_REQ(Json::Value &root, PKT_CLIGS_DRIVE_AWAY_OWNER_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DRIVE_AWAY_OWNER_REQ(const string &strData, PKT_CLIGS_DRIVE_AWAY_OWNER_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DRIVE_AWAY_OWNER_REQ(root, data);
}
INT32 EncodePKT_CLIGS_DRIVE_AWAY_OWNER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRIVE_AWAY_OWNER_ACK *pstIn = (PKT_CLIGS_DRIVE_AWAY_OWNER_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwDriveAwayGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_DRIVE_AWAY_OWNER_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_DRIVE_AWAY_OWNER_ACK *pstOut = (PKT_CLIGS_DRIVE_AWAY_OWNER_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwDriveAwayGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_DRIVE_AWAY_OWNER_ACK(PKT_CLIGS_DRIVE_AWAY_OWNER_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["DriveAwayGold"]=data.dwDriveAwayGold;

	return root;
}
BOOL FromJsonPKT_CLIGS_DRIVE_AWAY_OWNER_ACK(Json::Value &root, PKT_CLIGS_DRIVE_AWAY_OWNER_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	data.dwDriveAwayGold=root["DriveAwayGold"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_DRIVE_AWAY_OWNER_ACK(const string &strData, PKT_CLIGS_DRIVE_AWAY_OWNER_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_DRIVE_AWAY_OWNER_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_DRUG_USE_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ *pstIn = (PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_DRUG_USE_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ *pstOut = (PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_DRUG_USE_TAB_REQ(PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_DRUG_USE_TAB_REQ(Json::Value &root, PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_DRUG_USE_TAB_REQ(const string &strData, PKT_CLIGS_OPEN_DRUG_USE_TAB_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_DRUG_USE_TAB_REQ(root, data);
}
INT32 EncodeDT_TALENT_DATA(void *pHost, CNetData* poNetData)
{
	DT_TALENT_DATA *pstIn = (DT_TALENT_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTalent))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUseCountDown))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_TALENT_DATA(void *pHost, CNetData* poNetData)
{
	DT_TALENT_DATA *pstOut = (DT_TALENT_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTalent))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUseCountDown))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_TALENT_DATA(DT_TALENT_DATA &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["Level"]=data.wLevel;
	root["Talent"]=data.wTalent;
	root["UseCountDown"]=data.wUseCountDown;

	return root;
}
BOOL FromJsonDT_TALENT_DATA(Json::Value &root, DT_TALENT_DATA &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.wTalent=root["Talent"].asUInt();
	data.wUseCountDown=root["UseCountDown"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_TALENT_DATA(const string &strData, DT_TALENT_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_TALENT_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_DRUG_USE_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK *pstIn = (PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstIn->byHeroNum)
			break;
		if(-1 == EncodeDT_TALENT_DATA(&pstIn->astHeroInfo[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_DRUG_LEVEL; i++)
	{
		if(-1 == poNetData->AddWord(pstIn->awDrugNum[i]))
			return -1;
	}

	if(-1 == poNetData->AddWord(pstIn->wNoCDGoldPerMin))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byBagFullFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_DRUG_USE_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK *pstOut = (PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byHeroNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_HERO_NUM; i++)
	{
		if(i >= (INT32)pstOut->byHeroNum)
			break;
		if(-1 == DecodeDT_TALENT_DATA(&pstOut->astHeroInfo[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_DRUG_LEVEL; i++)
	{
		if(-1 == poNetData->DelWord(pstOut->awDrugNum[i]))
			return -1;
	}

	if(-1 == poNetData->DelWord(pstOut->wNoCDGoldPerMin))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byBagFullFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_DRUG_USE_TAB_ACK(PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["HeroNum"]=data.byHeroNum;
	for( UINT32 dwIndex=0; dwIndex<data.byHeroNum; ++dwIndex)
	{
	root["HeroInfo"].append( GetJsonDT_TALENT_DATA(data.astHeroInfo[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<MAX_DRUG_LEVEL; ++dwIndex)
	{
	root["DrugNum"].append( data.awDrugNum[dwIndex]);
	}
	root["NoCDGoldPerMin"]=data.wNoCDGoldPerMin;
	root["BagFullFlag"]=data.byBagFullFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_DRUG_USE_TAB_ACK(Json::Value &root, PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byHeroNum=root["HeroNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byHeroNum; ++dwIndex)
	{
		FromJsonDT_TALENT_DATA(root["HeroInfo"][dwIndex] , data.astHeroInfo[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<MAX_DRUG_LEVEL; ++dwIndex)
	{
		data.awDrugNum[dwIndex]=WORD(root["DrugNum"][dwIndex].asUInt() );
	}
	data.wNoCDGoldPerMin=root["NoCDGoldPerMin"].asUInt();
	data.byBagFullFlag=root["BagFullFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_DRUG_USE_TAB_ACK(const string &strData, PKT_CLIGS_OPEN_DRUG_USE_TAB_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_DRUG_USE_TAB_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ *pstIn = (PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ *pstOut = (PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ(PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ(Json::Value &root, PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ &data)
{
	data.wKindID=root["KindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ(const string &strData, PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK *pstIn = (PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_DRUG_LEVEL; i++)
	{
		if(-1 == EncodeDT_DRUG_DATA_CLI(&pstIn->astDrugInfo[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byBagFullFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK *pstOut = (PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	INT32 i;
		for(i = 0; i < MAX_DRUG_LEVEL; i++)
		{
			if(-1 == DecodeDT_DRUG_DATA_CLI(&pstOut->astDrugInfo[i], poNetData))
				return -1;
		}

	if(-1 == poNetData->DelByte(pstOut->byBagFullFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK(PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["KindID"]=data.wKindID;
	for( UINT32 dwIndex=0; dwIndex<MAX_DRUG_LEVEL; ++dwIndex)
	{
	root["DrugInfo"].append( GetJsonDT_DRUG_DATA_CLI(data.astDrugInfo[dwIndex]) );
	}
	root["BagFullFlag"]=data.byBagFullFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK(Json::Value &root, PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wKindID=root["KindID"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<MAX_DRUG_LEVEL; ++dwIndex)
	{
		FromJsonDT_DRUG_DATA_CLI(root["DrugInfo"][dwIndex] , data.astDrugInfo[dwIndex] );
	}	data.byBagFullFlag=root["BagFullFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK(const string &strData, PKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_HERO_DRUG_USE_TAB_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CLR_USE_DRUG_CD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_USE_DRUG_CD_REQ *pstIn = (PKT_CLIGS_CLR_USE_DRUG_CD_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_USE_DRUG_CD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_USE_DRUG_CD_REQ *pstOut = (PKT_CLIGS_CLR_USE_DRUG_CD_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_USE_DRUG_CD_REQ(PKT_CLIGS_CLR_USE_DRUG_CD_REQ &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_USE_DRUG_CD_REQ(Json::Value &root, PKT_CLIGS_CLR_USE_DRUG_CD_REQ &data)
{
	data.wKindID=root["KindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_USE_DRUG_CD_REQ(const string &strData, PKT_CLIGS_CLR_USE_DRUG_CD_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_USE_DRUG_CD_REQ(root, data);
}
INT32 EncodePKT_CLIGS_CLR_USE_DRUG_CD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_USE_DRUG_CD_ACK *pstIn = (PKT_CLIGS_CLR_USE_DRUG_CD_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == EncodeDT_TALENT_DATA(&pstIn->stHeroTalentInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_USE_DRUG_CD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_USE_DRUG_CD_ACK *pstOut = (PKT_CLIGS_CLR_USE_DRUG_CD_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == DecodeDT_TALENT_DATA(&pstOut->stHeroTalentInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_USE_DRUG_CD_ACK(PKT_CLIGS_CLR_USE_DRUG_CD_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["HeroTalentInfo"]=GetJsonDT_TALENT_DATA(data.stHeroTalentInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_USE_DRUG_CD_ACK(Json::Value &root, PKT_CLIGS_CLR_USE_DRUG_CD_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	FromJsonDT_TALENT_DATA(root["HeroTalentInfo"] , data.stHeroTalentInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_USE_DRUG_CD_ACK(const string &strData, PKT_CLIGS_CLR_USE_DRUG_CD_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_USE_DRUG_CD_ACK(root, data);
}
INT32 EncodePKT_CLIGS_USE_DRUG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_USE_DRUG_REQ *pstIn = (PKT_CLIGS_USE_DRUG_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUseLevel))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_USE_DRUG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_USE_DRUG_REQ *pstOut = (PKT_CLIGS_USE_DRUG_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUseLevel))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_USE_DRUG_REQ(PKT_CLIGS_USE_DRUG_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["UseLevel"]=data.wUseLevel;

	return root;
}
BOOL FromJsonPKT_CLIGS_USE_DRUG_REQ(Json::Value &root, PKT_CLIGS_USE_DRUG_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.wUseLevel=root["UseLevel"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_USE_DRUG_REQ(const string &strData, PKT_CLIGS_USE_DRUG_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_USE_DRUG_REQ(root, data);
}
INT32 EncodePKT_CLIGS_USE_DRUG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_USE_DRUG_ACK *pstIn = (PKT_CLIGS_USE_DRUG_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUseLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurDrugNum))
		return -1;

	if(-1 == EncodeDT_TALENT_DATA(&pstIn->stHeroTalentInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byBagFullFlag))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_USE_DRUG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_USE_DRUG_ACK *pstOut = (PKT_CLIGS_USE_DRUG_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUseLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurDrugNum))
		return -1;

	if(-1 == DecodeDT_TALENT_DATA(&pstOut->stHeroTalentInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byBagFullFlag))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_USE_DRUG_ACK(PKT_CLIGS_USE_DRUG_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["UseLevel"]=data.wUseLevel;
	root["CurDrugNum"]=data.wCurDrugNum;
	root["HeroTalentInfo"]=GetJsonDT_TALENT_DATA(data.stHeroTalentInfo);
	root["BagFullFlag"]=data.byBagFullFlag;
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_USE_DRUG_ACK(Json::Value &root, PKT_CLIGS_USE_DRUG_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wUseLevel=root["UseLevel"].asUInt();
	data.wCurDrugNum=root["CurDrugNum"].asUInt();
	FromJsonDT_TALENT_DATA(root["HeroTalentInfo"] , data.stHeroTalentInfo);
	data.byBagFullFlag=root["BagFullFlag"].asUInt();
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_USE_DRUG_ACK(const string &strData, PKT_CLIGS_USE_DRUG_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_USE_DRUG_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ *pstIn = (PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ *pstOut = (PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ(PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ(Json::Value &root, PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ(const string &strData, PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK *pstIn = (PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_DRUG_LEVEL; i++)
	{
		if(-1 == poNetData->AddByte(pstIn->abyDrugNum[i]))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK *pstOut = (PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_DRUG_LEVEL; i++)
	{
		if(-1 == poNetData->DelByte(pstOut->abyDrugNum[i]))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK(PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	for( UINT32 dwIndex=0; dwIndex<MAX_DRUG_LEVEL; ++dwIndex)
	{
	root["DrugNum"].append( data.abyDrugNum[dwIndex]);
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK(Json::Value &root, PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<MAX_DRUG_LEVEL; ++dwIndex)
	{
		data.abyDrugNum[dwIndex]=BYTE(root["DrugNum"][dwIndex].asUInt() );
	}

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK(const string &strData, PKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_UPGRADE_DRUG_TAB_ACK(root, data);
}
INT32 EncodePKT_CLIGS_UPGRADE_DRUG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_DRUG_REQ *pstIn = (PKT_CLIGS_UPGRADE_DRUG_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byUseDrugLevel))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPGRADE_DRUG_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_DRUG_REQ *pstOut = (PKT_CLIGS_UPGRADE_DRUG_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byUseDrugLevel))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPGRADE_DRUG_REQ(PKT_CLIGS_UPGRADE_DRUG_REQ &data)
{
	Json::Value root;
	root["UseDrugLevel"]=data.byUseDrugLevel;

	return root;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_DRUG_REQ(Json::Value &root, PKT_CLIGS_UPGRADE_DRUG_REQ &data)
{
	data.byUseDrugLevel=root["UseDrugLevel"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_DRUG_REQ(const string &strData, PKT_CLIGS_UPGRADE_DRUG_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPGRADE_DRUG_REQ(root, data);
}
INT32 EncodePKT_CLIGS_UPGRADE_DRUG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_DRUG_ACK *pstIn = (PKT_CLIGS_UPGRADE_DRUG_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUseDrugLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wUseDrugNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byProduceDrugLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wProduceDrugNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byBagFullFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPGRADE_DRUG_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPGRADE_DRUG_ACK *pstOut = (PKT_CLIGS_UPGRADE_DRUG_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUseDrugLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wUseDrugNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byProduceDrugLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wProduceDrugNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byBagFullFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPGRADE_DRUG_ACK(PKT_CLIGS_UPGRADE_DRUG_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["UseDrugLevel"]=data.byUseDrugLevel;
	root["UseDrugNum"]=data.wUseDrugNum;
	root["ProduceDrugLevel"]=data.byProduceDrugLevel;
	root["ProduceDrugNum"]=data.wProduceDrugNum;
	root["BagFullFlag"]=data.byBagFullFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_DRUG_ACK(Json::Value &root, PKT_CLIGS_UPGRADE_DRUG_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byUseDrugLevel=root["UseDrugLevel"].asUInt();
	data.wUseDrugNum=root["UseDrugNum"].asUInt();
	data.byProduceDrugLevel=root["ProduceDrugLevel"].asUInt();
	data.wProduceDrugNum=root["ProduceDrugNum"].asUInt();
	data.byBagFullFlag=root["BagFullFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPGRADE_DRUG_ACK(const string &strData, PKT_CLIGS_UPGRADE_DRUG_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPGRADE_DRUG_ACK(root, data);
}
INT32 EncodePKT_CLIGS_COMPOSE_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COMPOSE_EQUIP_REQ *pstIn = (PKT_CLIGS_COMPOSE_EQUIP_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wEquipItemID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wEquipIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byGoldComposeFlag))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_COMPOSE_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COMPOSE_EQUIP_REQ *pstOut = (PKT_CLIGS_COMPOSE_EQUIP_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wEquipItemID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wEquipIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byGoldComposeFlag))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_COMPOSE_EQUIP_REQ(PKT_CLIGS_COMPOSE_EQUIP_REQ &data)
{
	Json::Value root;
	root["EquipItemID"]=data.wEquipItemID;
	root["EquipIdx"]=data.wEquipIdx;
	root["GoldComposeFlag"]=data.byGoldComposeFlag;

	return root;
}
BOOL FromJsonPKT_CLIGS_COMPOSE_EQUIP_REQ(Json::Value &root, PKT_CLIGS_COMPOSE_EQUIP_REQ &data)
{
	data.wEquipItemID=root["EquipItemID"].asUInt();
	data.wEquipIdx=root["EquipIdx"].asUInt();
	data.byGoldComposeFlag=root["GoldComposeFlag"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_COMPOSE_EQUIP_REQ(const string &strData, PKT_CLIGS_COMPOSE_EQUIP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_COMPOSE_EQUIP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_COMPOSE_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COMPOSE_EQUIP_ACK *pstIn = (PKT_CLIGS_COMPOSE_EQUIP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wSrcEquipItemID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wSrcEquipIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->bySrcItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ITEM_MAKER_NEED_NUM; i++)
	{
		if(i >= (INT32)pstIn->bySrcItemNum)
			break;
		if(-1 == EncodeDT_NEED_ITEM_DATA(&pstIn->astStrItemInfoList[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_EQUIP_DATA_STRENGTHEN_CLI(&pstIn->stEquipStrengthenInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_EQUIP_COMPOSE_DATA_CLI(&pstIn->stEquipComposeInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_COMPOSE_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COMPOSE_EQUIP_ACK *pstOut = (PKT_CLIGS_COMPOSE_EQUIP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wSrcEquipItemID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wSrcEquipIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->bySrcItemNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_ITEM_MAKER_NEED_NUM; i++)
	{
		if(i >= (INT32)pstOut->bySrcItemNum)
			break;
		if(-1 == DecodeDT_NEED_ITEM_DATA(&pstOut->astStrItemInfoList[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_EQUIP_DATA_STRENGTHEN_CLI(&pstOut->stEquipStrengthenInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_EQUIP_COMPOSE_DATA_CLI(&pstOut->stEquipComposeInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_COMPOSE_EQUIP_ACK(PKT_CLIGS_COMPOSE_EQUIP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["SrcEquipItemID"]=data.wSrcEquipItemID;
	root["SrcEquipIdx"]=data.wSrcEquipIdx;
	root["SrcItemNum"]=data.bySrcItemNum;
	for( UINT32 dwIndex=0; dwIndex<data.bySrcItemNum; ++dwIndex)
	{
	root["StrItemInfoList"].append( GetJsonDT_NEED_ITEM_DATA(data.astStrItemInfoList[dwIndex]) );
	}
	root["EquipStrengthenInfo"]=GetJsonDT_EQUIP_DATA_STRENGTHEN_CLI(data.stEquipStrengthenInfo);
	root["EquipComposeInfo"]=GetJsonDT_EQUIP_COMPOSE_DATA_CLI(data.stEquipComposeInfo);
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_COMPOSE_EQUIP_ACK(Json::Value &root, PKT_CLIGS_COMPOSE_EQUIP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wSrcEquipItemID=root["SrcEquipItemID"].asUInt();
	data.wSrcEquipIdx=root["SrcEquipIdx"].asUInt();
	data.bySrcItemNum=root["SrcItemNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.bySrcItemNum; ++dwIndex)
	{
		FromJsonDT_NEED_ITEM_DATA(root["StrItemInfoList"][dwIndex] , data.astStrItemInfoList[dwIndex] );
	}	FromJsonDT_EQUIP_DATA_STRENGTHEN_CLI(root["EquipStrengthenInfo"] , data.stEquipStrengthenInfo);
	FromJsonDT_EQUIP_COMPOSE_DATA_CLI(root["EquipComposeInfo"] , data.stEquipComposeInfo);
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_COMPOSE_EQUIP_ACK(const string &strData, PKT_CLIGS_COMPOSE_EQUIP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_COMPOSE_EQUIP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_PHYSTRENGTH_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_PHYSTRENGTH_REQ *pstIn = (PKT_CLIGS_OPEN_PHYSTRENGTH_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_PHYSTRENGTH_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_PHYSTRENGTH_REQ *pstOut = (PKT_CLIGS_OPEN_PHYSTRENGTH_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_PHYSTRENGTH_REQ(PKT_CLIGS_OPEN_PHYSTRENGTH_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_PHYSTRENGTH_REQ(Json::Value &root, PKT_CLIGS_OPEN_PHYSTRENGTH_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_PHYSTRENGTH_REQ(const string &strData, PKT_CLIGS_OPEN_PHYSTRENGTH_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_PHYSTRENGTH_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_PHYSTRENGTH_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_PHYSTRENGTH_ACK *pstIn = (PKT_CLIGS_OPEN_PHYSTRENGTH_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byStrength))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byBuyTimes))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwBuyGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_PHYSTRENGTH_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_PHYSTRENGTH_ACK *pstOut = (PKT_CLIGS_OPEN_PHYSTRENGTH_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byStrength))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byBuyTimes))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwBuyGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_PHYSTRENGTH_ACK(PKT_CLIGS_OPEN_PHYSTRENGTH_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["Strength"]=data.byStrength;
	root["BuyTimes"]=data.byBuyTimes;
	root["BuyGold"]=data.dwBuyGold;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_PHYSTRENGTH_ACK(Json::Value &root, PKT_CLIGS_OPEN_PHYSTRENGTH_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byStrength=root["Strength"].asUInt();
	data.byBuyTimes=root["BuyTimes"].asUInt();
	data.dwBuyGold=root["BuyGold"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_PHYSTRENGTH_ACK(const string &strData, PKT_CLIGS_OPEN_PHYSTRENGTH_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_PHYSTRENGTH_ACK(root, data);
}
INT32 EncodePKT_CLIGS_RECV_LEFT_INCOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_LEFT_INCOME_REQ *pstIn = (PKT_CLIGS_RECV_LEFT_INCOME_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byGridIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_LEFT_INCOME_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_LEFT_INCOME_REQ *pstOut = (PKT_CLIGS_RECV_LEFT_INCOME_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byGridIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_LEFT_INCOME_REQ(PKT_CLIGS_RECV_LEFT_INCOME_REQ &data)
{
	Json::Value root;
	root["GridIdx"]=data.byGridIdx;

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_LEFT_INCOME_REQ(Json::Value &root, PKT_CLIGS_RECV_LEFT_INCOME_REQ &data)
{
	data.byGridIdx=root["GridIdx"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_LEFT_INCOME_REQ(const string &strData, PKT_CLIGS_RECV_LEFT_INCOME_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_LEFT_INCOME_REQ(root, data);
}
INT32 EncodePKT_CLIGS_RECV_LEFT_INCOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_LEFT_INCOME_ACK *pstIn = (PKT_CLIGS_RECV_LEFT_INCOME_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byGridIdx))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byIncomeType))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwIncomeValue))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurScience))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_RECV_LEFT_INCOME_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_RECV_LEFT_INCOME_ACK *pstOut = (PKT_CLIGS_RECV_LEFT_INCOME_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byGridIdx))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byIncomeType))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwIncomeValue))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurScience))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_RECV_LEFT_INCOME_ACK(PKT_CLIGS_RECV_LEFT_INCOME_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["GridIdx"]=data.byGridIdx;
	root["IncomeType"]=data.byIncomeType;
	root["IncomeValue"]=data.dwIncomeValue;
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	ostringstream ssqwCurScience;
	ssqwCurScience<<data.qwCurScience;
	root["CurScience"]=ssqwCurScience.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_RECV_LEFT_INCOME_ACK(Json::Value &root, PKT_CLIGS_RECV_LEFT_INCOME_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byGridIdx=root["GridIdx"].asUInt();
	data.byIncomeType=root["IncomeType"].asUInt();
	data.dwIncomeValue=root["IncomeValue"].asUInt();
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	data.qwCurScience=SDAtou64( root["CurScience"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_RECV_LEFT_INCOME_ACK(const string &strData, PKT_CLIGS_RECV_LEFT_INCOME_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_RECV_LEFT_INCOME_ACK(root, data);
}
INT32 EncodePKT_CLIGS_SMITHY_BUY_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SMITHY_BUY_EQUIP_REQ *pstIn = (PKT_CLIGS_SMITHY_BUY_EQUIP_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byEquipPos))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SMITHY_BUY_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SMITHY_BUY_EQUIP_REQ *pstOut = (PKT_CLIGS_SMITHY_BUY_EQUIP_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byEquipPos))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SMITHY_BUY_EQUIP_REQ(PKT_CLIGS_SMITHY_BUY_EQUIP_REQ &data)
{
	Json::Value root;
	root["HeroKindID"]=data.wHeroKindID;
	root["EquipPos"]=data.byEquipPos;

	return root;
}
BOOL FromJsonPKT_CLIGS_SMITHY_BUY_EQUIP_REQ(Json::Value &root, PKT_CLIGS_SMITHY_BUY_EQUIP_REQ &data)
{
	data.wHeroKindID=root["HeroKindID"].asUInt();
	data.byEquipPos=root["EquipPos"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SMITHY_BUY_EQUIP_REQ(const string &strData, PKT_CLIGS_SMITHY_BUY_EQUIP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SMITHY_BUY_EQUIP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_SMITHY_BUY_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SMITHY_BUY_EQUIP_ACK *pstIn = (PKT_CLIGS_SMITHY_BUY_EQUIP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_EQUIP_DATA_STRENGTHEN_CLI(&pstIn->stEquipStrengthenInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_EQUIP_COMPOSE_DATA_CLI(&pstIn->stEquipComposeInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoin))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SMITHY_BUY_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SMITHY_BUY_EQUIP_ACK *pstOut = (PKT_CLIGS_SMITHY_BUY_EQUIP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_EQUIP_DATA_STRENGTHEN_CLI(&pstOut->stEquipStrengthenInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_EQUIP_COMPOSE_DATA_CLI(&pstOut->stEquipComposeInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoin))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SMITHY_BUY_EQUIP_ACK(PKT_CLIGS_SMITHY_BUY_EQUIP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["EquipStrengthenInfo"]=GetJsonDT_EQUIP_DATA_STRENGTHEN_CLI(data.stEquipStrengthenInfo);
	root["EquipComposeInfo"]=GetJsonDT_EQUIP_COMPOSE_DATA_CLI(data.stEquipComposeInfo);
	ostringstream ssqwCurCoin;
	ssqwCurCoin<<data.qwCurCoin;
	root["CurCoin"]=ssqwCurCoin.str();
	root["PowerInfo"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerInfo);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_SMITHY_BUY_EQUIP_ACK(Json::Value &root, PKT_CLIGS_SMITHY_BUY_EQUIP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_EQUIP_DATA_STRENGTHEN_CLI(root["EquipStrengthenInfo"] , data.stEquipStrengthenInfo);
	FromJsonDT_EQUIP_COMPOSE_DATA_CLI(root["EquipComposeInfo"] , data.stEquipComposeInfo);
	data.qwCurCoin=SDAtou64( root["CurCoin"].asCString() );
	FromJsonDT_POWER_CHANGE_DATA(root["PowerInfo"] , data.stPowerInfo);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SMITHY_BUY_EQUIP_ACK(const string &strData, PKT_CLIGS_SMITHY_BUY_EQUIP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SMITHY_BUY_EQUIP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CLR_STRENGTHEN_CD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_STRENGTHEN_CD_REQ *pstIn = (PKT_CLIGS_CLR_STRENGTHEN_CD_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_STRENGTHEN_CD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_STRENGTHEN_CD_REQ *pstOut = (PKT_CLIGS_CLR_STRENGTHEN_CD_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_STRENGTHEN_CD_REQ(PKT_CLIGS_CLR_STRENGTHEN_CD_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_STRENGTHEN_CD_REQ(Json::Value &root, PKT_CLIGS_CLR_STRENGTHEN_CD_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_STRENGTHEN_CD_REQ(const string &strData, PKT_CLIGS_CLR_STRENGTHEN_CD_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_STRENGTHEN_CD_REQ(root, data);
}
INT32 EncodePKT_CLIGS_CLR_STRENGTHEN_CD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_STRENGTHEN_CD_ACK *pstIn = (PKT_CLIGS_CLR_STRENGTHEN_CD_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_STRENGTHEN_CD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_STRENGTHEN_CD_ACK *pstOut = (PKT_CLIGS_CLR_STRENGTHEN_CD_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_STRENGTHEN_CD_ACK(PKT_CLIGS_CLR_STRENGTHEN_CD_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_STRENGTHEN_CD_ACK(Json::Value &root, PKT_CLIGS_CLR_STRENGTHEN_CD_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_STRENGTHEN_CD_ACK(const string &strData, PKT_CLIGS_CLR_STRENGTHEN_CD_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_STRENGTHEN_CD_ACK(root, data);
}
INT32 EncodeDT_CROP_SEED_INFO_DATA(void *pHost, CNetData* poNetData)
{
	DT_CROP_SEED_INFO_DATA *pstIn = (DT_CROP_SEED_INFO_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wCropKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCropSeedNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCropType))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCropTime))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCropValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCropGainKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCoin))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wGold))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wComposeCount))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wComposeKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_CROP_SEED_INFO_DATA(void *pHost, CNetData* poNetData)
{
	DT_CROP_SEED_INFO_DATA *pstOut = (DT_CROP_SEED_INFO_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wCropKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCropSeedNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCropType))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCropTime))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCropValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCropGainKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCoin))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wGold))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wComposeCount))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wComposeKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_CROP_SEED_INFO_DATA(DT_CROP_SEED_INFO_DATA &data)
{
	Json::Value root;
	root["CropKindID"]=data.wCropKindID;
	root["CropSeedNum"]=data.wCropSeedNum;
	root["CropType"]=data.byCropType;
	root["CropTime"]=data.dwCropTime;
	root["CropValue"]=data.wCropValue;
	root["CropGainKindID"]=data.wCropGainKindID;
	root["Coin"]=data.wCoin;
	root["Gold"]=data.wGold;
	root["ComposeCount"]=data.wComposeCount;
	root["ComposeKindID"]=data.wComposeKindID;

	return root;
}
BOOL FromJsonDT_CROP_SEED_INFO_DATA(Json::Value &root, DT_CROP_SEED_INFO_DATA &data)
{
	data.wCropKindID=root["CropKindID"].asUInt();
	data.wCropSeedNum=root["CropSeedNum"].asUInt();
	data.byCropType=root["CropType"].asUInt();
	data.dwCropTime=root["CropTime"].asUInt();
	data.wCropValue=root["CropValue"].asUInt();
	data.wCropGainKindID=root["CropGainKindID"].asUInt();
	data.wCoin=root["Coin"].asUInt();
	data.wGold=root["Gold"].asUInt();
	data.wComposeCount=root["ComposeCount"].asUInt();
	data.wComposeKindID=root["ComposeKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_CROP_SEED_INFO_DATA(const string &strData, DT_CROP_SEED_INFO_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_CROP_SEED_INFO_DATA(root, data);
}
INT32 EncodeDT_CROP_FIELD_INFO_DATA(void *pHost, CNetData* poNetData)
{
	DT_CROP_FIELD_INFO_DATA *pstIn = (DT_CROP_FIELD_INFO_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byOpen))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_CROP_FIELD_INFO_DATA(void *pHost, CNetData* poNetData)
{
	DT_CROP_FIELD_INFO_DATA *pstOut = (DT_CROP_FIELD_INFO_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byOpen))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_CROP_FIELD_INFO_DATA(DT_CROP_FIELD_INFO_DATA &data)
{
	Json::Value root;
	root["Open"]=data.byOpen;
	root["Level"]=data.byLevel;
	root["Coin"]=data.dwCoin;
	root["Gold"]=data.dwGold;

	return root;
}
BOOL FromJsonDT_CROP_FIELD_INFO_DATA(Json::Value &root, DT_CROP_FIELD_INFO_DATA &data)
{
	data.byOpen=root["Open"].asUInt();
	data.byLevel=root["Level"].asUInt();
	data.dwCoin=root["Coin"].asUInt();
	data.dwGold=root["Gold"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_CROP_FIELD_INFO_DATA(const string &strData, DT_CROP_FIELD_INFO_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_CROP_FIELD_INFO_DATA(root, data);
}
INT32 EncodeDT_CROP_MORE_INFO_DATA(void *pHost, CNetData* poNetData)
{
	DT_CROP_MORE_INFO_DATA *pstIn = (DT_CROP_MORE_INFO_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wCropKindID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCropTime))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCropType))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCropValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCropGainKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_CROP_MORE_INFO_DATA(void *pHost, CNetData* poNetData)
{
	DT_CROP_MORE_INFO_DATA *pstOut = (DT_CROP_MORE_INFO_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wCropKindID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCropTime))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCropType))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCropValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCropGainKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_CROP_MORE_INFO_DATA(DT_CROP_MORE_INFO_DATA &data)
{
	Json::Value root;
	root["CropKindID"]=data.wCropKindID;
	root["CropTime"]=data.dwCropTime;
	root["CropType"]=data.byCropType;
	root["CropValue"]=data.dwCropValue;
	root["CropGainKindID"]=data.wCropGainKindID;

	return root;
}
BOOL FromJsonDT_CROP_MORE_INFO_DATA(Json::Value &root, DT_CROP_MORE_INFO_DATA &data)
{
	data.wCropKindID=root["CropKindID"].asUInt();
	data.dwCropTime=root["CropTime"].asUInt();
	data.byCropType=root["CropType"].asUInt();
	data.dwCropValue=root["CropValue"].asUInt();
	data.wCropGainKindID=root["CropGainKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_CROP_MORE_INFO_DATA(const string &strData, DT_CROP_MORE_INFO_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_CROP_MORE_INFO_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_CROP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CROP_REQ *pstIn = (PKT_CLIGS_OPEN_CROP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_CROP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CROP_REQ *pstOut = (PKT_CLIGS_OPEN_CROP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_CROP_REQ(PKT_CLIGS_OPEN_CROP_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_CROP_REQ(Json::Value &root, PKT_CLIGS_OPEN_CROP_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_CROP_REQ(const string &strData, PKT_CLIGS_OPEN_CROP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_CROP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_CROP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CROP_ACK *pstIn = (PKT_CLIGS_OPEN_CROP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCropSeedNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CROP_SEED_NUM; i++)
	{
		if(i >= (INT32)pstIn->byCropSeedNum)
			break;
		if(-1 == EncodeDT_CROP_SEED_INFO_DATA(&pstIn->astCropSeedInfoList[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_CROP_NUM; i++)
	{
		if(-1 == EncodeDT_CROP_FIELD_INFO_DATA(&pstIn->astCropFieldInfoList[i], poNetData))
			return -1;
	}

	for(i = 0; i < MAX_CROP_NUM; i++)
	{
		if(-1 == EncodeDT_CROP_MORE_INFO_DATA(&pstIn->astCropMoreInfoList[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddWord(pstIn->wNoCDGoldPerMin))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byBagFullFlag))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_CROP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CROP_ACK *pstOut = (PKT_CLIGS_OPEN_CROP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCropSeedNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CROP_SEED_NUM; i++)
	{
		if(i >= (INT32)pstOut->byCropSeedNum)
			break;
		if(-1 == DecodeDT_CROP_SEED_INFO_DATA(&pstOut->astCropSeedInfoList[i], poNetData))
			return -1;
	}

		for(i = 0; i < MAX_CROP_NUM; i++)
		{
			if(-1 == DecodeDT_CROP_FIELD_INFO_DATA(&pstOut->astCropFieldInfoList[i], poNetData))
				return -1;
		}

		for(i = 0; i < MAX_CROP_NUM; i++)
		{
			if(-1 == DecodeDT_CROP_MORE_INFO_DATA(&pstOut->astCropMoreInfoList[i], poNetData))
				return -1;
		}

	if(-1 == poNetData->DelWord(pstOut->wNoCDGoldPerMin))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byBagFullFlag))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_CROP_ACK(PKT_CLIGS_OPEN_CROP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["CropSeedNum"]=data.byCropSeedNum;
	for( UINT32 dwIndex=0; dwIndex<data.byCropSeedNum; ++dwIndex)
	{
	root["CropSeedInfoList"].append( GetJsonDT_CROP_SEED_INFO_DATA(data.astCropSeedInfoList[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<MAX_CROP_NUM; ++dwIndex)
	{
	root["CropFieldInfoList"].append( GetJsonDT_CROP_FIELD_INFO_DATA(data.astCropFieldInfoList[dwIndex]) );
	}
	for( UINT32 dwIndex=0; dwIndex<MAX_CROP_NUM; ++dwIndex)
	{
	root["CropMoreInfoList"].append( GetJsonDT_CROP_MORE_INFO_DATA(data.astCropMoreInfoList[dwIndex]) );
	}
	root["NoCDGoldPerMin"]=data.wNoCDGoldPerMin;
	root["BagFullFlag"]=data.byBagFullFlag;
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_CROP_ACK(Json::Value &root, PKT_CLIGS_OPEN_CROP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byCropSeedNum=root["CropSeedNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byCropSeedNum; ++dwIndex)
	{
		FromJsonDT_CROP_SEED_INFO_DATA(root["CropSeedInfoList"][dwIndex] , data.astCropSeedInfoList[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<MAX_CROP_NUM; ++dwIndex)
	{
		FromJsonDT_CROP_FIELD_INFO_DATA(root["CropFieldInfoList"][dwIndex] , data.astCropFieldInfoList[dwIndex] );
	}	for( UINT32 dwIndex=0; dwIndex<MAX_CROP_NUM; ++dwIndex)
	{
		FromJsonDT_CROP_MORE_INFO_DATA(root["CropMoreInfoList"][dwIndex] , data.astCropMoreInfoList[dwIndex] );
	}	data.wNoCDGoldPerMin=root["NoCDGoldPerMin"].asUInt();
	data.byBagFullFlag=root["BagFullFlag"].asUInt();
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_CROP_ACK(const string &strData, PKT_CLIGS_OPEN_CROP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_CROP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_CROP_FIELD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CROP_FIELD_REQ *pstIn = (PKT_CLIGS_OPEN_CROP_FIELD_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byFieldID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_CROP_FIELD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CROP_FIELD_REQ *pstOut = (PKT_CLIGS_OPEN_CROP_FIELD_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byFieldID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_CROP_FIELD_REQ(PKT_CLIGS_OPEN_CROP_FIELD_REQ &data)
{
	Json::Value root;
	root["FieldID"]=data.byFieldID;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_CROP_FIELD_REQ(Json::Value &root, PKT_CLIGS_OPEN_CROP_FIELD_REQ &data)
{
	data.byFieldID=root["FieldID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_CROP_FIELD_REQ(const string &strData, PKT_CLIGS_OPEN_CROP_FIELD_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_CROP_FIELD_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_CROP_FIELD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CROP_FIELD_ACK *pstIn = (PKT_CLIGS_OPEN_CROP_FIELD_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byFieldID))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwGold))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_CROP_FIELD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_CROP_FIELD_ACK *pstOut = (PKT_CLIGS_OPEN_CROP_FIELD_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byFieldID))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwGold))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_CROP_FIELD_ACK(PKT_CLIGS_OPEN_CROP_FIELD_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["FieldID"]=data.byFieldID;
	ostringstream ssqwCoin;
	ssqwCoin<<data.qwCoin;
	root["Coin"]=ssqwCoin.str();
	ostringstream ssqwGold;
	ssqwGold<<data.qwGold;
	root["Gold"]=ssqwGold.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_CROP_FIELD_ACK(Json::Value &root, PKT_CLIGS_OPEN_CROP_FIELD_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byFieldID=root["FieldID"].asUInt();
	data.qwCoin=SDAtou64( root["Coin"].asCString() );
	data.qwGold=SDAtou64( root["Gold"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_CROP_FIELD_ACK(const string &strData, PKT_CLIGS_OPEN_CROP_FIELD_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_CROP_FIELD_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CROP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CROP_REQ *pstIn = (PKT_CLIGS_CROP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byFieldID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCropKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CROP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CROP_REQ *pstOut = (PKT_CLIGS_CROP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byFieldID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCropKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CROP_REQ(PKT_CLIGS_CROP_REQ &data)
{
	Json::Value root;
	root["FieldID"]=data.byFieldID;
	root["CropKindID"]=data.wCropKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_CROP_REQ(Json::Value &root, PKT_CLIGS_CROP_REQ &data)
{
	data.byFieldID=root["FieldID"].asUInt();
	data.wCropKindID=root["CropKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CROP_REQ(const string &strData, PKT_CLIGS_CROP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CROP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_CROP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CROP_ACK *pstIn = (PKT_CLIGS_CROP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byFieldID))
		return -1;

	if(-1 == EncodeDT_CROP_MORE_INFO_DATA(&pstIn->stCropMoreInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CROP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CROP_ACK *pstOut = (PKT_CLIGS_CROP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byFieldID))
		return -1;

	if(-1 == DecodeDT_CROP_MORE_INFO_DATA(&pstOut->stCropMoreInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CROP_ACK(PKT_CLIGS_CROP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["FieldID"]=data.byFieldID;
	root["CropMoreInfo"]=GetJsonDT_CROP_MORE_INFO_DATA(data.stCropMoreInfo);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_CROP_ACK(Json::Value &root, PKT_CLIGS_CROP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byFieldID=root["FieldID"].asUInt();
	FromJsonDT_CROP_MORE_INFO_DATA(root["CropMoreInfo"] , data.stCropMoreInfo);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CROP_ACK(const string &strData, PKT_CLIGS_CROP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CROP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_GAIN_CROP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GAIN_CROP_REQ *pstIn = (PKT_CLIGS_GAIN_CROP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byFieldID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GAIN_CROP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GAIN_CROP_REQ *pstOut = (PKT_CLIGS_GAIN_CROP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byFieldID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GAIN_CROP_REQ(PKT_CLIGS_GAIN_CROP_REQ &data)
{
	Json::Value root;
	root["FieldID"]=data.byFieldID;

	return root;
}
BOOL FromJsonPKT_CLIGS_GAIN_CROP_REQ(Json::Value &root, PKT_CLIGS_GAIN_CROP_REQ &data)
{
	data.byFieldID=root["FieldID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GAIN_CROP_REQ(const string &strData, PKT_CLIGS_GAIN_CROP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GAIN_CROP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_GAIN_CROP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GAIN_CROP_ACK *pstIn = (PKT_CLIGS_GAIN_CROP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCoin))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwScience))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwStory))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCropType))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCropValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCropKindID))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GAIN_CROP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GAIN_CROP_ACK *pstOut = (PKT_CLIGS_GAIN_CROP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCoin))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwScience))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwStory))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCropType))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCropValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCropKindID))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GAIN_CROP_ACK(PKT_CLIGS_GAIN_CROP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCoin;
	ssqwCoin<<data.qwCoin;
	root["Coin"]=ssqwCoin.str();
	ostringstream ssqwScience;
	ssqwScience<<data.qwScience;
	root["Science"]=ssqwScience.str();
	ostringstream ssqwStory;
	ssqwStory<<data.qwStory;
	root["Story"]=ssqwStory.str();
	root["CropType"]=data.byCropType;
	root["CropValue"]=data.dwCropValue;
	root["CropKindID"]=data.wCropKindID;
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_GAIN_CROP_ACK(Json::Value &root, PKT_CLIGS_GAIN_CROP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCoin=SDAtou64( root["Coin"].asCString() );
	data.qwScience=SDAtou64( root["Science"].asCString() );
	data.qwStory=SDAtou64( root["Story"].asCString() );
	data.byCropType=root["CropType"].asUInt();
	data.dwCropValue=root["CropValue"].asUInt();
	data.wCropKindID=root["CropKindID"].asUInt();
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GAIN_CROP_ACK(const string &strData, PKT_CLIGS_GAIN_CROP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GAIN_CROP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CLR_CROP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_CROP_REQ *pstIn = (PKT_CLIGS_CLR_CROP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byFieldID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_CROP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_CROP_REQ *pstOut = (PKT_CLIGS_CLR_CROP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byFieldID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_CROP_REQ(PKT_CLIGS_CLR_CROP_REQ &data)
{
	Json::Value root;
	root["FieldID"]=data.byFieldID;

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_CROP_REQ(Json::Value &root, PKT_CLIGS_CLR_CROP_REQ &data)
{
	data.byFieldID=root["FieldID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_CROP_REQ(const string &strData, PKT_CLIGS_CLR_CROP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_CROP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_CLR_CROP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_CROP_ACK *pstIn = (PKT_CLIGS_CLR_CROP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byFieldID))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwGold))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CLR_CROP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CLR_CROP_ACK *pstOut = (PKT_CLIGS_CLR_CROP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byFieldID))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwGold))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CLR_CROP_ACK(PKT_CLIGS_CLR_CROP_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["FieldID"]=data.byFieldID;
	ostringstream ssqwGold;
	ssqwGold<<data.qwGold;
	root["Gold"]=ssqwGold.str();
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_CLR_CROP_ACK(Json::Value &root, PKT_CLIGS_CLR_CROP_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.byFieldID=root["FieldID"].asUInt();
	data.qwGold=SDAtou64( root["Gold"].asCString() );
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CLR_CROP_ACK(const string &strData, PKT_CLIGS_CLR_CROP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CLR_CROP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_EXPERIENCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_EXPERIENCE_REQ *pstIn = (PKT_CLIGS_OPEN_EXPERIENCE_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_EXPERIENCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_EXPERIENCE_REQ *pstOut = (PKT_CLIGS_OPEN_EXPERIENCE_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_EXPERIENCE_REQ(PKT_CLIGS_OPEN_EXPERIENCE_REQ &data)
{
	Json::Value root;
	root["HeroID"]=data.wHeroID;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_EXPERIENCE_REQ(Json::Value &root, PKT_CLIGS_OPEN_EXPERIENCE_REQ &data)
{
	data.wHeroID=root["HeroID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_EXPERIENCE_REQ(const string &strData, PKT_CLIGS_OPEN_EXPERIENCE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_EXPERIENCE_REQ(root, data);
}
INT32 EncodeDT_EXPERIENCE_DRUG_DATA(void *pHost, CNetData* poNetData)
{
	DT_EXPERIENCE_DRUG_DATA *pstIn = (DT_EXPERIENCE_DRUG_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wExperienceDrugID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wBagNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_EXPERIENCE_DRUG_DATA(void *pHost, CNetData* poNetData)
{
	DT_EXPERIENCE_DRUG_DATA *pstOut = (DT_EXPERIENCE_DRUG_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wExperienceDrugID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wBagNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_EXPERIENCE_DRUG_DATA(DT_EXPERIENCE_DRUG_DATA &data)
{
	Json::Value root;
	root["ExperienceDrugID"]=data.wExperienceDrugID;
	root["Experience"]=data.dwExperience;
	root["BagNum"]=data.wBagNum;

	return root;
}
BOOL FromJsonDT_EXPERIENCE_DRUG_DATA(Json::Value &root, DT_EXPERIENCE_DRUG_DATA &data)
{
	data.wExperienceDrugID=root["ExperienceDrugID"].asUInt();
	data.dwExperience=root["Experience"].asUInt();
	data.wBagNum=root["BagNum"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_EXPERIENCE_DRUG_DATA(const string &strData, DT_EXPERIENCE_DRUG_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_EXPERIENCE_DRUG_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_EXPERIENCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_EXPERIENCE_ACK *pstIn = (PKT_CLIGS_OPEN_EXPERIENCE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwExperience))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwUpgradeExperience))
		return -1;

	INT32 i;
	for(i = 0; i < 3; i++)
	{
		if(-1 == EncodeDT_EXPERIENCE_DRUG_DATA(&pstIn->astExperienceDrugDataList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_EXPERIENCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_EXPERIENCE_ACK *pstOut = (PKT_CLIGS_OPEN_EXPERIENCE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwExperience))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwUpgradeExperience))
		return -1;

	INT32 i;
		for(i = 0; i < 3; i++)
		{
			if(-1 == DecodeDT_EXPERIENCE_DRUG_DATA(&pstOut->astExperienceDrugDataList[i], poNetData))
				return -1;
		}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_EXPERIENCE_ACK(PKT_CLIGS_OPEN_EXPERIENCE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["Level"]=data.wLevel;
	root["Experience"]=data.dwExperience;
	root["UpgradeExperience"]=data.dwUpgradeExperience;
	for( UINT32 dwIndex=0; dwIndex<3; ++dwIndex)
	{
	root["ExperienceDrugDataList"].append( GetJsonDT_EXPERIENCE_DRUG_DATA(data.astExperienceDrugDataList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_EXPERIENCE_ACK(Json::Value &root, PKT_CLIGS_OPEN_EXPERIENCE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.dwExperience=root["Experience"].asUInt();
	data.dwUpgradeExperience=root["UpgradeExperience"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<3; ++dwIndex)
	{
		FromJsonDT_EXPERIENCE_DRUG_DATA(root["ExperienceDrugDataList"][dwIndex] , data.astExperienceDrugDataList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_EXPERIENCE_ACK(const string &strData, PKT_CLIGS_OPEN_EXPERIENCE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_EXPERIENCE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_USER_EXPERIENCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_USER_EXPERIENCE_REQ *pstIn = (PKT_CLIGS_USER_EXPERIENCE_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wHeroID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wExperienceDrugID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_USER_EXPERIENCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_USER_EXPERIENCE_REQ *pstOut = (PKT_CLIGS_USER_EXPERIENCE_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wHeroID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wExperienceDrugID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_USER_EXPERIENCE_REQ(PKT_CLIGS_USER_EXPERIENCE_REQ &data)
{
	Json::Value root;
	root["HeroID"]=data.wHeroID;
	root["ExperienceDrugID"]=data.wExperienceDrugID;

	return root;
}
BOOL FromJsonPKT_CLIGS_USER_EXPERIENCE_REQ(Json::Value &root, PKT_CLIGS_USER_EXPERIENCE_REQ &data)
{
	data.wHeroID=root["HeroID"].asUInt();
	data.wExperienceDrugID=root["ExperienceDrugID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_USER_EXPERIENCE_REQ(const string &strData, PKT_CLIGS_USER_EXPERIENCE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_USER_EXPERIENCE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_USER_EXPERIENCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_USER_EXPERIENCE_ACK *pstIn = (PKT_CLIGS_USER_EXPERIENCE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_EXPERIENCE_DRUG_DATA(&pstIn->stExperienceDrugData, poNetData))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPowerChangeData, poNetData))
		return -1;

	if(-1 == EncodeDT_HERO_BASE_DATA_CLI(&pstIn->stHeroBaseDataCli, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_USER_EXPERIENCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_USER_EXPERIENCE_ACK *pstOut = (PKT_CLIGS_USER_EXPERIENCE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_EXPERIENCE_DRUG_DATA(&pstOut->stExperienceDrugData, poNetData))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPowerChangeData, poNetData))
		return -1;

	if(-1 == DecodeDT_HERO_BASE_DATA_CLI(&pstOut->stHeroBaseDataCli, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_USER_EXPERIENCE_ACK(PKT_CLIGS_USER_EXPERIENCE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["ExperienceDrugData"]=GetJsonDT_EXPERIENCE_DRUG_DATA(data.stExperienceDrugData);
	root["PowerChangeData"]=GetJsonDT_POWER_CHANGE_DATA(data.stPowerChangeData);
	root["HeroBaseDataCli"]=GetJsonDT_HERO_BASE_DATA_CLI(data.stHeroBaseDataCli);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_USER_EXPERIENCE_ACK(Json::Value &root, PKT_CLIGS_USER_EXPERIENCE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_EXPERIENCE_DRUG_DATA(root["ExperienceDrugData"] , data.stExperienceDrugData);
	FromJsonDT_POWER_CHANGE_DATA(root["PowerChangeData"] , data.stPowerChangeData);
	FromJsonDT_HERO_BASE_DATA_CLI(root["HeroBaseDataCli"] , data.stHeroBaseDataCli);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_USER_EXPERIENCE_ACK(const string &strData, PKT_CLIGS_USER_EXPERIENCE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_USER_EXPERIENCE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SCIENCE_BUILD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ *pstIn = (PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SCIENCE_BUILD_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ *pstOut = (PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SCIENCE_BUILD_REQ(PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SCIENCE_BUILD_REQ(Json::Value &root, PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SCIENCE_BUILD_REQ(const string &strData, PKT_CLIGS_OPEN_SCIENCE_BUILD_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SCIENCE_BUILD_REQ(root, data);
}
INT32 EncodeDT_SCIENCE_ALREADY_OPEN_DATA(void *pHost, CNetData* poNetData)
{
	DT_SCIENCE_ALREADY_OPEN_DATA *pstIn = (DT_SCIENCE_ALREADY_OPEN_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byKind))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wNextValue))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCostStory))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wNeedPlayerLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byMaxLevel))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_SCIENCE_ALREADY_OPEN_DATA(void *pHost, CNetData* poNetData)
{
	DT_SCIENCE_ALREADY_OPEN_DATA *pstOut = (DT_SCIENCE_ALREADY_OPEN_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byKind))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wNextValue))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCostStory))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wNeedPlayerLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byMaxLevel))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_SCIENCE_ALREADY_OPEN_DATA(DT_SCIENCE_ALREADY_OPEN_DATA &data)
{
	Json::Value root;
	root["Kind"]=data.byKind;
	root["Level"]=data.wLevel;
	root["CurValue"]=data.wCurValue;
	root["NextValue"]=data.wNextValue;
	root["CostStory"]=data.wCostStory;
	root["NeedPlayerLevel"]=data.wNeedPlayerLevel;
	root["MaxLevel"]=data.byMaxLevel;

	return root;
}
BOOL FromJsonDT_SCIENCE_ALREADY_OPEN_DATA(Json::Value &root, DT_SCIENCE_ALREADY_OPEN_DATA &data)
{
	data.byKind=root["Kind"].asUInt();
	data.wLevel=root["Level"].asUInt();
	data.wCurValue=root["CurValue"].asUInt();
	data.wNextValue=root["NextValue"].asUInt();
	data.wCostStory=root["CostStory"].asUInt();
	data.wNeedPlayerLevel=root["NeedPlayerLevel"].asUInt();
	data.byMaxLevel=root["MaxLevel"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_SCIENCE_ALREADY_OPEN_DATA(const string &strData, DT_SCIENCE_ALREADY_OPEN_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_SCIENCE_ALREADY_OPEN_DATA(root, data);
}
INT32 EncodeDT_SCIENCE_WILL_OPEN_DATA(void *pHost, CNetData* poNetData)
{
	DT_SCIENCE_WILL_OPEN_DATA *pstIn = (DT_SCIENCE_WILL_OPEN_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byKind))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wOpenLevel))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wLv1Value))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCostStory))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_SCIENCE_WILL_OPEN_DATA(void *pHost, CNetData* poNetData)
{
	DT_SCIENCE_WILL_OPEN_DATA *pstOut = (DT_SCIENCE_WILL_OPEN_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byKind))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wOpenLevel))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wLv1Value))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCostStory))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_SCIENCE_WILL_OPEN_DATA(DT_SCIENCE_WILL_OPEN_DATA &data)
{
	Json::Value root;
	root["Kind"]=data.byKind;
	root["OpenLevel"]=data.wOpenLevel;
	root["Lv1Value"]=data.wLv1Value;
	root["CostStory"]=data.wCostStory;

	return root;
}
BOOL FromJsonDT_SCIENCE_WILL_OPEN_DATA(Json::Value &root, DT_SCIENCE_WILL_OPEN_DATA &data)
{
	data.byKind=root["Kind"].asUInt();
	data.wOpenLevel=root["OpenLevel"].asUInt();
	data.wLv1Value=root["Lv1Value"].asUInt();
	data.wCostStory=root["CostStory"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_SCIENCE_WILL_OPEN_DATA(const string &strData, DT_SCIENCE_WILL_OPEN_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_SCIENCE_WILL_OPEN_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_SCIENCE_BUILD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK *pstIn = (PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurStory))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byAlreadyOpenScienceNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SCIENCE_KIND_NUM; i++)
	{
		if(i >= (INT32)pstIn->byAlreadyOpenScienceNum)
			break;
		if(-1 == EncodeDT_SCIENCE_ALREADY_OPEN_DATA(&pstIn->astAlreadyOpenScienceList[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->AddByte(pstIn->byWillOpenScienceNum))
		return -1;

	for(i = 0; i < MAX_SCIENCE_KIND_NUM; i++)
	{
		if(i >= (INT32)pstIn->byWillOpenScienceNum)
			break;
		if(-1 == EncodeDT_SCIENCE_WILL_OPEN_DATA(&pstIn->astWillOpenScienceList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_SCIENCE_BUILD_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK *pstOut = (PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurStory))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byAlreadyOpenScienceNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_SCIENCE_KIND_NUM; i++)
	{
		if(i >= (INT32)pstOut->byAlreadyOpenScienceNum)
			break;
		if(-1 == DecodeDT_SCIENCE_ALREADY_OPEN_DATA(&pstOut->astAlreadyOpenScienceList[i], poNetData))
			return -1;
	}

	if(-1 == poNetData->DelByte(pstOut->byWillOpenScienceNum))
		return -1;

	for(i = 0; i < MAX_SCIENCE_KIND_NUM; i++)
	{
		if(i >= (INT32)pstOut->byWillOpenScienceNum)
			break;
		if(-1 == DecodeDT_SCIENCE_WILL_OPEN_DATA(&pstOut->astWillOpenScienceList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_SCIENCE_BUILD_ACK(PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurStory;
	ssqwCurStory<<data.qwCurStory;
	root["CurStory"]=ssqwCurStory.str();
	root["AlreadyOpenScienceNum"]=data.byAlreadyOpenScienceNum;
	for( UINT32 dwIndex=0; dwIndex<data.byAlreadyOpenScienceNum; ++dwIndex)
	{
	root["AlreadyOpenScienceList"].append( GetJsonDT_SCIENCE_ALREADY_OPEN_DATA(data.astAlreadyOpenScienceList[dwIndex]) );
	}
	root["WillOpenScienceNum"]=data.byWillOpenScienceNum;
	for( UINT32 dwIndex=0; dwIndex<data.byWillOpenScienceNum; ++dwIndex)
	{
	root["WillOpenScienceList"].append( GetJsonDT_SCIENCE_WILL_OPEN_DATA(data.astWillOpenScienceList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_SCIENCE_BUILD_ACK(Json::Value &root, PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurStory=SDAtou64( root["CurStory"].asCString() );
	data.byAlreadyOpenScienceNum=root["AlreadyOpenScienceNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byAlreadyOpenScienceNum; ++dwIndex)
	{
		FromJsonDT_SCIENCE_ALREADY_OPEN_DATA(root["AlreadyOpenScienceList"][dwIndex] , data.astAlreadyOpenScienceList[dwIndex] );
	}	data.byWillOpenScienceNum=root["WillOpenScienceNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byWillOpenScienceNum; ++dwIndex)
	{
		FromJsonDT_SCIENCE_WILL_OPEN_DATA(root["WillOpenScienceList"][dwIndex] , data.astWillOpenScienceList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_SCIENCE_BUILD_ACK(const string &strData, PKT_CLIGS_OPEN_SCIENCE_BUILD_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_SCIENCE_BUILD_ACK(root, data);
}
INT32 EncodePKT_CLIGS_UPDATE_SCIENCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPDATE_SCIENCE_REQ *pstIn = (PKT_CLIGS_UPDATE_SCIENCE_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wCurLevel))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byKind))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPDATE_SCIENCE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPDATE_SCIENCE_REQ *pstOut = (PKT_CLIGS_UPDATE_SCIENCE_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wCurLevel))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byKind))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPDATE_SCIENCE_REQ(PKT_CLIGS_UPDATE_SCIENCE_REQ &data)
{
	Json::Value root;
	root["CurLevel"]=data.wCurLevel;
	root["Kind"]=data.byKind;

	return root;
}
BOOL FromJsonPKT_CLIGS_UPDATE_SCIENCE_REQ(Json::Value &root, PKT_CLIGS_UPDATE_SCIENCE_REQ &data)
{
	data.wCurLevel=root["CurLevel"].asUInt();
	data.byKind=root["Kind"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPDATE_SCIENCE_REQ(const string &strData, PKT_CLIGS_UPDATE_SCIENCE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPDATE_SCIENCE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_UPDATE_SCIENCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPDATE_SCIENCE_ACK *pstIn = (PKT_CLIGS_UPDATE_SCIENCE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrorCode))
		return -1;

	if(-1 == EncodeDT_SCIENCE_ALREADY_OPEN_DATA(&pstIn->stUpdatedData, poNetData))
		return -1;

	if(-1 == EncodeDT_POWER_CHANGE_DATA(&pstIn->stPower, poNetData))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurStory))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPDATE_SCIENCE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPDATE_SCIENCE_ACK *pstOut = (PKT_CLIGS_UPDATE_SCIENCE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrorCode))
		return -1;

	if(-1 == DecodeDT_SCIENCE_ALREADY_OPEN_DATA(&pstOut->stUpdatedData, poNetData))
		return -1;

	if(-1 == DecodeDT_POWER_CHANGE_DATA(&pstOut->stPower, poNetData))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurStory))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPDATE_SCIENCE_ACK(PKT_CLIGS_UPDATE_SCIENCE_ACK &data)
{
	Json::Value root;
	root["ErrorCode"]=data.wErrorCode;
	root["UpdatedData"]=GetJsonDT_SCIENCE_ALREADY_OPEN_DATA(data.stUpdatedData);
	root["Power"]=GetJsonDT_POWER_CHANGE_DATA(data.stPower);
	ostringstream ssqwCurStory;
	ssqwCurStory<<data.qwCurStory;
	root["CurStory"]=ssqwCurStory.str();
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_UPDATE_SCIENCE_ACK(Json::Value &root, PKT_CLIGS_UPDATE_SCIENCE_ACK &data)
{
	data.wErrorCode=root["ErrorCode"].asUInt();
	FromJsonDT_SCIENCE_ALREADY_OPEN_DATA(root["UpdatedData"] , data.stUpdatedData);
	FromJsonDT_POWER_CHANGE_DATA(root["Power"] , data.stPower);
	data.qwCurStory=SDAtou64( root["CurStory"].asCString() );
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPDATE_SCIENCE_ACK(const string &strData, PKT_CLIGS_UPDATE_SCIENCE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPDATE_SCIENCE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_MELT_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MELT_EQUIP_REQ *pstIn = (PKT_CLIGS_OPEN_MELT_EQUIP_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_MELT_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MELT_EQUIP_REQ *pstOut = (PKT_CLIGS_OPEN_MELT_EQUIP_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_MELT_EQUIP_REQ(PKT_CLIGS_OPEN_MELT_EQUIP_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_MELT_EQUIP_REQ(Json::Value &root, PKT_CLIGS_OPEN_MELT_EQUIP_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_MELT_EQUIP_REQ(const string &strData, PKT_CLIGS_OPEN_MELT_EQUIP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_MELT_EQUIP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_MELT_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MELT_EQUIP_ACK *pstIn = (PKT_CLIGS_OPEN_MELT_EQUIP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrorCode))
		return -1;

	if(-1 == EncodeDT_EQUIP_DATA_LST_CLI(&pstIn->stEquipDataLstCli, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_MELT_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_MELT_EQUIP_ACK *pstOut = (PKT_CLIGS_OPEN_MELT_EQUIP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrorCode))
		return -1;

	if(-1 == DecodeDT_EQUIP_DATA_LST_CLI(&pstOut->stEquipDataLstCli, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_MELT_EQUIP_ACK(PKT_CLIGS_OPEN_MELT_EQUIP_ACK &data)
{
	Json::Value root;
	root["ErrorCode"]=data.wErrorCode;
	root["EquipDataLstCli"]=GetJsonDT_EQUIP_DATA_LST_CLI(data.stEquipDataLstCli);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_MELT_EQUIP_ACK(Json::Value &root, PKT_CLIGS_OPEN_MELT_EQUIP_ACK &data)
{
	data.wErrorCode=root["ErrorCode"].asUInt();
	FromJsonDT_EQUIP_DATA_LST_CLI(root["EquipDataLstCli"] , data.stEquipDataLstCli);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_MELT_EQUIP_ACK(const string &strData, PKT_CLIGS_OPEN_MELT_EQUIP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_MELT_EQUIP_ACK(root, data);
}
INT32 EncodeDT_MELT_EQUIP_DATA(void *pHost, CNetData* poNetData)
{
	DT_MELT_EQUIP_DATA *pstIn = (DT_MELT_EQUIP_DATA*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wEquipID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wIdx))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_MELT_EQUIP_DATA(void *pHost, CNetData* poNetData)
{
	DT_MELT_EQUIP_DATA *pstOut = (DT_MELT_EQUIP_DATA*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wEquipID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wIdx))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_MELT_EQUIP_DATA(DT_MELT_EQUIP_DATA &data)
{
	Json::Value root;
	root["EquipID"]=data.wEquipID;
	root["Idx"]=data.wIdx;

	return root;
}
BOOL FromJsonDT_MELT_EQUIP_DATA(Json::Value &root, DT_MELT_EQUIP_DATA &data)
{
	data.wEquipID=root["EquipID"].asUInt();
	data.wIdx=root["Idx"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_MELT_EQUIP_DATA(const string &strData, DT_MELT_EQUIP_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_MELT_EQUIP_DATA(root, data);
}
INT32 EncodePKT_CLIGS_MELT_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MELT_EQUIP_REQ *pstIn = (PKT_CLIGS_MELT_EQUIP_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstIn->wEquipNum)
			break;
		if(-1 == EncodeDT_MELT_EQUIP_DATA(&pstIn->astMeltEquipDataList[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_MELT_EQUIP_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MELT_EQUIP_REQ *pstOut = (PKT_CLIGS_MELT_EQUIP_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wEquipNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_BAG_OPEN_NUM; i++)
	{
		if(i >= (INT32)pstOut->wEquipNum)
			break;
		if(-1 == DecodeDT_MELT_EQUIP_DATA(&pstOut->astMeltEquipDataList[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_MELT_EQUIP_REQ(PKT_CLIGS_MELT_EQUIP_REQ &data)
{
	Json::Value root;
	root["EquipNum"]=data.wEquipNum;
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
	root["MeltEquipDataList"].append( GetJsonDT_MELT_EQUIP_DATA(data.astMeltEquipDataList[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_MELT_EQUIP_REQ(Json::Value &root, PKT_CLIGS_MELT_EQUIP_REQ &data)
{
	data.wEquipNum=root["EquipNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.wEquipNum; ++dwIndex)
	{
		FromJsonDT_MELT_EQUIP_DATA(root["MeltEquipDataList"][dwIndex] , data.astMeltEquipDataList[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_MELT_EQUIP_REQ(const string &strData, PKT_CLIGS_MELT_EQUIP_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_MELT_EQUIP_REQ(root, data);
}
INT32 EncodePKT_CLIGS_MELT_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MELT_EQUIP_ACK *pstIn = (PKT_CLIGS_MELT_EQUIP_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrorCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwScience))
		return -1;

	if(-1 == EncodeDT_EQUIP_DATA_LST_CLI(&pstIn->stEquipDataLstCli, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_FUNC_PROMPT_DATA(&pstIn->stPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_MELT_EQUIP_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_MELT_EQUIP_ACK *pstOut = (PKT_CLIGS_MELT_EQUIP_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrorCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwScience))
		return -1;

	if(-1 == DecodeDT_EQUIP_DATA_LST_CLI(&pstOut->stEquipDataLstCli, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_FUNC_PROMPT_DATA(&pstOut->stPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_MELT_EQUIP_ACK(PKT_CLIGS_MELT_EQUIP_ACK &data)
{
	Json::Value root;
	root["ErrorCode"]=data.wErrorCode;
	ostringstream ssqwScience;
	ssqwScience<<data.qwScience;
	root["Science"]=ssqwScience.str();
	root["EquipDataLstCli"]=GetJsonDT_EQUIP_DATA_LST_CLI(data.stEquipDataLstCli);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["PromptInfo"]=GetJsonDT_FUNC_PROMPT_DATA(data.stPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_MELT_EQUIP_ACK(Json::Value &root, PKT_CLIGS_MELT_EQUIP_ACK &data)
{
	data.wErrorCode=root["ErrorCode"].asUInt();
	data.qwScience=SDAtou64( root["Science"].asCString() );
	FromJsonDT_EQUIP_DATA_LST_CLI(root["EquipDataLstCli"] , data.stEquipDataLstCli);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_FUNC_PROMPT_DATA(root["PromptInfo"] , data.stPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_MELT_EQUIP_ACK(const string &strData, PKT_CLIGS_MELT_EQUIP_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_MELT_EQUIP_ACK(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ *pstIn = (PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byAttrKind))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ *pstOut = (PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byAttrKind))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ(PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["AttrKind"]=data.byAttrKind;

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ(Json::Value &root, PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.byAttrKind=root["AttrKind"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ(const string &strData, PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_REQ(root, data);
}
INT32 EncodeDT_UPDATE_ATTR_DATA(void *pHost, CNetData* poNetData)
{
	DT_UPDATE_ATTR_DATA *pstIn = (DT_UPDATE_ATTR_DATA*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byAttrKind))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurCount))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wTotalCount))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCurLevelValue))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwNextLevelValue))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCostCoin))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwCostItemNum))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurCoinNum))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwItemID))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwItemNum))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_UPDATE_ATTR_DATA(void *pHost, CNetData* poNetData)
{
	DT_UPDATE_ATTR_DATA *pstOut = (DT_UPDATE_ATTR_DATA*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byAttrKind))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurCount))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wTotalCount))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCurLevelValue))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwNextLevelValue))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCostCoin))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwCostItemNum))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurCoinNum))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwItemID))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwItemNum))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_UPDATE_ATTR_DATA(DT_UPDATE_ATTR_DATA &data)
{
	Json::Value root;
	root["AttrKind"]=data.byAttrKind;
	root["CurCount"]=data.wCurCount;
	root["TotalCount"]=data.wTotalCount;
	root["CurLevelValue"]=data.dwCurLevelValue;
	root["NextLevelValue"]=data.dwNextLevelValue;
	root["CostCoin"]=data.dwCostCoin;
	root["CostItemNum"]=data.dwCostItemNum;
	ostringstream ssqwCurCoinNum;
	ssqwCurCoinNum<<data.qwCurCoinNum;
	root["CurCoinNum"]=ssqwCurCoinNum.str();
	root["ItemID"]=data.dwItemID;
	root["ItemNum"]=data.dwItemNum;

	return root;
}
BOOL FromJsonDT_UPDATE_ATTR_DATA(Json::Value &root, DT_UPDATE_ATTR_DATA &data)
{
	data.byAttrKind=root["AttrKind"].asUInt();
	data.wCurCount=root["CurCount"].asUInt();
	data.wTotalCount=root["TotalCount"].asUInt();
	data.dwCurLevelValue=root["CurLevelValue"].asUInt();
	data.dwNextLevelValue=root["NextLevelValue"].asUInt();
	data.dwCostCoin=root["CostCoin"].asUInt();
	data.dwCostItemNum=root["CostItemNum"].asUInt();
	data.qwCurCoinNum=SDAtou64( root["CurCoinNum"].asCString() );
	data.dwItemID=root["ItemID"].asUInt();
	data.dwItemNum=root["ItemNum"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_UPDATE_ATTR_DATA(const string &strData, DT_UPDATE_ATTR_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_UPDATE_ATTR_DATA(root, data);
}
INT32 EncodePKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK *pstIn = (PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrorCode))
		return -1;

	if(-1 == EncodeDT_UPDATE_ATTR_DATA(&pstIn->stUpdateAttr, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK *pstOut = (PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrorCode))
		return -1;

	if(-1 == DecodeDT_UPDATE_ATTR_DATA(&pstOut->stUpdateAttr, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK(PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK &data)
{
	Json::Value root;
	root["ErrorCode"]=data.wErrorCode;
	root["UpdateAttr"]=GetJsonDT_UPDATE_ATTR_DATA(data.stUpdateAttr);

	return root;
}
BOOL FromJsonPKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK(Json::Value &root, PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK &data)
{
	data.wErrorCode=root["ErrorCode"].asUInt();
	FromJsonDT_UPDATE_ATTR_DATA(root["UpdateAttr"] , data.stUpdateAttr);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK(const string &strData, PKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_OPEN_UPDATE_ATTR_PANNEL_ACK(root, data);
}
INT32 EncodePKT_CLIGS_UPDATE_ATTR_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPDATE_ATTR_REQ *pstIn = (PKT_CLIGS_UPDATE_ATTR_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wCurCount))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byAttrType))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byUpdateType))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPDATE_ATTR_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPDATE_ATTR_REQ *pstOut = (PKT_CLIGS_UPDATE_ATTR_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wCurCount))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byAttrType))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byUpdateType))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPDATE_ATTR_REQ(PKT_CLIGS_UPDATE_ATTR_REQ &data)
{
	Json::Value root;
	root["KindID"]=data.wKindID;
	root["CurCount"]=data.wCurCount;
	root["AttrType"]=data.byAttrType;
	root["UpdateType"]=data.byUpdateType;

	return root;
}
BOOL FromJsonPKT_CLIGS_UPDATE_ATTR_REQ(Json::Value &root, PKT_CLIGS_UPDATE_ATTR_REQ &data)
{
	data.wKindID=root["KindID"].asUInt();
	data.wCurCount=root["CurCount"].asUInt();
	data.byAttrType=root["AttrType"].asUInt();
	data.byUpdateType=root["UpdateType"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPDATE_ATTR_REQ(const string &strData, PKT_CLIGS_UPDATE_ATTR_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPDATE_ATTR_REQ(root, data);
}
INT32 EncodeDT_UPDATED_ATTR_BATTLE_DATA(void *pHost, CNetData* poNetData)
{
	DT_UPDATED_ATTR_BATTLE_DATA *pstIn = (DT_UPDATED_ATTR_BATTLE_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwOldTotalPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwTotalPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwSelfOldPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwSelfPower))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwHPValue))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwAttackValue))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodeDT_UPDATED_ATTR_BATTLE_DATA(void *pHost, CNetData* poNetData)
{
	DT_UPDATED_ATTR_BATTLE_DATA *pstOut = (DT_UPDATED_ATTR_BATTLE_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwOldTotalPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwTotalPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwSelfOldPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwSelfPower))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwHPValue))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwAttackValue))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonDT_UPDATED_ATTR_BATTLE_DATA(DT_UPDATED_ATTR_BATTLE_DATA &data)
{
	Json::Value root;
	root["OldTotalPower"]=data.dwOldTotalPower;
	root["TotalPower"]=data.dwTotalPower;
	root["SelfOldPower"]=data.dwSelfOldPower;
	root["SelfPower"]=data.dwSelfPower;
	root["HPValue"]=data.dwHPValue;
	root["AttackValue"]=data.dwAttackValue;

	return root;
}
BOOL FromJsonDT_UPDATED_ATTR_BATTLE_DATA(Json::Value &root, DT_UPDATED_ATTR_BATTLE_DATA &data)
{
	data.dwOldTotalPower=root["OldTotalPower"].asUInt();
	data.dwTotalPower=root["TotalPower"].asUInt();
	data.dwSelfOldPower=root["SelfOldPower"].asUInt();
	data.dwSelfPower=root["SelfPower"].asUInt();
	data.dwHPValue=root["HPValue"].asUInt();
	data.dwAttackValue=root["AttackValue"].asUInt();

	return TRUE;
}
BOOL FromJsonDT_UPDATED_ATTR_BATTLE_DATA(const string &strData, DT_UPDATED_ATTR_BATTLE_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonDT_UPDATED_ATTR_BATTLE_DATA(root, data);
}
INT32 EncodePKT_CLIGS_UPDATE_ATTR_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPDATE_ATTR_ACK *pstIn = (PKT_CLIGS_UPDATE_ATTR_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrorCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wKindID))
		return -1;

	if(-1 == EncodeDT_UPDATE_ATTR_DATA(&pstIn->stAttrRet, poNetData))
		return -1;

	if(-1 == EncodeDT_UPDATED_ATTR_BATTLE_DATA(&pstIn->stBattleInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_UPDATE_ATTR_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_UPDATE_ATTR_ACK *pstOut = (PKT_CLIGS_UPDATE_ATTR_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrorCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wKindID))
		return -1;

	if(-1 == DecodeDT_UPDATE_ATTR_DATA(&pstOut->stAttrRet, poNetData))
		return -1;

	if(-1 == DecodeDT_UPDATED_ATTR_BATTLE_DATA(&pstOut->stBattleInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_UPDATE_ATTR_ACK(PKT_CLIGS_UPDATE_ATTR_ACK &data)
{
	Json::Value root;
	root["ErrorCode"]=data.wErrorCode;
	root["KindID"]=data.wKindID;
	root["AttrRet"]=GetJsonDT_UPDATE_ATTR_DATA(data.stAttrRet);
	root["BattleInfo"]=GetJsonDT_UPDATED_ATTR_BATTLE_DATA(data.stBattleInfo);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);

	return root;
}
BOOL FromJsonPKT_CLIGS_UPDATE_ATTR_ACK(Json::Value &root, PKT_CLIGS_UPDATE_ATTR_ACK &data)
{
	data.wErrorCode=root["ErrorCode"].asUInt();
	data.wKindID=root["KindID"].asUInt();
	FromJsonDT_UPDATE_ATTR_DATA(root["AttrRet"] , data.stAttrRet);
	FromJsonDT_UPDATED_ATTR_BATTLE_DATA(root["BattleInfo"] , data.stBattleInfo);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_UPDATE_ATTR_ACK(const string &strData, PKT_CLIGS_UPDATE_ATTR_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_UPDATE_ATTR_ACK(root, data);
}
INT32 EncodePKT_CLIGS_COMPOSE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COMPOSE_REQ *pstIn = (PKT_CLIGS_COMPOSE_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wItemID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_COMPOSE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COMPOSE_REQ *pstOut = (PKT_CLIGS_COMPOSE_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wItemID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_COMPOSE_REQ(PKT_CLIGS_COMPOSE_REQ &data)
{
	Json::Value root;
	root["ItemID"]=data.wItemID;

	return root;
}
BOOL FromJsonPKT_CLIGS_COMPOSE_REQ(Json::Value &root, PKT_CLIGS_COMPOSE_REQ &data)
{
	data.wItemID=root["ItemID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_COMPOSE_REQ(const string &strData, PKT_CLIGS_COMPOSE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_COMPOSE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_COMPOSE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COMPOSE_ACK *pstIn = (PKT_CLIGS_COMPOSE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_ITEM_DATA_CLI2(&pstIn->stItemInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_ITEM_DATA_LIST_CLI2(&pstIn->stGoodsBagItemInfo, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	if(-1 == EncodeDT_NEW_EQUIP_PROMPT_DATA(&pstIn->stNewEquipPromptInfo, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_COMPOSE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_COMPOSE_ACK *pstOut = (PKT_CLIGS_COMPOSE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_ITEM_DATA_CLI2(&pstOut->stItemInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_ITEM_DATA_LIST_CLI2(&pstOut->stGoodsBagItemInfo, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	if(-1 == DecodeDT_NEW_EQUIP_PROMPT_DATA(&pstOut->stNewEquipPromptInfo, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_COMPOSE_ACK(PKT_CLIGS_COMPOSE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["ItemInfo"]=GetJsonDT_ITEM_DATA_CLI2(data.stItemInfo);
	root["GoodsBagItemInfo"]=GetJsonDT_ITEM_DATA_LIST_CLI2(data.stGoodsBagItemInfo);
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);
	root["NewEquipPromptInfo"]=GetJsonDT_NEW_EQUIP_PROMPT_DATA(data.stNewEquipPromptInfo);

	return root;
}
BOOL FromJsonPKT_CLIGS_COMPOSE_ACK(Json::Value &root, PKT_CLIGS_COMPOSE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_ITEM_DATA_CLI2(root["ItemInfo"] , data.stItemInfo);
	FromJsonDT_ITEM_DATA_LIST_CLI2(root["GoodsBagItemInfo"] , data.stGoodsBagItemInfo);
	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);
	FromJsonDT_NEW_EQUIP_PROMPT_DATA(root["NewEquipPromptInfo"] , data.stNewEquipPromptInfo);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_COMPOSE_ACK(const string &strData, PKT_CLIGS_COMPOSE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_COMPOSE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_REFRESH_ELITE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REFRESH_ELITE_REQ *pstIn = (PKT_CLIGS_REFRESH_ELITE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_REFRESH_ELITE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REFRESH_ELITE_REQ *pstOut = (PKT_CLIGS_REFRESH_ELITE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_REFRESH_ELITE_REQ(PKT_CLIGS_REFRESH_ELITE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_REFRESH_ELITE_REQ(Json::Value &root, PKT_CLIGS_REFRESH_ELITE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_REFRESH_ELITE_REQ(const string &strData, PKT_CLIGS_REFRESH_ELITE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_REFRESH_ELITE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_REFRESH_ELITE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REFRESH_ELITE_ACK *pstIn = (PKT_CLIGS_REFRESH_ELITE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwCurGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_REFRESH_ELITE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_REFRESH_ELITE_ACK *pstOut = (PKT_CLIGS_REFRESH_ELITE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwCurGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_REFRESH_ELITE_ACK(PKT_CLIGS_REFRESH_ELITE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwCurGold;
	ssqwCurGold<<data.qwCurGold;
	root["CurGold"]=ssqwCurGold.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_REFRESH_ELITE_ACK(Json::Value &root, PKT_CLIGS_REFRESH_ELITE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwCurGold=SDAtou64( root["CurGold"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_REFRESH_ELITE_ACK(const string &strData, PKT_CLIGS_REFRESH_ELITE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_REFRESH_ELITE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_ONHOOK_ELITE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ONHOOK_ELITE_REQ *pstIn = (PKT_CLIGS_ONHOOK_ELITE_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ONHOOK_ELITE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ONHOOK_ELITE_REQ *pstOut = (PKT_CLIGS_ONHOOK_ELITE_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ONHOOK_ELITE_REQ(PKT_CLIGS_ONHOOK_ELITE_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_ONHOOK_ELITE_REQ(Json::Value &root, PKT_CLIGS_ONHOOK_ELITE_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ONHOOK_ELITE_REQ(const string &strData, PKT_CLIGS_ONHOOK_ELITE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ONHOOK_ELITE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_ONHOOK_ELITE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ONHOOK_ELITE_ACK *pstIn = (PKT_CLIGS_ONHOOK_ELITE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_ONHOOK_ELITE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_ONHOOK_ELITE_ACK *pstOut = (PKT_CLIGS_ONHOOK_ELITE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_ONHOOK_ELITE_ACK(PKT_CLIGS_ONHOOK_ELITE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;

	return root;
}
BOOL FromJsonPKT_CLIGS_ONHOOK_ELITE_ACK(Json::Value &root, PKT_CLIGS_ONHOOK_ELITE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_ONHOOK_ELITE_ACK(const string &strData, PKT_CLIGS_ONHOOK_ELITE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_ONHOOK_ELITE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_GET_ITEM_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_ITEM_REQ *pstIn = (PKT_CLIGS_GET_ITEM_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wItemKindID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_ITEM_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_ITEM_REQ *pstOut = (PKT_CLIGS_GET_ITEM_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wItemKindID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_ITEM_REQ(PKT_CLIGS_GET_ITEM_REQ &data)
{
	Json::Value root;
	root["ItemKindID"]=data.wItemKindID;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_ITEM_REQ(Json::Value &root, PKT_CLIGS_GET_ITEM_REQ &data)
{
	data.wItemKindID=root["ItemKindID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_ITEM_REQ(const string &strData, PKT_CLIGS_GET_ITEM_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_ITEM_REQ(root, data);
}
INT32 EncodePKT_CLIGS_GET_ITEM_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_ITEM_ACK *pstIn = (PKT_CLIGS_GET_ITEM_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wItemKindID))
		return -1;

	if(-1 == poNetData->AddWord(pstIn->wItemNum))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byshop))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byTab))
		return -1;

	if(-1 == EncodeDT_INSTANCE_ID(&pstIn->stBurstInstance, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_ITEM_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_ITEM_ACK *pstOut = (PKT_CLIGS_GET_ITEM_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wItemKindID))
		return -1;

	if(-1 == poNetData->DelWord(pstOut->wItemNum))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byshop))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byTab))
		return -1;

	if(-1 == DecodeDT_INSTANCE_ID(&pstOut->stBurstInstance, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_ITEM_ACK(PKT_CLIGS_GET_ITEM_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["ItemKindID"]=data.wItemKindID;
	root["ItemNum"]=data.wItemNum;
	root["shop"]=data.byshop;
	root["Tab"]=data.byTab;
	root["BurstInstance"]=GetJsonDT_INSTANCE_ID(data.stBurstInstance);

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_ITEM_ACK(Json::Value &root, PKT_CLIGS_GET_ITEM_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.wItemKindID=root["ItemKindID"].asUInt();
	data.wItemNum=root["ItemNum"].asUInt();
	data.byshop=root["shop"].asUInt();
	data.byTab=root["Tab"].asUInt();
	FromJsonDT_INSTANCE_ID(root["BurstInstance"] , data.stBurstInstance);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_ITEM_ACK(const string &strData, PKT_CLIGS_GET_ITEM_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_ITEM_ACK(root, data);
}
INT32 EncodePKT_CLIGS_GET_ORDER_ID_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_ORDER_ID_REQ *pstIn = (PKT_CLIGS_GET_ORDER_ID_REQ*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byExt))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_ORDER_ID_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_ORDER_ID_REQ *pstOut = (PKT_CLIGS_GET_ORDER_ID_REQ*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byExt))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_ORDER_ID_REQ(PKT_CLIGS_GET_ORDER_ID_REQ &data)
{
	Json::Value root;
	root["Ext"]=data.byExt;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_ORDER_ID_REQ(Json::Value &root, PKT_CLIGS_GET_ORDER_ID_REQ &data)
{
	data.byExt=root["Ext"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_ORDER_ID_REQ(const string &strData, PKT_CLIGS_GET_ORDER_ID_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_ORDER_ID_REQ(root, data);
}
INT32 EncodePKT_CLIGS_GET_ORDER_ID_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_ORDER_ID_ACK *pstIn = (PKT_CLIGS_GET_ORDER_ID_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszOrderID, sizeof(pstIn->aszOrderID)))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_GET_ORDER_ID_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_GET_ORDER_ID_ACK *pstOut = (PKT_CLIGS_GET_ORDER_ID_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszOrderID, sizeof(pstOut->aszOrderID)))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_GET_ORDER_ID_ACK(PKT_CLIGS_GET_ORDER_ID_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["OrderID"]=data.aszOrderID;

	return root;
}
BOOL FromJsonPKT_CLIGS_GET_ORDER_ID_ACK(Json::Value &root, PKT_CLIGS_GET_ORDER_ID_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	strncpy( data.aszOrderID,root["OrderID"].asCString(),MAX_ORDER_ID_LEN);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_GET_ORDER_ID_ACK(const string &strData, PKT_CLIGS_GET_ORDER_ID_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_GET_ORDER_ID_ACK(root, data);
}
INT32 EncodePKT_CLIGS_EXCHANGE_RESULT(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EXCHANGE_RESULT *pstIn = (PKT_CLIGS_EXCHANGE_RESULT*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwGold))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwExchangeGold))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_EXCHANGE_RESULT(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_EXCHANGE_RESULT *pstOut = (PKT_CLIGS_EXCHANGE_RESULT*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwGold))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwExchangeGold))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_EXCHANGE_RESULT(PKT_CLIGS_EXCHANGE_RESULT &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	ostringstream ssqwGold;
	ssqwGold<<data.qwGold;
	root["Gold"]=ssqwGold.str();
	ostringstream ssqwExchangeGold;
	ssqwExchangeGold<<data.qwExchangeGold;
	root["ExchangeGold"]=ssqwExchangeGold.str();

	return root;
}
BOOL FromJsonPKT_CLIGS_EXCHANGE_RESULT(Json::Value &root, PKT_CLIGS_EXCHANGE_RESULT &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	data.qwGold=SDAtou64( root["Gold"].asCString() );
	data.qwExchangeGold=SDAtou64( root["ExchangeGold"].asCString() );

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_EXCHANGE_RESULT(const string &strData, PKT_CLIGS_EXCHANGE_RESULT &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_EXCHANGE_RESULT(root, data);
}
INT32 EncodePKT_CLIGS_SEED_COMPOSE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SEED_COMPOSE_REQ *pstIn = (PKT_CLIGS_SEED_COMPOSE_REQ*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wItemID))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SEED_COMPOSE_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SEED_COMPOSE_REQ *pstOut = (PKT_CLIGS_SEED_COMPOSE_REQ*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wItemID))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SEED_COMPOSE_REQ(PKT_CLIGS_SEED_COMPOSE_REQ &data)
{
	Json::Value root;
	root["ItemID"]=data.wItemID;

	return root;
}
BOOL FromJsonPKT_CLIGS_SEED_COMPOSE_REQ(Json::Value &root, PKT_CLIGS_SEED_COMPOSE_REQ &data)
{
	data.wItemID=root["ItemID"].asUInt();

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SEED_COMPOSE_REQ(const string &strData, PKT_CLIGS_SEED_COMPOSE_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SEED_COMPOSE_REQ(root, data);
}
INT32 EncodePKT_CLIGS_SEED_COMPOSE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SEED_COMPOSE_ACK *pstIn = (PKT_CLIGS_SEED_COMPOSE_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeDT_ITEM_DATA_CLI2(&pstIn->stItemInfo, poNetData))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byCropSeedNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CROP_SEED_NUM; i++)
	{
		if(i >= (INT32)pstIn->byCropSeedNum)
			break;
		if(-1 == EncodeDT_CROP_SEED_INFO_DATA(&pstIn->astCropSeedInfoList[i], poNetData))
			return -1;
	}

	if(-1 == EncodeDT_TASK_DATA_LIST_CLI(&pstIn->stTaskInfoList, poNetData))
		return -1;

	if(-1 == EncodeDT_TASK_COND_RECORD_LIST(&pstIn->stTaskRecordList, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_SEED_COMPOSE_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_SEED_COMPOSE_ACK *pstOut = (PKT_CLIGS_SEED_COMPOSE_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeDT_ITEM_DATA_CLI2(&pstOut->stItemInfo, poNetData))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byCropSeedNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CROP_SEED_NUM; i++)
	{
		if(i >= (INT32)pstOut->byCropSeedNum)
			break;
		if(-1 == DecodeDT_CROP_SEED_INFO_DATA(&pstOut->astCropSeedInfoList[i], poNetData))
			return -1;
	}

	if(-1 == DecodeDT_TASK_DATA_LIST_CLI(&pstOut->stTaskInfoList, poNetData))
		return -1;

	if(-1 == DecodeDT_TASK_COND_RECORD_LIST(&pstOut->stTaskRecordList, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_SEED_COMPOSE_ACK(PKT_CLIGS_SEED_COMPOSE_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["ItemInfo"]=GetJsonDT_ITEM_DATA_CLI2(data.stItemInfo);
	root["CropSeedNum"]=data.byCropSeedNum;
	for( UINT32 dwIndex=0; dwIndex<data.byCropSeedNum; ++dwIndex)
	{
	root["CropSeedInfoList"].append( GetJsonDT_CROP_SEED_INFO_DATA(data.astCropSeedInfoList[dwIndex]) );
	}
	root["TaskInfoList"]=GetJsonDT_TASK_DATA_LIST_CLI(data.stTaskInfoList);
	root["TaskRecordList"]=GetJsonDT_TASK_COND_RECORD_LIST(data.stTaskRecordList);

	return root;
}
BOOL FromJsonPKT_CLIGS_SEED_COMPOSE_ACK(Json::Value &root, PKT_CLIGS_SEED_COMPOSE_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonDT_ITEM_DATA_CLI2(root["ItemInfo"] , data.stItemInfo);
	data.byCropSeedNum=root["CropSeedNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byCropSeedNum; ++dwIndex)
	{
		FromJsonDT_CROP_SEED_INFO_DATA(root["CropSeedInfoList"][dwIndex] , data.astCropSeedInfoList[dwIndex] );
	}	FromJsonDT_TASK_DATA_LIST_CLI(root["TaskInfoList"] , data.stTaskInfoList);
	FromJsonDT_TASK_COND_RECORD_LIST(root["TaskRecordList"] , data.stTaskRecordList);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_SEED_COMPOSE_ACK(const string &strData, PKT_CLIGS_SEED_COMPOSE_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_SEED_COMPOSE_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CHAT_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHAT_REQ *pstIn = (PKT_CLIGS_CHAT_REQ*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerID))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byChatType))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwChatLen))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CHAT_CONTENT_NUM; i++)
	{
		if(i >= (INT32)pstIn->dwChatLen)
			break;
		if(-1 == poNetData->AddByte(pstIn->abyChatContent[i]))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CHAT_REQ(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHAT_REQ *pstOut = (PKT_CLIGS_CHAT_REQ*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerID))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byChatType))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwChatLen))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CHAT_CONTENT_NUM; i++)
	{
		if(i >= (INT32)pstOut->dwChatLen)
			break;
		if(-1 == poNetData->DelByte(pstOut->abyChatContent[i]))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CHAT_REQ(PKT_CLIGS_CHAT_REQ &data)
{
	Json::Value root;
	root["PlayerID"]=data.dwPlayerID;
	root["ChatType"]=data.byChatType;
	root["ChatLen"]=data.dwChatLen;
	for( UINT32 dwIndex=0; dwIndex<data.dwChatLen; ++dwIndex)
	{
	root["ChatContent"].append( data.abyChatContent[dwIndex]);
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_CHAT_REQ(Json::Value &root, PKT_CLIGS_CHAT_REQ &data)
{
	data.dwPlayerID=root["PlayerID"].asUInt();
	data.byChatType=root["ChatType"].asUInt();
	data.dwChatLen=root["ChatLen"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.dwChatLen; ++dwIndex)
	{
		data.abyChatContent[dwIndex]=BYTE(root["ChatContent"][dwIndex].asUInt() );
	}

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CHAT_REQ(const string &strData, PKT_CLIGS_CHAT_REQ &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CHAT_REQ(root, data);
}
INT32 EncodeCHAT_DATA(void *pHost, CNetData* poNetData)
{
	CHAT_DATA *pstIn = (CHAT_DATA*)pHost;

	if(-1 == poNetData->AddDword(pstIn->dwPlayerID))
		return -1;

	if(-1 == poNetData->AddTString(pstIn->aszUserName, sizeof(pstIn->aszUserName)))
		return -1;

	if(-1 == poNetData->AddByte(pstIn->byChatType))
		return -1;

	if(-1 == poNetData->AddUint64(pstIn->qwChatTime))
		return -1;

	if(-1 == poNetData->AddDword(pstIn->dwChatLen))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CHAT_CONTENT_NUM; i++)
	{
		if(i >= (INT32)pstIn->dwChatLen)
			break;
		if(-1 == poNetData->AddByte(pstIn->abyChatContent[i]))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodeCHAT_DATA(void *pHost, CNetData* poNetData)
{
	CHAT_DATA *pstOut = (CHAT_DATA*)pHost;

	if(-1 == poNetData->DelDword(pstOut->dwPlayerID))
		return -1;

	if(-1 == poNetData->DelTString(pstOut->aszUserName, sizeof(pstOut->aszUserName)))
		return -1;

	if(-1 == poNetData->DelByte(pstOut->byChatType))
		return -1;

	if(-1 == poNetData->DelUint64(pstOut->qwChatTime))
		return -1;

	if(-1 == poNetData->DelDword(pstOut->dwChatLen))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CHAT_CONTENT_NUM; i++)
	{
		if(i >= (INT32)pstOut->dwChatLen)
			break;
		if(-1 == poNetData->DelByte(pstOut->abyChatContent[i]))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonCHAT_DATA(CHAT_DATA &data)
{
	Json::Value root;
	root["PlayerID"]=data.dwPlayerID;
	root["UserName"]=data.aszUserName;
	root["ChatType"]=data.byChatType;
	ostringstream ssqwChatTime;
	ssqwChatTime<<data.qwChatTime;
	root["ChatTime"]=ssqwChatTime.str();
	root["ChatLen"]=data.dwChatLen;
	for( UINT32 dwIndex=0; dwIndex<data.dwChatLen; ++dwIndex)
	{
	root["ChatContent"].append( data.abyChatContent[dwIndex]);
	}

	return root;
}
BOOL FromJsonCHAT_DATA(Json::Value &root, CHAT_DATA &data)
{
	data.dwPlayerID=root["PlayerID"].asUInt();
	strncpy( data.aszUserName,root["UserName"].asCString(),USERNAME_LEN);
	data.byChatType=root["ChatType"].asUInt();
	data.qwChatTime=SDAtou64( root["ChatTime"].asCString() );
	data.dwChatLen=root["ChatLen"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.dwChatLen; ++dwIndex)
	{
		data.abyChatContent[dwIndex]=BYTE(root["ChatContent"][dwIndex].asUInt() );
	}

	return TRUE;
}
BOOL FromJsonCHAT_DATA(const string &strData, CHAT_DATA &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonCHAT_DATA(root, data);
}
INT32 EncodePKT_CLIGS_CHAT_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHAT_ACK *pstIn = (PKT_CLIGS_CHAT_ACK*)pHost;

	if(-1 == poNetData->AddWord(pstIn->wErrCode))
		return -1;

	if(-1 == EncodeCHAT_DATA(&pstIn->stChatData, poNetData))
		return -1;

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CHAT_ACK(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHAT_ACK *pstOut = (PKT_CLIGS_CHAT_ACK*)pHost;

	if(-1 == poNetData->DelWord(pstOut->wErrCode))
		return -1;

	if(-1 == DecodeCHAT_DATA(&pstOut->stChatData, poNetData))
		return -1;

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CHAT_ACK(PKT_CLIGS_CHAT_ACK &data)
{
	Json::Value root;
	root["ErrCode"]=data.wErrCode;
	root["ChatData"]=GetJsonCHAT_DATA(data.stChatData);

	return root;
}
BOOL FromJsonPKT_CLIGS_CHAT_ACK(Json::Value &root, PKT_CLIGS_CHAT_ACK &data)
{
	data.wErrCode=root["ErrCode"].asUInt();
	FromJsonCHAT_DATA(root["ChatData"] , data.stChatData);

	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CHAT_ACK(const string &strData, PKT_CLIGS_CHAT_ACK &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CHAT_ACK(root, data);
}
INT32 EncodePKT_CLIGS_CHAT_NTF(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHAT_NTF *pstIn = (PKT_CLIGS_CHAT_NTF*)pHost;

	if(-1 == poNetData->AddByte(pstIn->byChatNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CHAT_NUM; i++)
	{
		if(i >= (INT32)pstIn->byChatNum)
			break;
		if(-1 == EncodeCHAT_DATA(&pstIn->astChatData[i], poNetData))
			return -1;
	}

	return poNetData->GetDataLen();
}

INT32 DecodePKT_CLIGS_CHAT_NTF(void *pHost, CNetData* poNetData)
{
	PKT_CLIGS_CHAT_NTF *pstOut = (PKT_CLIGS_CHAT_NTF*)pHost;

	if(-1 == poNetData->DelByte(pstOut->byChatNum))
		return -1;

	INT32 i;
	for(i = 0; i < MAX_CHAT_NUM; i++)
	{
		if(i >= (INT32)pstOut->byChatNum)
			break;
		if(-1 == DecodeCHAT_DATA(&pstOut->astChatData[i], poNetData))
			return -1;
	}

	return sizeof(*pstOut);
}

Json::Value GetJsonPKT_CLIGS_CHAT_NTF(PKT_CLIGS_CHAT_NTF &data)
{
	Json::Value root;
	root["ChatNum"]=data.byChatNum;
	for( UINT32 dwIndex=0; dwIndex<data.byChatNum; ++dwIndex)
	{
	root["ChatData"].append( GetJsonCHAT_DATA(data.astChatData[dwIndex]) );
	}

	return root;
}
BOOL FromJsonPKT_CLIGS_CHAT_NTF(Json::Value &root, PKT_CLIGS_CHAT_NTF &data)
{
	data.byChatNum=root["ChatNum"].asUInt();
	for( UINT32 dwIndex=0; dwIndex<data.byChatNum; ++dwIndex)
	{
		FromJsonCHAT_DATA(root["ChatData"][dwIndex] , data.astChatData[dwIndex] );
	}
	return TRUE;
}
BOOL FromJsonPKT_CLIGS_CHAT_NTF(const string &strData, PKT_CLIGS_CHAT_NTF &data)
{
	Json::Value root;
	Json::Reader read;
	if( !read.parse( strData, root ) )
	{
		USR_IMPORTANT( _SDT( "json,%s" ), strData.c_str() );
		return FALSE;
	}
	return FromJsonPKT_CLIGS_CHAT_NTF(root, data);
}
